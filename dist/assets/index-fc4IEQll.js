(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function T1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Df={exports:{}},ql={};var kx;function o_(){if(kx)return ql;kx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:l}}return ql.Fragment=t,ql.jsx=e,ql.jsxs=e,ql}var _x;function c_(){return _x||(_x=1,Df.exports=o_()),Df.exports}var g=c_(),Af={exports:{}},It={};var Nx;function u_(){if(Nx)return It;Nx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function j(O,L,$){this.props=O,this.context=L,this.refs=N,this.updater=$||k}j.prototype.isReactComponent={},j.prototype.setState=function(O,L){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,L,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=j.prototype;function D(O,L,$){this.props=O,this.context=L,this.refs=N,this.updater=$||k}var U=D.prototype=new E;U.constructor=D,S(U,j.prototype),U.isPureReactComponent=!0;var A=Array.isArray;function F(){}var H={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function P(O,L,$){var lt=$.ref;return{$$typeof:n,type:O,key:L,ref:lt!==void 0?lt:null,props:$}}function et(O,L){return P(O.type,L,O.props)}function Q(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function J(O){var L={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return L[$]})}var it=/\/+/g;function st(O,L){return typeof O=="object"&&O!==null&&O.key!=null?J(""+O.key):L.toString(36)}function ut(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(F,F):(O.status="pending",O.then(function(L){O.status==="pending"&&(O.status="fulfilled",O.value=L)},function(L){O.status==="pending"&&(O.status="rejected",O.reason=L)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function V(O,L,$,lt,xt){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(gt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case n:case t:ht=!0;break;case m:return ht=O._init,V(ht(O._payload),L,$,lt,xt)}}if(ht)return xt=xt(O),ht=lt===""?"."+st(O,0):lt,A(xt)?($="",ht!=null&&($=ht.replace(it,"$&/")+"/"),V(xt,L,$,"",function(kt){return kt})):xt!=null&&(Q(xt)&&(xt=et(xt,$+(xt.key==null||O&&O.key===xt.key?"":(""+xt.key).replace(it,"$&/")+"/")+ht)),L.push(xt)),1;ht=0;var Tt=lt===""?".":lt+":";if(A(O))for(var wt=0;wt<O.length;wt++)lt=O[wt],gt=Tt+st(lt,wt),ht+=V(lt,L,$,gt,xt);else if(wt=v(O),typeof wt=="function")for(O=wt.call(O),wt=0;!(lt=O.next()).done;)lt=lt.value,gt=Tt+st(lt,wt++),ht+=V(lt,L,$,gt,xt);else if(gt==="object"){if(typeof O.then=="function")return V(ut(O),L,$,lt,xt);throw L=String(O),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ht}function Y(O,L,$){if(O==null)return O;var lt=[],xt=0;return V(O,lt,"","",function(gt){return L.call($,gt,xt++)}),lt}function ot(O){if(O._status===-1){var L=O._result;L=L(),L.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=L)}if(O._status===1)return O._result.default;throw O._result}var ft=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},bt={map:Y,forEach:function(O,L,$){Y(O,function(){L.apply(this,arguments)},$)},count:function(O){var L=0;return Y(O,function(){L++}),L},toArray:function(O){return Y(O,function(L){return L})||[]},only:function(O){if(!Q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return It.Activity=b,It.Children=bt,It.Component=j,It.Fragment=e,It.Profiler=r,It.PureComponent=D,It.StrictMode=i,It.Suspense=h,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,It.__COMPILER_RUNTIME={__proto__:null,c:function(O){return H.H.useMemoCache(O)}},It.cache=function(O){return function(){return O.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(O,L,$){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=S({},O.props),xt=O.key;if(L!=null)for(gt in L.key!==void 0&&(xt=""+L.key),L)!X.call(L,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&L.ref===void 0||(lt[gt]=L[gt]);var gt=arguments.length-2;if(gt===1)lt.children=$;else if(1<gt){for(var ht=Array(gt),Tt=0;Tt<gt;Tt++)ht[Tt]=arguments[Tt+2];lt.children=ht}return P(O.type,xt,lt)},It.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},It.createElement=function(O,L,$){var lt,xt={},gt=null;if(L!=null)for(lt in L.key!==void 0&&(gt=""+L.key),L)X.call(L,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(xt[lt]=L[lt]);var ht=arguments.length-2;if(ht===1)xt.children=$;else if(1<ht){for(var Tt=Array(ht),wt=0;wt<ht;wt++)Tt[wt]=arguments[wt+2];xt.children=Tt}if(O&&O.defaultProps)for(lt in ht=O.defaultProps,ht)xt[lt]===void 0&&(xt[lt]=ht[lt]);return P(O,gt,xt)},It.createRef=function(){return{current:null}},It.forwardRef=function(O){return{$$typeof:u,render:O}},It.isValidElement=Q,It.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ot}},It.memo=function(O,L){return{$$typeof:f,type:O,compare:L===void 0?null:L}},It.startTransition=function(O){var L=H.T,$={};H.T=$;try{var lt=O(),xt=H.S;xt!==null&&xt($,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(F,ft)}catch(gt){ft(gt)}finally{L!==null&&$.types!==null&&(L.types=$.types),H.T=L}},It.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},It.use=function(O){return H.H.use(O)},It.useActionState=function(O,L,$){return H.H.useActionState(O,L,$)},It.useCallback=function(O,L){return H.H.useCallback(O,L)},It.useContext=function(O){return H.H.useContext(O)},It.useDebugValue=function(){},It.useDeferredValue=function(O,L){return H.H.useDeferredValue(O,L)},It.useEffect=function(O,L){return H.H.useEffect(O,L)},It.useEffectEvent=function(O){return H.H.useEffectEvent(O)},It.useId=function(){return H.H.useId()},It.useImperativeHandle=function(O,L,$){return H.H.useImperativeHandle(O,L,$)},It.useInsertionEffect=function(O,L){return H.H.useInsertionEffect(O,L)},It.useLayoutEffect=function(O,L){return H.H.useLayoutEffect(O,L)},It.useMemo=function(O,L){return H.H.useMemo(O,L)},It.useOptimistic=function(O,L){return H.H.useOptimistic(O,L)},It.useReducer=function(O,L,$){return H.H.useReducer(O,L,$)},It.useRef=function(O){return H.H.useRef(O)},It.useState=function(O){return H.H.useState(O)},It.useSyncExternalStore=function(O,L,$){return H.H.useSyncExternalStore(O,L,$)},It.useTransition=function(){return H.H.useTransition()},It.version="19.2.0",It}var jx;function J0(){return jx||(jx=1,Af.exports=u_()),Af.exports}var _=J0();const $n=T1(_);var Rf={exports:{}},$l={},Of={exports:{}},zf={};var Mx;function h_(){return Mx||(Mx=1,(function(n){function t(V,Y){var ot=V.length;V.push(Y);t:for(;0<ot;){var ft=ot-1>>>1,bt=V[ft];if(0<r(bt,Y))V[ft]=Y,V[ot]=bt,ot=ft;else break t}}function e(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Y=V[0],ot=V.pop();if(ot!==Y){V[0]=ot;t:for(var ft=0,bt=V.length,O=bt>>>1;ft<O;){var L=2*(ft+1)-1,$=V[L],lt=L+1,xt=V[lt];if(0>r($,ot))lt<bt&&0>r(xt,$)?(V[ft]=xt,V[lt]=ot,ft=lt):(V[ft]=$,V[L]=ot,ft=L);else if(lt<bt&&0>r(xt,ot))V[ft]=xt,V[lt]=ot,ft=lt;else break t}}return Y}function r(V,Y){var ot=V.sortIndex-Y.sortIndex;return ot!==0?ot:V.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],f=[],m=1,b=null,y=3,v=!1,k=!1,S=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(V){for(var Y=e(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=V)i(f),Y.sortIndex=Y.expirationTime,t(h,Y);else break;Y=e(f)}}function A(V){if(S=!1,U(V),!k)if(e(h)!==null)k=!0,F||(F=!0,J());else{var Y=e(f);Y!==null&&ut(A,Y.startTime-V)}}var F=!1,H=-1,X=5,P=-1;function et(){return N?!0:!(n.unstable_now()-P<X)}function Q(){if(N=!1,F){var V=n.unstable_now();P=V;var Y=!0;try{t:{k=!1,S&&(S=!1,E(H),H=-1),v=!0;var ot=y;try{e:{for(U(V),b=e(h);b!==null&&!(b.expirationTime>V&&et());){var ft=b.callback;if(typeof ft=="function"){b.callback=null,y=b.priorityLevel;var bt=ft(b.expirationTime<=V);if(V=n.unstable_now(),typeof bt=="function"){b.callback=bt,U(V),Y=!0;break e}b===e(h)&&i(h),U(V)}else i(h);b=e(h)}if(b!==null)Y=!0;else{var O=e(f);O!==null&&ut(A,O.startTime-V),Y=!1}}break t}finally{b=null,y=ot,v=!1}Y=void 0}}finally{Y?J():F=!1}}}var J;if(typeof D=="function")J=function(){D(Q)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,st=it.port2;it.port1.onmessage=Q,J=function(){st.postMessage(null)}}else J=function(){j(Q,0)};function ut(V,Y){H=j(function(){V(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(V){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var ot=y;y=Y;try{return V()}finally{y=ot}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ot=y;y=V;try{return Y()}finally{y=ot}},n.unstable_scheduleCallback=function(V,Y,ot){var ft=n.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?ft+ot:ft):ot=ft,V){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=ot+bt,V={id:m++,callback:Y,priorityLevel:V,startTime:ot,expirationTime:bt,sortIndex:-1},ot>ft?(V.sortIndex=ot,t(f,V),e(h)===null&&V===e(f)&&(S?(E(H),H=-1):S=!0,ut(A,ot-ft))):(V.sortIndex=bt,t(h,V),k||v||(k=!0,F||(F=!0,J()))),V},n.unstable_shouldYield=et,n.unstable_wrapCallback=function(V){var Y=y;return function(){var ot=y;y=Y;try{return V.apply(this,arguments)}finally{y=ot}}}})(zf)),zf}var Cx;function d_(){return Cx||(Cx=1,Of.exports=h_()),Of.exports}var Lf={exports:{}},Mn={};var Ex;function f_(){if(Ex)return Mn;Ex=1;var n=J0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(h,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:h,containerInfo:f,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mn.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(h,f,null,m)},Mn.flushSync=function(h){var f=c.T,m=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=m,i.d.f()}},Mn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Mn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Mn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,b=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:v}):m==="script"&&i.d.X(h,{crossOrigin:b,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Mn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Mn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=u(m,f.crossOrigin);i.d.L(h,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Mn.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Mn.requestFormReset=function(h){i.d.r(h)},Mn.unstable_batchedUpdates=function(h,f){return h(f)},Mn.useFormState=function(h,f,m){return c.H.useFormState(h,f,m)},Mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mn.version="19.2.0",Mn}var Tx;function D1(){if(Tx)return Lf.exports;Tx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lf.exports=f_(),Lf.exports}var Dx;function g_(){if(Dx)return $l;Dx=1;var n=d_(),t=J0(),e=D1();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,o=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(o=a.return),s=a.return;while(s)}return a.tag===3?o:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(i(188));return a!==s?null:s}for(var o=s,d=a;;){var p=o.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===o)return h(p),s;if(x===d)return h(p),a;x=x.sibling}throw Error(i(188))}if(o.return!==d.return)o=p,d=x;else{for(var w=!1,C=p.child;C;){if(C===o){w=!0,o=p,d=x;break}if(C===d){w=!0,d=p,o=x;break}C=C.sibling}if(!w){for(C=x.child;C;){if(C===o){w=!0,o=x,d=p;break}if(C===d){w=!0,d=x,o=p;break}C=C.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var it=Symbol.for("react.client.reference");function st(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===it?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case F:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case D:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return a=s.displayName||null,a!==null?a:st(s.type)||"Memo";case X:a=s._payload,s=s._init;try{return st(s(a))}catch{}}return null}var ut=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},ft=[],bt=-1;function O(s){return{current:s}}function L(s){0>bt||(s.current=ft[bt],ft[bt]=null,bt--)}function $(s,a){bt++,ft[bt]=s.current,s.current=a}var lt=O(null),xt=O(null),gt=O(null),ht=O(null);function Tt(s,a){switch($(gt,a),$(xt,s),$(lt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?$b(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=$b(a),s=Wb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}L(lt),$(lt,s)}function wt(){L(lt),L(xt),L(gt)}function kt(s){s.memoizedState!==null&&$(ht,s);var a=lt.current,o=Wb(a,s.type);a!==o&&($(xt,s),$(lt,o))}function ct(s){xt.current===s&&(L(lt),L(xt)),ht.current===s&&(L(ht),Ul._currentValue=ot)}var vt,yt;function St(s){if(vt===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);vt=a&&a[1]||"",yt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+s+yt}var zt=!1;function Ht(s,a){if(!s||zt)return"";zt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(tt){var Z=tt}Reflect.construct(s,[],at)}else{try{at.call()}catch(tt){Z=tt}s.call(at.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),w=x[0],C=x[1];if(w&&C){var z=w.split(`
`),G=C.split(`
`);for(p=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(d===z.length||p===G.length)for(d=z.length-1,p=G.length-1;1<=d&&0<=p&&z[d]!==G[p];)p--;for(;1<=d&&0<=p;d--,p--)if(z[d]!==G[p]){if(d!==1||p!==1)do if(d--,p--,0>p||z[d]!==G[p]){var nt=`
`+z[d].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=d&&0<=p);break}}}finally{zt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?St(o):""}function Bt(s,a){switch(s.tag){case 26:case 27:case 5:return St(s.type);case 16:return St("Lazy");case 13:return s.child!==a&&a!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Ht(s.type,!1);case 11:return Ht(s.type.render,!1);case 1:return Ht(s.type,!0);case 31:return St("Activity");default:return""}}function Oe(s){try{var a="",o=null;do a+=Bt(s,o),o=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var fn=Object.prototype.hasOwnProperty,_e=n.unstable_scheduleCallback,re=n.unstable_cancelCallback,Dn=n.unstable_shouldYield,ae=n.unstable_requestPaint,Vt=n.unstable_now,Zn=n.unstable_getCurrentPriorityLevel,Kn=n.unstable_ImmediatePriority,tn=n.unstable_UserBlockingPriority,Ne=n.unstable_NormalPriority,cn=n.unstable_LowPriority,vn=n.unstable_IdlePriority,He=n.log,Te=n.unstable_setDisableYieldValue,di=null,en=null;function wn(s){if(typeof He=="function"&&Te(s),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(di,s)}catch{}}var Ve=Math.clz32?Math.clz32:pr,mr=Math.log,Ci=Math.LN2;function pr(s){return s>>>=0,s===0?32:31-(mr(s)/Ci|0)|0}var q=256,Yt=262144,_t=4194304;function Pt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xt(s,a,o){var d=s.pendingLanes;if(d===0)return 0;var p=0,x=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var C=d&134217727;return C!==0?(d=C&~x,d!==0?p=Pt(d):(w&=C,w!==0?p=Pt(w):o||(o=C&~s,o!==0&&(p=Pt(o))))):(C=d&~x,C!==0?p=Pt(C):w!==0?p=Pt(w):o||(o=d&~s,o!==0&&(p=Pt(o)))),p===0?0:a!==0&&a!==p&&(a&x)===0&&(x=p&-p,o=a&-a,x>=o||x===32&&(o&4194048)!==0)?a:p}function ue(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ze(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var s=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),s}function Ut(s){for(var a=[],o=0;31>o;o++)a.push(s);return a}function An(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ot(s,a,o,d,p,x){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,z=s.expirationTimes,G=s.hiddenUpdates;for(o=w&~o;0<o;){var nt=31-Ve(o),at=1<<nt;C[nt]=0,z[nt]=-1;var Z=G[nt];if(Z!==null)for(G[nt]=null,nt=0;nt<Z.length;nt++){var tt=Z[nt];tt!==null&&(tt.lane&=-536870913)}o&=~at}d!==0&&be(s,d,0),x!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=x&~(w&~a))}function be(s,a,o){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Ve(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|o&261930}function Sn(s,a){var o=s.entangledLanes|=a;for(s=s.entanglements;o;){var d=31-Ve(o),p=1<<d;p&a|s[d]&a&&(s[d]|=a),o&=~p}}function Rn(s,a){var o=a&-a;return o=(o&42)!==0?1:kn(o),(o&(s.suspendedLanes|a))!==0?0:o}function kn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function nn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sn(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:px(s.type))}function Ft(s,a){var o=Y.p;try{return Y.p=s,a()}finally{Y.p=o}}var xe=Math.random().toString(36).slice(2),le="__reactFiber$"+xe,fe="__reactProps$"+xe,Jn="__reactContainer$"+xe,ts="__reactEvents$"+xe,Cs="__reactListeners$"+xe,Ei="__reactHandles$"+xe,Ti="__reactResources$"+xe,_n="__reactMarker$"+xe;function Vi(s){delete s[le],delete s[fe],delete s[ts],delete s[Cs],delete s[Ei]}function Le(s){var a=s[le];if(a)return a;for(var o=s.parentNode;o;){if(a=o[Jn]||o[le]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(s=tx(s);s!==null;){if(o=s[le])return o;s=tx(s)}return a}s=o,o=s.parentNode}return null}function De(s){if(s=s[le]||s[Jn]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Ui(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Bn(s){var a=s[Ti];return a||(a=s[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $t(s){s[_n]=!0}var Di=new Set,ti={};function rn(s,a){Nn(s,a),Nn(s+"Capture",a)}function Nn(s,a){for(ti[s]=a,s=0;s<a.length;s++)Di.add(a[s])}var Ae=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jn={},Es={};function mt(s){return fn.call(Es,s)?!0:fn.call(jn,s)?!1:Ae.test(s)?Es[s]=!0:(jn[s]=!0,!1)}function Et(s,a,o){if(mt(a))if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+o)}}function Mt(s,a,o){if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+o)}}function ee(s,a,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(a,o,""+d)}}function Fe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function es(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fi(s,a,o){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,x=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,x.call(this,w)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ei(s){if(!s._valueTracker){var a=es(s)?"checked":"value";s._valueTracker=Fi(s,a,""+s[a])}}function Ts(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return s&&(d=es(s)?s.checked?"true":"false":s.value),s=d,s!==o?(a.setValue(s),!0):!1}function ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jh=/[\n"\\]/g;function On(s){return s.replace(jh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function br(s,a,o,d,p,x,w,C){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Fe(a)):s.value!==""+Fe(a)&&(s.value=""+Fe(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?il(s,w,Fe(a)):o!=null?il(s,w,Fe(o)):d!=null&&s.removeAttribute("value"),p==null&&x!=null&&(s.defaultChecked=!!x),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Fe(C):s.removeAttribute("name")}function nl(s,a,o,d,p,x,w,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),a!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){ei(s);return}o=o!=null?""+Fe(o):"",a=a!=null?""+Fe(a):o,C||a===s.value||(s.value=a),s.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ei(s)}function il(s,a,o){a==="number"&&ni(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ds(s,a,o,d){if(s=s.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=a.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&d&&(s[o].defaultSelected=!0)}else{for(o=""+Fe(o),a=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function M(s,a,o){if(a!=null&&(a=""+Fe(a),a!==s.value&&(s.value=a),o==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=o!=null?""+Fe(o):""}function T(s,a,o,d){if(a==null){if(d!=null){if(o!=null)throw Error(i(92));if(ut(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),a=o}o=Fe(a),s.defaultValue=o,d=s.textContent,d===o&&d!==""&&d!==null&&(s.value=d),ei(s)}function R(s,a){if(a){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=a;return}}s.textContent=a}var K=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dt(s,a,o){var d=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,o):typeof o!="number"||o===0||K.has(a)?a==="float"?s.cssFloat=o:s[a]=(""+o).trim():s[a]=o+"px"}function Nt(s,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&o[p]!==d&&dt(s,p,d)}else for(var x in a)a.hasOwnProperty(x)&&dt(s,x,a[x])}function Wt(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),an=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function We(s){return an.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ge(){}var Mh=null;function Ch(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zr=null,Kr=null;function qg(s){var a=De(s);if(a&&(s=a.stateNode)){var o=s[fe]||null;t:switch(s=a.stateNode,a.type){case"input":if(br(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+On(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==s&&d.form===s.form){var p=d[fe]||null;if(!p)throw Error(i(90));br(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)d=o[a],d.form===s.form&&Ts(d)}break t;case"textarea":M(s,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Ds(s,!!o.multiple,a,!1)}}}var Eh=!1;function $g(s,a,o){if(Eh)return s(a,o);Eh=!0;try{var d=s(a);return d}finally{if(Eh=!1,(Zr!==null||Kr!==null)&&(zc(),Zr&&(a=Zr,s=Kr,Kr=Zr=null,qg(a),s)))for(a=0;a<s.length;a++)qg(s[a])}}function sl(s,a){var o=s.stateNode;if(o===null)return null;var d=o[fe]||null;if(d===null)return null;o=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=!1;if(ns)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Th=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Th=!1}var As=null,Dh=null,Xo=null;function Wg(){if(Xo)return Xo;var s,a=Dh,o=a.length,d,p="value"in As?As.value:As.textContent,x=p.length;for(s=0;s<o&&a[s]===p[s];s++);var w=o-s;for(d=1;d<=w&&a[o-d]===p[x-d];d++);return Xo=p.slice(s,1<d?1-d:void 0)}function Qo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Zo(){return!0}function Gg(){return!1}function Hn(s){function a(o,d,p,x,w){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Zo:Gg,this.isPropagationStopped=Gg,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),a}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=Hn(xr),al=b({},xr,{view:0,detail:0}),aS=Hn(al),Ah,Rh,ll,Jo=b({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ll&&(ll&&s.type==="mousemove"?(Ah=s.screenX-ll.screenX,Rh=s.screenY-ll.screenY):Rh=Ah=0,ll=s),Ah)},movementY:function(s){return"movementY"in s?s.movementY:Rh}}),Xg=Hn(Jo),lS=b({},Jo,{dataTransfer:0}),oS=Hn(lS),cS=b({},al,{relatedTarget:0}),Oh=Hn(cS),uS=b({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=Hn(uS),dS=b({},xr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fS=Hn(dS),gS=b({},xr,{data:0}),Qg=Hn(gS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=bS[s])?!!a[s]:!1}function zh(){return xS}var yS=b({},al,{key:function(s){if(s.key){var a=mS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Qo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(s){return s.type==="keypress"?Qo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vS=Hn(yS),wS=b({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Hn(wS),SS=b({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),kS=Hn(SS),_S=b({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=Hn(_S),jS=b({},Jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),MS=Hn(jS),CS=b({},xr,{newState:0,oldState:0}),ES=Hn(CS),TS=[9,13,27,32],Lh=ns&&"CompositionEvent"in window,ol=null;ns&&"documentMode"in document&&(ol=document.documentMode);var DS=ns&&"TextEvent"in window&&!ol,Kg=ns&&(!Lh||ol&&8<ol&&11>=ol),Jg=" ",tm=!1;function em(s,a){switch(s){case"keyup":return TS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Jr=!1;function AS(s,a){switch(s){case"compositionend":return nm(a);case"keypress":return a.which!==32?null:(tm=!0,Jg);case"textInput":return s=a.data,s===Jg&&tm?null:s;default:return null}}function RS(s,a){if(Jr)return s==="compositionend"||!Lh&&em(s,a)?(s=Wg(),Xo=Dh=As=null,Jr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kg&&a.locale!=="ko"?null:a.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!OS[s.type]:a==="textarea"}function sm(s,a,o,d){Zr?Kr?Kr.push(d):Kr=[d]:Zr=d,a=Fc(a,"onChange"),0<a.length&&(o=new Ko("onChange","change",null,o,d),s.push({event:o,listeners:a}))}var cl=null,ul=null;function zS(s){Vb(s,0)}function tc(s){var a=Ui(s);if(Ts(a))return s}function rm(s,a){if(s==="change")return a}var am=!1;if(ns){var Ph;if(ns){var Bh="oninput"in document;if(!Bh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Bh=typeof lm.oninput=="function"}Ph=Bh}else Ph=!1;am=Ph&&(!document.documentMode||9<document.documentMode)}function om(){cl&&(cl.detachEvent("onpropertychange",cm),ul=cl=null)}function cm(s){if(s.propertyName==="value"&&tc(ul)){var a=[];sm(a,ul,s,Ch(s)),$g(zS,a)}}function LS(s,a,o){s==="focusin"?(om(),cl=a,ul=o,cl.attachEvent("onpropertychange",cm)):s==="focusout"&&om()}function PS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tc(ul)}function BS(s,a){if(s==="click")return tc(a)}function HS(s,a){if(s==="input"||s==="change")return tc(a)}function VS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ii=typeof Object.is=="function"?Object.is:VS;function hl(s,a){if(ii(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var o=Object.keys(s),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!fn.call(a,p)||!ii(s[p],a[p]))return!1}return!0}function um(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hm(s,a){var o=um(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=a&&d>=a)return{node:o,offset:a-s};s=d}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=um(o)}}function dm(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dm(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function fm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ni(s.document);a instanceof s.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)s=a.contentWindow;else break;a=ni(s.document)}return a}function Hh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var US=ns&&"documentMode"in document&&11>=document.documentMode,ta=null,Vh=null,dl=null,Uh=!1;function gm(s,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uh||ta==null||ta!==ni(d)||(d=ta,"selectionStart"in d&&Hh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),dl&&hl(dl,d)||(dl=d,d=Fc(Vh,"onSelect"),0<d.length&&(a=new Ko("onSelect","select",null,a,o),s.push({event:a,listeners:d}),a.target=ta)))}function yr(s,a){var o={};return o[s.toLowerCase()]=a.toLowerCase(),o["Webkit"+s]="webkit"+a,o["Moz"+s]="moz"+a,o}var ea={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Fh={},mm={};ns&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function vr(s){if(Fh[s])return Fh[s];if(!ea[s])return s;var a=ea[s],o;for(o in a)if(a.hasOwnProperty(o)&&o in mm)return Fh[s]=a[o];return s}var pm=vr("animationend"),bm=vr("animationiteration"),xm=vr("animationstart"),FS=vr("transitionrun"),IS=vr("transitionstart"),YS=vr("transitioncancel"),ym=vr("transitionend"),vm=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Ai(s,a){vm.set(s,a),rn(a,[s])}var ec=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fi=[],na=0,Yh=0;function nc(){for(var s=na,a=Yh=na=0;a<s;){var o=fi[a];fi[a++]=null;var d=fi[a];fi[a++]=null;var p=fi[a];fi[a++]=null;var x=fi[a];if(fi[a++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}x!==0&&wm(o,p,x)}}function ic(s,a,o,d){fi[na++]=s,fi[na++]=a,fi[na++]=o,fi[na++]=d,Yh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function qh(s,a,o,d){return ic(s,a,o,d),sc(s)}function wr(s,a){return ic(s,null,null,a),sc(s)}function wm(s,a,o){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o);for(var p=!1,x=s.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(p=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,p&&a!==null&&(p=31-Ve(o),s=x.hiddenUpdates,d=s[p],d===null?s[p]=[a]:d.push(a),a.lane=o|536870912),x):null}function sc(s){if(50<Ol)throw Ol=0,tf=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ia={};function qS(s,a,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(s,a,o,d){return new qS(s,a,o,d)}function $h(s){return s=s.prototype,!(!s||!s.isReactComponent)}function is(s,a){var o=s.alternate;return o===null?(o=si(s.tag,a,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=a,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,a=s.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Sm(s,a){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function rc(s,a,o,d,p,x){var w=0;if(d=s,typeof s=="function")$h(s)&&(w=1);else if(typeof s=="string")w=Qk(s,o,lt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case P:return s=si(31,o,a,p),s.elementType=P,s.lanes=x,s;case S:return Sr(o.children,p,x,a);case N:w=8,p|=24;break;case j:return s=si(12,o,a,p|2),s.elementType=j,s.lanes=x,s;case A:return s=si(13,o,a,p),s.elementType=A,s.lanes=x,s;case F:return s=si(19,o,a,p),s.elementType=F,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:w=10;break t;case E:w=9;break t;case U:w=11;break t;case H:w=14;break t;case X:w=16,d=null;break t}w=29,o=Error(i(130,s===null?"null":typeof s,"")),d=null}return a=si(w,o,a,p),a.elementType=s,a.type=d,a.lanes=x,a}function Sr(s,a,o,d){return s=si(7,s,d,a),s.lanes=o,s}function Wh(s,a,o){return s=si(6,s,null,a),s.lanes=o,s}function km(s){var a=si(18,null,null,0);return a.stateNode=s,a}function Gh(s,a,o){return a=si(4,s.children!==null?s.children:[],s.key,a),a.lanes=o,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var _m=new WeakMap;function gi(s,a){if(typeof s=="object"&&s!==null){var o=_m.get(s);return o!==void 0?o:(a={value:s,source:a,stack:Oe(a)},_m.set(s,a),a)}return{value:s,source:a,stack:Oe(a)}}var sa=[],ra=0,ac=null,fl=0,mi=[],pi=0,Rs=null,Ii=1,Yi="";function ss(s,a){sa[ra++]=fl,sa[ra++]=ac,ac=s,fl=a}function Nm(s,a,o){mi[pi++]=Ii,mi[pi++]=Yi,mi[pi++]=Rs,Rs=s;var d=Ii;s=Yi;var p=32-Ve(d)-1;d&=~(1<<p),o+=1;var x=32-Ve(a)+p;if(30<x){var w=p-p%5;x=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Ii=1<<32-Ve(a)+p|o<<p|d,Yi=x+s}else Ii=1<<x|o<<p|d,Yi=s}function Xh(s){s.return!==null&&(ss(s,1),Nm(s,1,0))}function Qh(s){for(;s===ac;)ac=sa[--ra],sa[ra]=null,fl=sa[--ra],sa[ra]=null;for(;s===Rs;)Rs=mi[--pi],mi[pi]=null,Yi=mi[--pi],mi[pi]=null,Ii=mi[--pi],mi[pi]=null}function jm(s,a){mi[pi++]=Ii,mi[pi++]=Yi,mi[pi++]=Rs,Ii=a.id,Yi=a.overflow,Rs=s}var gn=null,je=null,ne=!1,Os=null,bi=!1,Zh=Error(i(519));function zs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(gi(a,s)),Zh}function Mm(s){var a=s.stateNode,o=s.type,d=s.memoizedProps;switch(a[le]=s,a[fe]=d,o){case"dialog":Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":case"embed":Zt("load",a);break;case"video":case"audio":for(o=0;o<Ll.length;o++)Zt(Ll[o],a);break;case"source":Zt("error",a);break;case"img":case"image":case"link":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"input":Zt("invalid",a),nl(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Zt("invalid",a);break;case"textarea":Zt("invalid",a),T(a,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||d.suppressHydrationWarning===!0||Yb(a.textContent,o)?(d.popover!=null&&(Zt("beforetoggle",a),Zt("toggle",a)),d.onScroll!=null&&Zt("scroll",a),d.onScrollEnd!=null&&Zt("scrollend",a),d.onClick!=null&&(a.onclick=Ge),a=!0):a=!1,a||zs(s,!0)}function Cm(s){for(gn=s.return;gn;)switch(gn.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:gn=gn.return}}function aa(s){if(s!==gn)return!1;if(!ne)return Cm(s),ne=!0,!1;var a=s.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||pf(s.type,s.memoizedProps)),o=!o),o&&je&&zs(s),Cm(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));je=Jb(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));je=Jb(s)}else a===27?(a=je,Xs(s.type)?(s=wf,wf=null,je=s):je=a):je=gn?yi(s.stateNode.nextSibling):null;return!0}function kr(){je=gn=null,ne=!1}function Kh(){var s=Os;return s!==null&&(In===null?In=s:In.push.apply(In,s),Os=null),s}function gl(s){Os===null?Os=[s]:Os.push(s)}var Jh=O(null),_r=null,rs=null;function Ls(s,a,o){$(Jh,a._currentValue),a._currentValue=o}function as(s){s._currentValue=Jh.current,L(Jh)}function td(s,a,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===o)break;s=s.return}}function ed(s,a,o,d){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var x=p.dependencies;if(x!==null){var w=p.child;x=x.firstContext;t:for(;x!==null;){var C=x;x=p;for(var z=0;z<a.length;z++)if(C.context===a[z]){x.lanes|=o,C=x.alternate,C!==null&&(C.lanes|=o),td(x.return,o,s),d||(w=null);break t}x=C.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,x=w.alternate,x!==null&&(x.lanes|=o),td(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function la(s,a,o,d){s=null;for(var p=a,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var C=p.type;ii(p.pendingProps.value,w.value)||(s!==null?s.push(C):s=[C])}}else if(p===ht.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Ul):s=[Ul])}p=p.return}s!==null&&ed(a,s,o,d),a.flags|=262144}function lc(s){for(s=s.firstContext;s!==null;){if(!ii(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Nr(s){_r=s,rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mn(s){return Em(_r,s)}function oc(s,a){return _r===null&&Nr(s),Em(s,a)}function Em(s,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},rs===null){if(s===null)throw Error(i(308));rs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else rs=rs.next=a;return o}var $S=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(o,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(o){return o()})}},WS=n.unstable_scheduleCallback,GS=n.unstable_NormalPriority,Xe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new $S,data:new Map,refCount:0}}function ml(s){s.refCount--,s.refCount===0&&WS(GS,function(){s.controller.abort()})}var pl=null,id=0,oa=0,ca=null;function XS(s,a){if(pl===null){var o=pl=[];id=0,oa=lf(),ca={status:"pending",value:void 0,then:function(d){o.push(d)}}}return id++,a.then(Tm,Tm),a}function Tm(){if(--id===0&&pl!==null){ca!==null&&(ca.status="fulfilled");var s=pl;pl=null,oa=0,ca=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function QS(s,a){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var Dm=V.S;V.S=function(s,a){gb=Vt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&XS(s,a),Dm!==null&&Dm(s,a)};var jr=O(null);function sd(){var s=jr.current;return s!==null?s:Se.pooledCache}function cc(s,a){a===null?$(jr,jr.current):$(jr,a.pool)}function Am(){var s=sd();return s===null?null:{parent:Xe._currentValue,pool:s}}var ua=Error(i(460)),rd=Error(i(474)),uc=Error(i(542)),hc={then:function(){}};function Rm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Om(s,a,o){switch(o=s[o],o===void 0?s.push(a):o!==a&&(a.then(Ge,Ge),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Lm(s),s;default:if(typeof a.status=="string")a.then(Ge,Ge);else{if(s=Se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Lm(s),s}throw Cr=a,ua}}function Mr(s){try{var a=s._init;return a(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Cr=o,ua):o}}var Cr=null;function zm(){if(Cr===null)throw Error(i(459));var s=Cr;return Cr=null,s}function Lm(s){if(s===ua||s===uc)throw Error(i(483))}var ha=null,bl=0;function dc(s){var a=bl;return bl+=1,ha===null&&(ha=[]),Om(ha,s,a)}function xl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function fc(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Pm(s){function a(I,B){if(s){var W=I.deletions;W===null?(I.deletions=[B],I.flags|=16):W.push(B)}}function o(I,B){if(!s)return null;for(;B!==null;)a(I,B),B=B.sibling;return null}function d(I){for(var B=new Map;I!==null;)I.key!==null?B.set(I.key,I):B.set(I.index,I),I=I.sibling;return B}function p(I,B){return I=is(I,B),I.index=0,I.sibling=null,I}function x(I,B,W){return I.index=W,s?(W=I.alternate,W!==null?(W=W.index,W<B?(I.flags|=67108866,B):W):(I.flags|=67108866,B)):(I.flags|=1048576,B)}function w(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function C(I,B,W,rt){return B===null||B.tag!==6?(B=Wh(W,I.mode,rt),B.return=I,B):(B=p(B,W),B.return=I,B)}function z(I,B,W,rt){var Dt=W.type;return Dt===S?nt(I,B,W.props.children,rt,W.key):B!==null&&(B.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===X&&Mr(Dt)===B.type)?(B=p(B,W.props),xl(B,W),B.return=I,B):(B=rc(W.type,W.key,W.props,null,I.mode,rt),xl(B,W),B.return=I,B)}function G(I,B,W,rt){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=Gh(W,I.mode,rt),B.return=I,B):(B=p(B,W.children||[]),B.return=I,B)}function nt(I,B,W,rt,Dt){return B===null||B.tag!==7?(B=Sr(W,I.mode,rt,Dt),B.return=I,B):(B=p(B,W),B.return=I,B)}function at(I,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Wh(""+B,I.mode,W),B.return=I,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return W=rc(B.type,B.key,B.props,null,I.mode,W),xl(W,B),W.return=I,W;case k:return B=Gh(B,I.mode,W),B.return=I,B;case X:return B=Mr(B),at(I,B,W)}if(ut(B)||J(B))return B=Sr(B,I.mode,W,null),B.return=I,B;if(typeof B.then=="function")return at(I,dc(B),W);if(B.$$typeof===D)return at(I,oc(I,B),W);fc(I,B)}return null}function Z(I,B,W,rt){var Dt=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Dt!==null?null:C(I,B,""+W,rt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===Dt?z(I,B,W,rt):null;case k:return W.key===Dt?G(I,B,W,rt):null;case X:return W=Mr(W),Z(I,B,W,rt)}if(ut(W)||J(W))return Dt!==null?null:nt(I,B,W,rt,null);if(typeof W.then=="function")return Z(I,B,dc(W),rt);if(W.$$typeof===D)return Z(I,B,oc(I,W),rt);fc(I,W)}return null}function tt(I,B,W,rt,Dt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return I=I.get(W)||null,C(B,I,""+rt,Dt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:return I=I.get(rt.key===null?W:rt.key)||null,z(B,I,rt,Dt);case k:return I=I.get(rt.key===null?W:rt.key)||null,G(B,I,rt,Dt);case X:return rt=Mr(rt),tt(I,B,W,rt,Dt)}if(ut(rt)||J(rt))return I=I.get(W)||null,nt(B,I,rt,Dt,null);if(typeof rt.then=="function")return tt(I,B,W,dc(rt),Dt);if(rt.$$typeof===D)return tt(I,B,W,oc(B,rt),Dt);fc(B,rt)}return null}function jt(I,B,W,rt){for(var Dt=null,oe=null,Ct=B,Gt=B=0,te=null;Ct!==null&&Gt<W.length;Gt++){Ct.index>Gt?(te=Ct,Ct=null):te=Ct.sibling;var ce=Z(I,Ct,W[Gt],rt);if(ce===null){Ct===null&&(Ct=te);break}s&&Ct&&ce.alternate===null&&a(I,Ct),B=x(ce,B,Gt),oe===null?Dt=ce:oe.sibling=ce,oe=ce,Ct=te}if(Gt===W.length)return o(I,Ct),ne&&ss(I,Gt),Dt;if(Ct===null){for(;Gt<W.length;Gt++)Ct=at(I,W[Gt],rt),Ct!==null&&(B=x(Ct,B,Gt),oe===null?Dt=Ct:oe.sibling=Ct,oe=Ct);return ne&&ss(I,Gt),Dt}for(Ct=d(Ct);Gt<W.length;Gt++)te=tt(Ct,I,Gt,W[Gt],rt),te!==null&&(s&&te.alternate!==null&&Ct.delete(te.key===null?Gt:te.key),B=x(te,B,Gt),oe===null?Dt=te:oe.sibling=te,oe=te);return s&&Ct.forEach(function(tr){return a(I,tr)}),ne&&ss(I,Gt),Dt}function Rt(I,B,W,rt){if(W==null)throw Error(i(151));for(var Dt=null,oe=null,Ct=B,Gt=B=0,te=null,ce=W.next();Ct!==null&&!ce.done;Gt++,ce=W.next()){Ct.index>Gt?(te=Ct,Ct=null):te=Ct.sibling;var tr=Z(I,Ct,ce.value,rt);if(tr===null){Ct===null&&(Ct=te);break}s&&Ct&&tr.alternate===null&&a(I,Ct),B=x(tr,B,Gt),oe===null?Dt=tr:oe.sibling=tr,oe=tr,Ct=te}if(ce.done)return o(I,Ct),ne&&ss(I,Gt),Dt;if(Ct===null){for(;!ce.done;Gt++,ce=W.next())ce=at(I,ce.value,rt),ce!==null&&(B=x(ce,B,Gt),oe===null?Dt=ce:oe.sibling=ce,oe=ce);return ne&&ss(I,Gt),Dt}for(Ct=d(Ct);!ce.done;Gt++,ce=W.next())ce=tt(Ct,I,Gt,ce.value,rt),ce!==null&&(s&&ce.alternate!==null&&Ct.delete(ce.key===null?Gt:ce.key),B=x(ce,B,Gt),oe===null?Dt=ce:oe.sibling=ce,oe=ce);return s&&Ct.forEach(function(l_){return a(I,l_)}),ne&&ss(I,Gt),Dt}function we(I,B,W,rt){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:t:{for(var Dt=W.key;B!==null;){if(B.key===Dt){if(Dt=W.type,Dt===S){if(B.tag===7){o(I,B.sibling),rt=p(B,W.props.children),rt.return=I,I=rt;break t}}else if(B.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===X&&Mr(Dt)===B.type){o(I,B.sibling),rt=p(B,W.props),xl(rt,W),rt.return=I,I=rt;break t}o(I,B);break}else a(I,B);B=B.sibling}W.type===S?(rt=Sr(W.props.children,I.mode,rt,W.key),rt.return=I,I=rt):(rt=rc(W.type,W.key,W.props,null,I.mode,rt),xl(rt,W),rt.return=I,I=rt)}return w(I);case k:t:{for(Dt=W.key;B!==null;){if(B.key===Dt)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){o(I,B.sibling),rt=p(B,W.children||[]),rt.return=I,I=rt;break t}else{o(I,B);break}else a(I,B);B=B.sibling}rt=Gh(W,I.mode,rt),rt.return=I,I=rt}return w(I);case X:return W=Mr(W),we(I,B,W,rt)}if(ut(W))return jt(I,B,W,rt);if(J(W)){if(Dt=J(W),typeof Dt!="function")throw Error(i(150));return W=Dt.call(W),Rt(I,B,W,rt)}if(typeof W.then=="function")return we(I,B,dc(W),rt);if(W.$$typeof===D)return we(I,B,oc(I,W),rt);fc(I,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(o(I,B.sibling),rt=p(B,W),rt.return=I,I=rt):(o(I,B),rt=Wh(W,I.mode,rt),rt.return=I,I=rt),w(I)):o(I,B)}return function(I,B,W,rt){try{bl=0;var Dt=we(I,B,W,rt);return ha=null,Dt}catch(Ct){if(Ct===ua||Ct===uc)throw Ct;var oe=si(29,Ct,null,I.mode);return oe.lanes=rt,oe.return=I,oe}finally{}}}var Er=Pm(!0),Bm=Pm(!1),Ps=!1;function ad(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Hs(s,a,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(he&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=sc(s),wm(s,null,o),a}return ic(s,d,a,o),sc(s)}function yl(s,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,Sn(s,o)}}function od(s,a){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?p=x=w:x=x.next=w,o=o.next}while(o!==null);x===null?p=x=a:x=x.next=a}else p=x=a;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=a:s.next=a,o.lastBaseUpdate=a}var cd=!1;function vl(){if(cd){var s=ca;if(s!==null)throw s}}function wl(s,a,o,d){cd=!1;var p=s.updateQueue;Ps=!1;var x=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var z=C,G=z.next;z.next=null,w===null?x=G:w.next=G,w=z;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==w&&(C===null?nt.firstBaseUpdate=G:C.next=G,nt.lastBaseUpdate=z))}if(x!==null){var at=p.baseState;w=0,nt=G=z=null,C=x;do{var Z=C.lane&-536870913,tt=Z!==C.lane;if(tt?(Jt&Z)===Z:(d&Z)===Z){Z!==0&&Z===oa&&(cd=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var jt=s,Rt=C;Z=a;var we=o;switch(Rt.tag){case 1:if(jt=Rt.payload,typeof jt=="function"){at=jt.call(we,at,Z);break t}at=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Rt.payload,Z=typeof jt=="function"?jt.call(we,at,Z):jt,Z==null)break t;at=b({},at,Z);break t;case 2:Ps=!0}}Z=C.callback,Z!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=p.callbacks,tt===null?p.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(G=nt=tt,z=at):nt=nt.next=tt,w|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;tt=C,C=tt.next,tt.next=null,p.lastBaseUpdate=tt,p.shared.pending=null}}while(!0);nt===null&&(z=at),p.baseState=z,p.firstBaseUpdate=G,p.lastBaseUpdate=nt,x===null&&(p.shared.lanes=0),Ys|=w,s.lanes=w,s.memoizedState=at}}function Hm(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Vm(s,a){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Hm(o[s],a)}var da=O(null),gc=O(0);function Um(s,a){s=ms,$(gc,s),$(da,a),ms=s|a.baseLanes}function ud(){$(gc,ms),$(da,da.current)}function hd(){ms=gc.current,L(da),L(gc)}var ri=O(null),xi=null;function Vs(s){var a=s.alternate;$(Ie,Ie.current&1),$(ri,s),xi===null&&(a===null||da.current!==null||a.memoizedState!==null)&&(xi=s)}function dd(s){$(Ie,Ie.current),$(ri,s),xi===null&&(xi=s)}function Fm(s){s.tag===22?($(Ie,Ie.current),$(ri,s),xi===null&&(xi=s)):Us()}function Us(){$(Ie,Ie.current),$(ri,ri.current)}function ai(s){L(ri),xi===s&&(xi=null),L(Ie)}var Ie=O(0);function mc(s){for(var a=s;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yf(o)||vf(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ls=0,qt=null,ye=null,Qe=null,pc=!1,fa=!1,Tr=!1,bc=0,Sl=0,ga=null,ZS=0;function Pe(){throw Error(i(321))}function fd(s,a){if(a===null)return!1;for(var o=0;o<a.length&&o<s.length;o++)if(!ii(s[o],a[o]))return!1;return!0}function gd(s,a,o,d,p,x){return ls=x,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=s===null||s.memoizedState===null?Np:Ed,Tr=!1,x=o(d,p),Tr=!1,fa&&(x=Ym(a,o,d,p)),Im(s),x}function Im(s){V.H=Nl;var a=ye!==null&&ye.next!==null;if(ls=0,Qe=ye=qt=null,pc=!1,Sl=0,ga=null,a)throw Error(i(300));s===null||Ze||(s=s.dependencies,s!==null&&lc(s)&&(Ze=!0))}function Ym(s,a,o,d){qt=s;var p=0;do{if(fa&&(ga=null),Sl=0,fa=!1,25<=p)throw Error(i(301));if(p+=1,Qe=ye=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=jp,x=a(o,d)}while(fa);return x}function KS(){var s=V.H,a=s.useState()[0];return a=typeof a.then=="function"?kl(a):a,s=s.useState()[0],(ye!==null?ye.memoizedState:null)!==s&&(qt.flags|=1024),a}function md(){var s=bc!==0;return bc=0,s}function pd(s,a,o){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~o}function bd(s){if(pc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}pc=!1}ls=0,Qe=ye=qt=null,fa=!1,Sl=bc=0,ga=null}function zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?qt.memoizedState=Qe=s:Qe=Qe.next=s,Qe}function Ye(){if(ye===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=ye.next;var a=Qe===null?qt.memoizedState:Qe.next;if(a!==null)Qe=a,ye=s;else{if(s===null)throw qt.alternate===null?Error(i(467)):Error(i(310));ye=s,s={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Qe===null?qt.memoizedState=Qe=s:Qe=Qe.next=s}return Qe}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(s){var a=Sl;return Sl+=1,ga===null&&(ga=[]),s=Om(ga,s,a),a=qt,(Qe===null?a.memoizedState:Qe.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?Np:Ed),s}function yc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kl(s);if(s.$$typeof===D)return mn(s)}throw Error(i(438,String(s)))}function xd(s){var a=null,o=qt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var d=qt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=xc(),qt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(s),d=0;d<s;d++)o[d]=et;return a.index++,o}function os(s,a){return typeof a=="function"?a(s):a}function vc(s){var a=Ye();return yd(a,ye,s)}function yd(s,a,o){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var p=s.baseQueue,x=d.pending;if(x!==null){if(p!==null){var w=p.next;p.next=x.next,x.next=w}a.baseQueue=p=x,d.pending=null}if(x=s.baseState,p===null)s.memoizedState=x;else{a=p.next;var C=w=null,z=null,G=a,nt=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Jt&at)===at:(ls&at)===at){var Z=G.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===oa&&(nt=!0);else if((ls&Z)===Z){G=G.next,Z===oa&&(nt=!0);continue}else at={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(C=z=at,w=x):z=z.next=at,qt.lanes|=Z,Ys|=Z;at=G.action,Tr&&o(x,at),x=G.hasEagerState?G.eagerState:o(x,at)}else Z={lane:at,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(C=z=Z,w=x):z=z.next=Z,qt.lanes|=at,Ys|=at;G=G.next}while(G!==null&&G!==a);if(z===null?w=x:z.next=C,!ii(x,s.memoizedState)&&(Ze=!0,nt&&(o=ca,o!==null)))throw o;s.memoizedState=x,s.baseState=w,s.baseQueue=z,d.lastRenderedState=x}return p===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function vd(s){var a=Ye(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=o.dispatch,p=o.pending,x=a.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do x=s(x,w.action),w=w.next;while(w!==p);ii(x,a.memoizedState)||(Ze=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,d]}function qm(s,a,o){var d=qt,p=Ye(),x=ne;if(x){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!ii((ye||p).memoizedState,o);if(w&&(p.memoizedState=o,Ze=!0),p=p.queue,kd(Gm.bind(null,d,p,s),[s]),p.getSnapshot!==a||w||Qe!==null&&Qe.memoizedState.tag&1){if(d.flags|=2048,ma(9,{destroy:void 0},Wm.bind(null,d,p,o,a),null),Se===null)throw Error(i(349));x||(ls&127)!==0||$m(d,a,o)}return o}function $m(s,a,o){s.flags|=16384,s={getSnapshot:a,value:o},a=qt.updateQueue,a===null?(a=xc(),qt.updateQueue=a,a.stores=[s]):(o=a.stores,o===null?a.stores=[s]:o.push(s))}function Wm(s,a,o,d){a.value=o,a.getSnapshot=d,Xm(a)&&Qm(s)}function Gm(s,a,o){return o(function(){Xm(a)&&Qm(s)})}function Xm(s){var a=s.getSnapshot;s=s.value;try{var o=a();return!ii(s,o)}catch{return!0}}function Qm(s){var a=wr(s,2);a!==null&&Yn(a,s,2)}function wd(s){var a=zn();if(typeof s=="function"){var o=s;if(s=o(),Tr){wn(!0);try{o()}finally{wn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},a}function Zm(s,a,o,d){return s.baseState=o,yd(s,ye,typeof d=="function"?d:os)}function JS(s,a,o,d,p){if(kc(s))throw Error(i(485));if(s=a.action,s!==null){var x={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};V.T!==null?o(!0):x.isTransition=!1,d(x),o=a.pending,o===null?(x.next=a.pending=x,Km(a,x)):(x.next=o.next,a.pending=o.next=x)}}function Km(s,a){var o=a.action,d=a.payload,p=s.state;if(a.isTransition){var x=V.T,w={};V.T=w;try{var C=o(p,d),z=V.S;z!==null&&z(w,C),Jm(s,a,C)}catch(G){Sd(s,a,G)}finally{x!==null&&w.types!==null&&(x.types=w.types),V.T=x}}else try{x=o(p,d),Jm(s,a,x)}catch(G){Sd(s,a,G)}}function Jm(s,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){tp(s,a,d)},function(d){return Sd(s,a,d)}):tp(s,a,o)}function tp(s,a,o){a.status="fulfilled",a.value=o,ep(a),s.state=o,a=s.pending,a!==null&&(o=a.next,o===a?s.pending=null:(o=o.next,a.next=o,Km(s,o)))}function Sd(s,a,o){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=o,ep(a),a=a.next;while(a!==d)}s.action=null}function ep(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function np(s,a){return a}function ip(s,a){if(ne){var o=Se.formState;if(o!==null){t:{var d=qt;if(ne){if(je){e:{for(var p=je,x=bi;p.nodeType!==8;){if(!x){p=null;break e}if(p=yi(p.nextSibling),p===null){p=null;break e}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){je=yi(p.nextSibling),d=p.data==="F!";break t}}zs(d)}d=!1}d&&(a=o[0])}}return o=zn(),o.memoizedState=o.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:a},o.queue=d,o=Sp.bind(null,qt,d),d.dispatch=o,d=wd(!1),x=Cd.bind(null,qt,!1,d.queue),d=zn(),p={state:a,dispatch:null,action:s,pending:null},d.queue=p,o=JS.bind(null,qt,p,x,o),p.dispatch=o,d.memoizedState=s,[a,o,!1]}function sp(s){var a=Ye();return rp(a,ye,s)}function rp(s,a,o){if(a=yd(s,a,np)[0],s=vc(os)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=kl(a)}catch(w){throw w===ua?uc:w}else d=a;a=Ye();var p=a.queue,x=p.dispatch;return o!==a.memoizedState&&(qt.flags|=2048,ma(9,{destroy:void 0},tk.bind(null,p,o),null)),[d,x,s]}function tk(s,a){s.action=a}function ap(s){var a=Ye(),o=ye;if(o!==null)return rp(a,o,s);Ye(),a=a.memoizedState,o=Ye();var d=o.queue.dispatch;return o.memoizedState=s,[a,d,!1]}function ma(s,a,o,d){return s={tag:s,create:o,deps:d,inst:a,next:null},a=qt.updateQueue,a===null&&(a=xc(),qt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,a.lastEffect=s),s}function lp(){return Ye().memoizedState}function wc(s,a,o,d){var p=zn();qt.flags|=s,p.memoizedState=ma(1|a,{destroy:void 0},o,d===void 0?null:d)}function Sc(s,a,o,d){var p=Ye();d=d===void 0?null:d;var x=p.memoizedState.inst;ye!==null&&d!==null&&fd(d,ye.memoizedState.deps)?p.memoizedState=ma(a,x,o,d):(qt.flags|=s,p.memoizedState=ma(1|a,x,o,d))}function op(s,a){wc(8390656,8,s,a)}function kd(s,a){Sc(2048,8,s,a)}function ek(s){qt.flags|=4;var a=qt.updateQueue;if(a===null)a=xc(),qt.updateQueue=a,a.events=[s];else{var o=a.events;o===null?a.events=[s]:o.push(s)}}function cp(s){var a=Ye().memoizedState;return ek({ref:a,nextImpl:s}),function(){if((he&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function up(s,a){return Sc(4,2,s,a)}function hp(s,a){return Sc(4,4,s,a)}function dp(s,a){if(typeof a=="function"){s=s();var o=a(s);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function fp(s,a,o){o=o!=null?o.concat([s]):null,Sc(4,4,dp.bind(null,a,s),o)}function _d(){}function gp(s,a){var o=Ye();a=a===void 0?null:a;var d=o.memoizedState;return a!==null&&fd(a,d[1])?d[0]:(o.memoizedState=[s,a],s)}function mp(s,a){var o=Ye();a=a===void 0?null:a;var d=o.memoizedState;if(a!==null&&fd(a,d[1]))return d[0];if(d=s(),Tr){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[d,a],d}function Nd(s,a,o){return o===void 0||(ls&1073741824)!==0&&(Jt&261930)===0?s.memoizedState=a:(s.memoizedState=o,s=pb(),qt.lanes|=s,Ys|=s,o)}function pp(s,a,o,d){return ii(o,a)?o:da.current!==null?(s=Nd(s,o,d),ii(s,a)||(Ze=!0),s):(ls&42)===0||(ls&1073741824)!==0&&(Jt&261930)===0?(Ze=!0,s.memoizedState=o):(s=pb(),qt.lanes|=s,Ys|=s,a)}function bp(s,a,o,d,p){var x=Y.p;Y.p=x!==0&&8>x?x:8;var w=V.T,C={};V.T=C,Cd(s,!1,a,o);try{var z=p(),G=V.S;if(G!==null&&G(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var nt=QS(z,d);_l(s,a,nt,ci(s))}else _l(s,a,d,ci(s))}catch(at){_l(s,a,{then:function(){},status:"rejected",reason:at},ci())}finally{Y.p=x,w!==null&&C.types!==null&&(w.types=C.types),V.T=w}}function nk(){}function jd(s,a,o,d){if(s.tag!==5)throw Error(i(476));var p=xp(s).queue;bp(s,p,a,ot,o===null?nk:function(){return yp(s),o(d)})}function xp(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ot},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function yp(s){var a=xp(s);a.next===null&&(a=s.alternate.memoizedState),_l(s,a.next.queue,{},ci())}function Md(){return mn(Ul)}function vp(){return Ye().memoizedState}function wp(){return Ye().memoizedState}function ik(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var o=ci();s=Bs(o);var d=Hs(a,s,o);d!==null&&(Yn(d,a,o),yl(d,a,o)),a={cache:nd()},s.payload=a;return}a=a.return}}function sk(s,a,o){var d=ci();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(s)?kp(a,o):(o=qh(s,a,o,d),o!==null&&(Yn(o,s,d),_p(o,a,d)))}function Sp(s,a,o){var d=ci();_l(s,a,o,d)}function _l(s,a,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(s))kp(a,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var w=a.lastRenderedState,C=x(w,o);if(p.hasEagerState=!0,p.eagerState=C,ii(C,w))return ic(s,a,p,0),Se===null&&nc(),!1}catch{}finally{}if(o=qh(s,a,p,d),o!==null)return Yn(o,s,d),_p(o,a,d),!0}return!1}function Cd(s,a,o,d){if(d={lane:2,revertLane:lf(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},kc(s)){if(a)throw Error(i(479))}else a=qh(s,o,d,2),a!==null&&Yn(a,s,2)}function kc(s){var a=s.alternate;return s===qt||a!==null&&a===qt}function kp(s,a){fa=pc=!0;var o=s.pending;o===null?a.next=a:(a.next=o.next,o.next=a),s.pending=a}function _p(s,a,o){if((o&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,Sn(s,o)}}var Nl={readContext:mn,use:yc,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Nl.useEffectEvent=Pe;var Np={readContext:mn,use:yc,useCallback:function(s,a){return zn().memoizedState=[s,a===void 0?null:a],s},useContext:mn,useEffect:op,useImperativeHandle:function(s,a,o){o=o!=null?o.concat([s]):null,wc(4194308,4,dp.bind(null,a,s),o)},useLayoutEffect:function(s,a){return wc(4194308,4,s,a)},useInsertionEffect:function(s,a){wc(4,2,s,a)},useMemo:function(s,a){var o=zn();a=a===void 0?null:a;var d=s();if(Tr){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[d,a],d},useReducer:function(s,a,o){var d=zn();if(o!==void 0){var p=o(a);if(Tr){wn(!0);try{o(a)}finally{wn(!1)}}}else p=a;return d.memoizedState=d.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},d.queue=s,s=s.dispatch=sk.bind(null,qt,s),[d.memoizedState,s]},useRef:function(s){var a=zn();return s={current:s},a.memoizedState=s},useState:function(s){s=wd(s);var a=s.queue,o=Sp.bind(null,qt,a);return a.dispatch=o,[s.memoizedState,o]},useDebugValue:_d,useDeferredValue:function(s,a){var o=zn();return Nd(o,s,a)},useTransition:function(){var s=wd(!1);return s=bp.bind(null,qt,s.queue,!0,!1),zn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,o){var d=qt,p=zn();if(ne){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Se===null)throw Error(i(349));(Jt&127)!==0||$m(d,a,o)}p.memoizedState=o;var x={value:o,getSnapshot:a};return p.queue=x,op(Gm.bind(null,d,x,s),[s]),d.flags|=2048,ma(9,{destroy:void 0},Wm.bind(null,d,x,o,a),null),o},useId:function(){var s=zn(),a=Se.identifierPrefix;if(ne){var o=Yi,d=Ii;o=(d&~(1<<32-Ve(d)-1)).toString(32)+o,a="_"+a+"R_"+o,o=bc++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=ZS++,a="_"+a+"r_"+o.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Md,useFormState:ip,useActionState:ip,useOptimistic:function(s){var a=zn();a.memoizedState=a.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Cd.bind(null,qt,!0,o),o.dispatch=a,[s,a]},useMemoCache:xd,useCacheRefresh:function(){return zn().memoizedState=ik.bind(null,qt)},useEffectEvent:function(s){var a=zn(),o={impl:s};return a.memoizedState=o,function(){if((he&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Ed={readContext:mn,use:yc,useCallback:gp,useContext:mn,useEffect:kd,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:hp,useMemo:mp,useReducer:vc,useRef:lp,useState:function(){return vc(os)},useDebugValue:_d,useDeferredValue:function(s,a){var o=Ye();return pp(o,ye.memoizedState,s,a)},useTransition:function(){var s=vc(os)[0],a=Ye().memoizedState;return[typeof s=="boolean"?s:kl(s),a]},useSyncExternalStore:qm,useId:vp,useHostTransitionStatus:Md,useFormState:sp,useActionState:sp,useOptimistic:function(s,a){var o=Ye();return Zm(o,ye,s,a)},useMemoCache:xd,useCacheRefresh:wp};Ed.useEffectEvent=cp;var jp={readContext:mn,use:yc,useCallback:gp,useContext:mn,useEffect:kd,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:hp,useMemo:mp,useReducer:vd,useRef:lp,useState:function(){return vd(os)},useDebugValue:_d,useDeferredValue:function(s,a){var o=Ye();return ye===null?Nd(o,s,a):pp(o,ye.memoizedState,s,a)},useTransition:function(){var s=vd(os)[0],a=Ye().memoizedState;return[typeof s=="boolean"?s:kl(s),a]},useSyncExternalStore:qm,useId:vp,useHostTransitionStatus:Md,useFormState:ap,useActionState:ap,useOptimistic:function(s,a){var o=Ye();return ye!==null?Zm(o,ye,s,a):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:xd,useCacheRefresh:wp};jp.useEffectEvent=cp;function Td(s,a,o,d){a=s.memoizedState,o=o(d,a),o=o==null?a:b({},a,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Dd={enqueueSetState:function(s,a,o){s=s._reactInternals;var d=ci(),p=Bs(d);p.payload=a,o!=null&&(p.callback=o),a=Hs(s,p,d),a!==null&&(Yn(a,s,d),yl(a,s,d))},enqueueReplaceState:function(s,a,o){s=s._reactInternals;var d=ci(),p=Bs(d);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=Hs(s,p,d),a!==null&&(Yn(a,s,d),yl(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var o=ci(),d=Bs(o);d.tag=2,a!=null&&(d.callback=a),a=Hs(s,d,o),a!==null&&(Yn(a,s,o),yl(a,s,o))}};function Mp(s,a,o,d,p,x,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,w):a.prototype&&a.prototype.isPureReactComponent?!hl(o,d)||!hl(p,x):!0}function Cp(s,a,o,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==s&&Dd.enqueueReplaceState(a,a.state,null)}function Dr(s,a){var o=a;if("ref"in a){o={};for(var d in a)d!=="ref"&&(o[d]=a[d])}if(s=s.defaultProps){o===a&&(o=b({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Ep(s){ec(s)}function Tp(s){console.error(s)}function Dp(s){ec(s)}function _c(s,a){try{var o=s.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Ap(s,a,o){try{var d=s.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ad(s,a,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){_c(s,a)},o}function Rp(s){return s=Bs(s),s.tag=3,s}function Op(s,a,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var x=d.value;s.payload=function(){return p(x)},s.callback=function(){Ap(a,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Ap(a,o,d),typeof p!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function rk(s,a,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=o.alternate,a!==null&&la(a,o,p,!0),o=ri.current,o!==null){switch(o.tag){case 31:case 13:return xi===null?Lc():o.alternate===null&&Be===0&&(Be=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===hc?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([d]):a.add(d),sf(s,d,p)),!1;case 22:return o.flags|=65536,d===hc?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([d]):o.add(d)),sf(s,d,p)),!1}throw Error(i(435,o.tag))}return sf(s,d,p),Lc(),!1}if(ne)return a=ri.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==Zh&&(s=Error(i(422),{cause:d}),gl(gi(s,o)))):(d!==Zh&&(a=Error(i(423),{cause:d}),gl(gi(a,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,d=gi(d,o),p=Ad(s.stateNode,d,p),od(s,p),Be!==4&&(Be=2)),!1;var x=Error(i(520),{cause:d});if(x=gi(x,o),Rl===null?Rl=[x]:Rl.push(x),Be!==4&&(Be=2),a===null)return!0;d=gi(d,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Ad(o.stateNode,d,s),od(o,s),!1;case 1:if(a=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Rp(p),Op(p,s,o,d),od(o,p),!1}o=o.return}while(o!==null);return!1}var Rd=Error(i(461)),Ze=!1;function pn(s,a,o,d){a.child=s===null?Bm(a,null,o,d):Er(a,s.child,o,d)}function zp(s,a,o,d,p){o=o.render;var x=a.ref;if("ref"in d){var w={};for(var C in d)C!=="ref"&&(w[C]=d[C])}else w=d;return Nr(a),d=gd(s,a,o,w,x,p),C=md(),s!==null&&!Ze?(pd(s,a,p),cs(s,a,p)):(ne&&C&&Xh(a),a.flags|=1,pn(s,a,d,p),a.child)}function Lp(s,a,o,d,p){if(s===null){var x=o.type;return typeof x=="function"&&!$h(x)&&x.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=x,Pp(s,a,x,d,p)):(s=rc(o.type,null,d,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,!Ud(s,p)){var w=x.memoizedProps;if(o=o.compare,o=o!==null?o:hl,o(w,d)&&s.ref===a.ref)return cs(s,a,p)}return a.flags|=1,s=is(x,d),s.ref=a.ref,s.return=a,a.child=s}function Pp(s,a,o,d,p){if(s!==null){var x=s.memoizedProps;if(hl(x,d)&&s.ref===a.ref)if(Ze=!1,a.pendingProps=d=x,Ud(s,p))(s.flags&131072)!==0&&(Ze=!0);else return a.lanes=s.lanes,cs(s,a,p)}return Od(s,a,o,d,p)}function Bp(s,a,o,d){var p=d.children,x=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~x}else d=0,a.child=null;return Hp(s,a,x,o,d)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&cc(a,x!==null?x.cachePool:null),x!==null?Um(a,x):ud(),Fm(a);else return d=a.lanes=536870912,Hp(s,a,x!==null?x.baseLanes|o:o,o,d)}else x!==null?(cc(a,x.cachePool),Um(a,x),Us(),a.memoizedState=null):(s!==null&&cc(a,null),ud(),Us());return pn(s,a,p,o),a.child}function jl(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Hp(s,a,o,d,p){var x=sd();return x=x===null?null:{parent:Xe._currentValue,pool:x},a.memoizedState={baseLanes:o,cachePool:x},s!==null&&cc(a,null),ud(),Fm(a),s!==null&&la(s,a,d,!0),a.childLanes=p,null}function Nc(s,a){return a=Mc({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Vp(s,a,o){return Er(a,s.child,null,o),s=Nc(a,a.pendingProps),s.flags|=2,ai(a),a.memoizedState=null,s}function ak(s,a,o){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(ne){if(d.mode==="hidden")return s=Nc(a,d),a.lanes=536870912,jl(null,s);if(dd(a),(s=je)?(s=Kb(s,bi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ii,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=km(s),o.return=a,a.child=o,gn=a,je=null)):s=null,s===null)throw zs(a);return a.lanes=536870912,null}return Nc(a,d)}var x=s.memoizedState;if(x!==null){var w=x.dehydrated;if(dd(a),p)if(a.flags&256)a.flags&=-257,a=Vp(s,a,o);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ze||la(s,a,o,!1),p=(o&s.childLanes)!==0,Ze||p){if(d=Se,d!==null&&(w=Rn(d,o),w!==0&&w!==x.retryLane))throw x.retryLane=w,wr(s,w),Yn(d,s,w),Rd;Lc(),a=Vp(s,a,o)}else s=x.treeContext,je=yi(w.nextSibling),gn=a,ne=!0,Os=null,bi=!1,s!==null&&jm(a,s),a=Nc(a,d),a.flags|=4096;return a}return s=is(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function jc(s,a){var o=a.ref;if(o===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(a.flags|=4194816)}}function Od(s,a,o,d,p){return Nr(a),o=gd(s,a,o,d,void 0,p),d=md(),s!==null&&!Ze?(pd(s,a,p),cs(s,a,p)):(ne&&d&&Xh(a),a.flags|=1,pn(s,a,o,p),a.child)}function Up(s,a,o,d,p,x){return Nr(a),a.updateQueue=null,o=Ym(a,d,o,p),Im(s),d=md(),s!==null&&!Ze?(pd(s,a,x),cs(s,a,x)):(ne&&d&&Xh(a),a.flags|=1,pn(s,a,o,x),a.child)}function Fp(s,a,o,d,p){if(Nr(a),a.stateNode===null){var x=ia,w=o.contextType;typeof w=="object"&&w!==null&&(x=mn(w)),x=new o(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Dd,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},ad(a),w=o.contextType,x.context=typeof w=="object"&&w!==null?mn(w):ia,x.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Td(a,o,w,d),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&Dd.enqueueReplaceState(x,x.state,null),wl(a,d,x,p),vl(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){x=a.stateNode;var C=a.memoizedProps,z=Dr(o,C);x.props=z;var G=x.context,nt=o.contextType;w=ia,typeof nt=="object"&&nt!==null&&(w=mn(nt));var at=o.getDerivedStateFromProps;nt=typeof at=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,nt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||G!==w)&&Cp(a,x,d,w),Ps=!1;var Z=a.memoizedState;x.state=Z,wl(a,d,x,p),vl(),G=a.memoizedState,C||Z!==G||Ps?(typeof at=="function"&&(Td(a,o,at,d),G=a.memoizedState),(z=Ps||Mp(a,o,z,d,Z,G,w))?(nt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=G),x.props=d,x.state=G,x.context=w,d=z):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,ld(s,a),w=a.memoizedProps,nt=Dr(o,w),x.props=nt,at=a.pendingProps,Z=x.context,G=o.contextType,z=ia,typeof G=="object"&&G!==null&&(z=mn(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==at||Z!==z)&&Cp(a,x,d,z),Ps=!1,Z=a.memoizedState,x.state=Z,wl(a,d,x,p),vl();var tt=a.memoizedState;w!==at||Z!==tt||Ps||s!==null&&s.dependencies!==null&&lc(s.dependencies)?(typeof C=="function"&&(Td(a,o,C,d),tt=a.memoizedState),(nt=Ps||Mp(a,o,nt,d,Z,tt,z)||s!==null&&s.dependencies!==null&&lc(s.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,tt,z),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,tt,z)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=tt),x.props=d,x.state=tt,x.context=z,d=nt):(typeof x.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),d=!1)}return x=d,jc(s,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,s!==null&&d?(a.child=Er(a,s.child,null,p),a.child=Er(a,null,o,p)):pn(s,a,o,p),a.memoizedState=x.state,s=a.child):s=cs(s,a,p),s}function Ip(s,a,o,d){return kr(),a.flags|=256,pn(s,a,o,d),a.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(s){return{baseLanes:s,cachePool:Am()}}function Pd(s,a,o){return s=s!==null?s.childLanes&~o:0,a&&(s|=oi),s}function Yp(s,a,o){var d=a.pendingProps,p=!1,x=(a.flags&128)!==0,w;if((w=x)||(w=s!==null&&s.memoizedState===null?!1:(Ie.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(ne){if(p?Vs(a):Us(),(s=je)?(s=Kb(s,bi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Ii,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=km(s),o.return=a,a.child=o,gn=a,je=null)):s=null,s===null)throw zs(a);return vf(s)?a.lanes=32:a.lanes=536870912,null}var C=d.children;return d=d.fallback,p?(Us(),p=a.mode,C=Mc({mode:"hidden",children:C},p),d=Sr(d,p,o,null),C.return=a,d.return=a,C.sibling=d,a.child=C,d=a.child,d.memoizedState=Ld(o),d.childLanes=Pd(s,w,o),a.memoizedState=zd,jl(null,d)):(Vs(a),Bd(a,C))}var z=s.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(x)a.flags&256?(Vs(a),a.flags&=-257,a=Hd(s,a,o)):a.memoizedState!==null?(Us(),a.child=s.child,a.flags|=128,a=null):(Us(),C=d.fallback,p=a.mode,d=Mc({mode:"visible",children:d.children},p),C=Sr(C,p,o,null),C.flags|=2,d.return=a,C.return=a,d.sibling=C,a.child=d,Er(a,s.child,null,o),d=a.child,d.memoizedState=Ld(o),d.childLanes=Pd(s,w,o),a.memoizedState=zd,a=jl(null,d));else if(Vs(a),vf(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var G=w.dgst;w=G,d=Error(i(419)),d.stack="",d.digest=w,gl({value:d,source:null,stack:null}),a=Hd(s,a,o)}else if(Ze||la(s,a,o,!1),w=(o&s.childLanes)!==0,Ze||w){if(w=Se,w!==null&&(d=Rn(w,o),d!==0&&d!==z.retryLane))throw z.retryLane=d,wr(s,d),Yn(w,s,d),Rd;yf(C)||Lc(),a=Hd(s,a,o)}else yf(C)?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,je=yi(C.nextSibling),gn=a,ne=!0,Os=null,bi=!1,s!==null&&jm(a,s),a=Bd(a,d.children),a.flags|=4096);return a}return p?(Us(),C=d.fallback,p=a.mode,z=s.child,G=z.sibling,d=is(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,G!==null?C=is(G,C):(C=Sr(C,p,o,null),C.flags|=2),C.return=a,d.return=a,d.sibling=C,a.child=d,jl(null,d),d=a.child,C=s.child.memoizedState,C===null?C=Ld(o):(p=C.cachePool,p!==null?(z=Xe._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Am(),C={baseLanes:C.baseLanes|o,cachePool:p}),d.memoizedState=C,d.childLanes=Pd(s,w,o),a.memoizedState=zd,jl(s.child,d)):(Vs(a),o=s.child,s=o.sibling,o=is(o,{mode:"visible",children:d.children}),o.return=a,o.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=o,a.memoizedState=null,o)}function Bd(s,a){return a=Mc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Mc(s,a){return s=si(22,s,null,a),s.lanes=0,s}function Hd(s,a,o){return Er(a,s.child,null,o),s=Bd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function qp(s,a,o){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),td(s.return,a,o)}function Vd(s,a,o,d,p,x){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=p,w.treeForkCount=x)}function $p(s,a,o){var d=a.pendingProps,p=d.revealOrder,x=d.tail;d=d.children;var w=Ie.current,C=(w&2)!==0;if(C?(w=w&1|2,a.flags|=128):w&=1,$(Ie,w),pn(s,a,d,o),d=ne?fl:0,!C&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qp(s,o,a);else if(s.tag===19)qp(s,o,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=a.child,p=null;o!==null;)s=o.alternate,s!==null&&mc(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),Vd(a,!1,p,o,x,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&mc(s)===null){a.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Vd(a,!0,o,null,x,d);break;case"together":Vd(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function cs(s,a,o){if(s!==null&&(a.dependencies=s.dependencies),Ys|=a.lanes,(o&a.childLanes)===0)if(s!==null){if(la(s,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,o=is(s,s.pendingProps),a.child=o,o.return=a;s.sibling!==null;)s=s.sibling,o=o.sibling=is(s,s.pendingProps),o.return=a;o.sibling=null}return a.child}function Ud(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&lc(s)))}function lk(s,a,o){switch(a.tag){case 3:Tt(a,a.stateNode.containerInfo),Ls(a,Xe,s.memoizedState.cache),kr();break;case 27:case 5:kt(a);break;case 4:Tt(a,a.stateNode.containerInfo);break;case 10:Ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,dd(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Vs(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Yp(s,a,o):(Vs(a),s=cs(s,a,o),s!==null?s.sibling:null);Vs(a);break;case 19:var p=(s.flags&128)!==0;if(d=(o&a.childLanes)!==0,d||(la(s,a,o,!1),d=(o&a.childLanes)!==0),p){if(d)return $p(s,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),$(Ie,Ie.current),d)break;return null;case 22:return a.lanes=0,Bp(s,a,o,a.pendingProps);case 24:Ls(a,Xe,s.memoizedState.cache)}return cs(s,a,o)}function Wp(s,a,o){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ze=!0;else{if(!Ud(s,o)&&(a.flags&128)===0)return Ze=!1,lk(s,a,o);Ze=(s.flags&131072)!==0}else Ze=!1,ne&&(a.flags&1048576)!==0&&Nm(a,fl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var d=a.pendingProps;if(s=Mr(a.elementType),a.type=s,typeof s=="function")$h(s)?(d=Dr(s,d),a.tag=1,a=Fp(null,a,s,d,o)):(a.tag=0,a=Od(null,a,s,d,o));else{if(s!=null){var p=s.$$typeof;if(p===U){a.tag=11,a=zp(null,a,s,d,o);break t}else if(p===H){a.tag=14,a=Lp(null,a,s,d,o);break t}}throw a=st(s)||s,Error(i(306,a,""))}}return a;case 0:return Od(s,a,a.type,a.pendingProps,o);case 1:return d=a.type,p=Dr(d,a.pendingProps),Fp(s,a,d,p,o);case 3:t:{if(Tt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));d=a.pendingProps;var x=a.memoizedState;p=x.element,ld(s,a),wl(a,d,null,o);var w=a.memoizedState;if(d=w.cache,Ls(a,Xe,d),d!==x.cache&&ed(a,[Xe],o,!0),vl(),d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Ip(s,a,d,o);break t}else if(d!==p){p=gi(Error(i(424)),a),gl(p),a=Ip(s,a,d,o);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(je=yi(s.firstChild),gn=a,ne=!0,Os=null,bi=!0,o=Bm(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(kr(),d===p){a=cs(s,a,o);break t}pn(s,a,d,o)}a=a.child}return a;case 26:return jc(s,a),s===null?(o=sx(a.type,null,a.pendingProps,null))?a.memoizedState=o:ne||(o=a.type,s=a.pendingProps,d=Ic(gt.current).createElement(o),d[le]=a,d[fe]=s,bn(d,o,s),$t(d),a.stateNode=d):a.memoizedState=sx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return kt(a),s===null&&ne&&(d=a.stateNode=ex(a.type,a.pendingProps,gt.current),gn=a,bi=!0,p=je,Xs(a.type)?(wf=p,je=yi(d.firstChild)):je=p),pn(s,a,a.pendingProps.children,o),jc(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ne&&((p=d=je)&&(d=Pk(d,a.type,a.pendingProps,bi),d!==null?(a.stateNode=d,gn=a,je=yi(d.firstChild),bi=!1,p=!0):p=!1),p||zs(a)),kt(a),p=a.type,x=a.pendingProps,w=s!==null?s.memoizedProps:null,d=x.children,pf(p,x)?d=null:w!==null&&pf(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=gd(s,a,KS,null,null,o),Ul._currentValue=p),jc(s,a),pn(s,a,d,o),a.child;case 6:return s===null&&ne&&((s=o=je)&&(o=Bk(o,a.pendingProps,bi),o!==null?(a.stateNode=o,gn=a,je=null,s=!0):s=!1),s||zs(a)),null;case 13:return Yp(s,a,o);case 4:return Tt(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=Er(a,null,d,o):pn(s,a,d,o),a.child;case 11:return zp(s,a,a.type,a.pendingProps,o);case 7:return pn(s,a,a.pendingProps,o),a.child;case 8:return pn(s,a,a.pendingProps.children,o),a.child;case 12:return pn(s,a,a.pendingProps.children,o),a.child;case 10:return d=a.pendingProps,Ls(a,a.type,d.value),pn(s,a,d.children,o),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,Nr(a),p=mn(p),d=d(p),a.flags|=1,pn(s,a,d,o),a.child;case 14:return Lp(s,a,a.type,a.pendingProps,o);case 15:return Pp(s,a,a.type,a.pendingProps,o);case 19:return $p(s,a,o);case 31:return ak(s,a,o);case 22:return Bp(s,a,o,a.pendingProps);case 24:return Nr(a),d=mn(Xe),s===null?(p=sd(),p===null&&(p=Se,x=nd(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=o),p=x),a.memoizedState={parent:d,cache:p},ad(a),Ls(a,Xe,p)):((s.lanes&o)!==0&&(ld(s,a),wl(a,null,null,o),vl()),p=s.memoizedState,x=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ls(a,Xe,d)):(d=x.cache,Ls(a,Xe,d),d!==p.cache&&ed(a,[Xe],o,!0))),pn(s,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function us(s){s.flags|=4}function Fd(s,a,o,d,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(vb())s.flags|=8192;else throw Cr=hc,rd}else s.flags&=-16777217}function Gp(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cx(a))if(vb())s.flags|=8192;else throw Cr=hc,rd}function Cc(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ue():536870912,s.lanes|=a,ya|=a)}function Ml(s,a){if(!ne)switch(s.tailMode){case"hidden":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Me(s){var a=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(a)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=o,a}function ok(s,a,o){var d=a.pendingProps;switch(Qh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(a),null;case 1:return Me(a),null;case 3:return o=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),as(Xe),wt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(aa(a)?us(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kh())),Me(a),null;case 26:var p=a.type,x=a.memoizedState;return s===null?(us(a),x!==null?(Me(a),Gp(a,x)):(Me(a),Fd(a,p,null,d,o))):x?x!==s.memoizedState?(us(a),Me(a),Gp(a,x)):(Me(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&us(a),Me(a),Fd(a,p,s,d,o)),null;case 27:if(ct(a),o=gt.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Me(a),null}s=lt.current,aa(a)?Mm(a):(s=ex(p,d,o),a.stateNode=s,us(a))}return Me(a),null;case 5:if(ct(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Me(a),null}if(x=lt.current,aa(a))Mm(a);else{var w=Ic(gt.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}x[le]=a,x[fe]=d;t:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break t;for(;w.sibling===null;){if(w.return===null||w.return===a)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=x;t:switch(bn(x,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}d&&us(a)}}return Me(a),Fd(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,o),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(s=gt.current,aa(a)){if(s=a.stateNode,o=a.memoizedProps,d=null,p=gn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}s[le]=a,s=!!(s.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Yb(s.nodeValue,o)),s||zs(a,!0)}else s=Ic(s).createTextNode(d),s[le]=a,a.stateNode=s}return Me(a),null;case 31:if(o=a.memoizedState,s===null||s.memoizedState!==null){if(d=aa(a),o!==null){if(s===null){if(!d)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[le]=a}else kr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Me(a),s=!1}else o=Kh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return a.flags&256?(ai(a),a):(ai(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Me(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=aa(a),d!==null&&d.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[le]=a}else kr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Me(a),p=!1}else p=Kh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ai(a),a):(ai(a),null)}return ai(a),(a.flags&128)!==0?(a.lanes=o,a):(o=d!==null,s=s!==null&&s.memoizedState!==null,o&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==p&&(d.flags|=2048)),o!==s&&o&&(a.child.flags|=8192),Cc(a,a.updateQueue),Me(a),null);case 4:return wt(),s===null&&hf(a.stateNode.containerInfo),Me(a),null;case 10:return as(a.type),Me(a),null;case 19:if(L(Ie),d=a.memoizedState,d===null)return Me(a),null;if(p=(a.flags&128)!==0,x=d.rendering,x===null)if(p)Ml(d,!1);else{if(Be!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=mc(s),x!==null){for(a.flags|=128,Ml(d,!1),s=x.updateQueue,a.updateQueue=s,Cc(a,s),a.subtreeFlags=0,s=o,o=a.child;o!==null;)Sm(o,s),o=o.sibling;return $(Ie,Ie.current&1|2),ne&&ss(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Vt()>Rc&&(a.flags|=128,p=!0,Ml(d,!1),a.lanes=4194304)}else{if(!p)if(s=mc(x),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,Cc(a,s),Ml(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ne)return Me(a),null}else 2*Vt()-d.renderingStartTime>Rc&&o!==536870912&&(a.flags|=128,p=!0,Ml(d,!1),a.lanes=4194304);d.isBackwards?(x.sibling=a.child,a.child=x):(s=d.last,s!==null?s.sibling=x:a.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Vt(),s.sibling=null,o=Ie.current,$(Ie,p?o&1|2:o&1),ne&&ss(a,d.treeForkCount),s):(Me(a),null);case 22:case 23:return ai(a),hd(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(o&536870912)!==0&&(a.flags&128)===0&&(Me(a),a.subtreeFlags&6&&(a.flags|=8192)):Me(a),o=a.updateQueue,o!==null&&Cc(a,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048),s!==null&&L(jr),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),as(Xe),Me(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ck(s,a){switch(Qh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return as(Xe),wt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ct(a),null;case 31:if(a.memoizedState!==null){if(ai(a),a.alternate===null)throw Error(i(340));kr()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(ai(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));kr()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return L(Ie),null;case 4:return wt(),null;case 10:return as(a.type),null;case 22:case 23:return ai(a),hd(),s!==null&&L(jr),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return as(Xe),null;case 25:return null;default:return null}}function Xp(s,a){switch(Qh(a),a.tag){case 3:as(Xe),wt();break;case 26:case 27:case 5:ct(a);break;case 4:wt();break;case 31:a.memoizedState!==null&&ai(a);break;case 13:ai(a);break;case 19:L(Ie);break;case 10:as(a.type);break;case 22:case 23:ai(a),hd(),s!==null&&L(jr);break;case 24:as(Xe)}}function Cl(s,a){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&s)===s){d=void 0;var x=o.create,w=o.inst;d=x(),w.destroy=d}o=o.next}while(o!==p)}}catch(C){me(a,a.return,C)}}function Fs(s,a,o){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&s)===s){var w=d.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,p=a;var z=o,G=C;try{G()}catch(nt){me(p,z,nt)}}}d=d.next}while(d!==x)}}catch(nt){me(a,a.return,nt)}}function Qp(s){var a=s.updateQueue;if(a!==null){var o=s.stateNode;try{Vm(a,o)}catch(d){me(s,s.return,d)}}}function Zp(s,a,o){o.props=Dr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(d){me(s,a,d)}}function El(s,a){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof o=="function"?s.refCleanup=o(d):o.current=d}}catch(p){me(s,a,p)}}function qi(s,a){var o=s.ref,d=s.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){me(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){me(s,a,p)}else o.current=null}function Kp(s){var a=s.type,o=s.memoizedProps,d=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break t;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){me(s,s.return,p)}}function Id(s,a,o){try{var d=s.stateNode;Dk(d,s.type,o,a),d[fe]=a}catch(p){me(s,s.return,p)}}function Jp(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xs(s.type)||s.tag===4}function Yd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Jp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qd(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(s),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Ge));else if(d!==4&&(d===27&&Xs(s.type)&&(o=s.stateNode,a=null),s=s.child,s!==null))for(qd(s,a,o),s=s.sibling;s!==null;)qd(s,a,o),s=s.sibling}function Ec(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?o.insertBefore(s,a):o.appendChild(s);else if(d!==4&&(d===27&&Xs(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ec(s,a,o),s=s.sibling;s!==null;)Ec(s,a,o),s=s.sibling}function tb(s){var a=s.stateNode,o=s.memoizedProps;try{for(var d=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);bn(a,d,o),a[le]=s,a[fe]=o}catch(x){me(s,s.return,x)}}var hs=!1,Ke=!1,$d=!1,eb=typeof WeakSet=="function"?WeakSet:Set,un=null;function uk(s,a){if(s=s.containerInfo,gf=Qc,s=fm(s),Hh(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break t}var w=0,C=-1,z=-1,G=0,nt=0,at=s,Z=null;e:for(;;){for(var tt;at!==o||p!==0&&at.nodeType!==3||(C=w+p),at!==x||d!==0&&at.nodeType!==3||(z=w+d),at.nodeType===3&&(w+=at.nodeValue.length),(tt=at.firstChild)!==null;)Z=at,at=tt;for(;;){if(at===s)break e;if(Z===o&&++G===p&&(C=w),Z===x&&++nt===d&&(z=w),(tt=at.nextSibling)!==null)break;at=Z,Z=at.parentNode}at=tt}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(mf={focusedElem:s,selectionRange:o},Qc=!1,un=a;un!==null;)if(a=un,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,un=s;else for(;un!==null;){switch(a=un,x=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,o=a,p=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var jt=Dr(o.type,p);s=d.getSnapshotBeforeUpdate(jt,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(Rt){me(o,o.return,Rt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,o=s.nodeType,o===9)xf(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,un=s;break}un=a.return}}function nb(s,a,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:fs(s,o),d&4&&Cl(5,o);break;case 1:if(fs(s,o),d&4)if(s=o.stateNode,a===null)try{s.componentDidMount()}catch(w){me(o,o.return,w)}else{var p=Dr(o.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){me(o,o.return,w)}}d&64&&Qp(o),d&512&&El(o,o.return);break;case 3:if(fs(s,o),d&64&&(s=o.updateQueue,s!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Vm(s,a)}catch(w){me(o,o.return,w)}}break;case 27:a===null&&d&4&&tb(o);case 26:case 5:fs(s,o),a===null&&d&4&&Kp(o),d&512&&El(o,o.return);break;case 12:fs(s,o);break;case 31:fs(s,o),d&4&&rb(s,o);break;case 13:fs(s,o),d&4&&ab(s,o),d&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=yk.bind(null,o),Hk(s,o))));break;case 22:if(d=o.memoizedState!==null||hs,!d){a=a!==null&&a.memoizedState!==null||Ke,p=hs;var x=Ke;hs=d,(Ke=a)&&!x?gs(s,o,(o.subtreeFlags&8772)!==0):fs(s,o),hs=p,Ke=x}break;case 30:break;default:fs(s,o)}}function ib(s){var a=s.alternate;a!==null&&(s.alternate=null,ib(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Vi(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ce=null,Vn=!1;function ds(s,a,o){for(o=o.child;o!==null;)sb(s,a,o),o=o.sibling}function sb(s,a,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 26:Ke||qi(o,a),ds(s,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||qi(o,a);var d=Ce,p=Vn;Xs(o.type)&&(Ce=o.stateNode,Vn=!1),ds(s,a,o),Bl(o.stateNode),Ce=d,Vn=p;break;case 5:Ke||qi(o,a);case 6:if(d=Ce,p=Vn,Ce=null,ds(s,a,o),Ce=d,Vn=p,Ce!==null)if(Vn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(o.stateNode)}catch(x){me(o,a,x)}else try{Ce.removeChild(o.stateNode)}catch(x){me(o,a,x)}break;case 18:Ce!==null&&(Vn?(s=Ce,Qb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ma(s)):Qb(Ce,o.stateNode));break;case 4:d=Ce,p=Vn,Ce=o.stateNode.containerInfo,Vn=!0,ds(s,a,o),Ce=d,Vn=p;break;case 0:case 11:case 14:case 15:Fs(2,o,a),Ke||Fs(4,o,a),ds(s,a,o);break;case 1:Ke||(qi(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Zp(o,a,d)),ds(s,a,o);break;case 21:ds(s,a,o);break;case 22:Ke=(d=Ke)||o.memoizedState!==null,ds(s,a,o),Ke=d;break;default:ds(s,a,o)}}function rb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ma(s)}catch(o){me(a,a.return,o)}}}function ab(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ma(s)}catch(o){me(a,a.return,o)}}function hk(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new eb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new eb),a;default:throw Error(i(435,s.tag))}}function Tc(s,a){var o=hk(s);a.forEach(function(d){if(!o.has(d)){o.add(d);var p=vk.bind(null,s,d);d.then(p,p)}})}function Un(s,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],x=s,w=a,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Xs(C.type)){Ce=C.stateNode,Vn=!1;break t}break;case 5:Ce=C.stateNode,Vn=!1;break t;case 3:case 4:Ce=C.stateNode.containerInfo,Vn=!0;break t}C=C.return}if(Ce===null)throw Error(i(160));sb(x,w,p),Ce=null,Vn=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lb(a,s),a=a.sibling}var Ri=null;function lb(s,a){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Un(a,s),Fn(s),d&4&&(Fs(3,s,s.return),Cl(3,s),Fs(5,s,s.return));break;case 1:Un(a,s),Fn(s),d&512&&(Ke||o===null||qi(o,o.return)),d&64&&hs&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=Ri;if(Un(a,s),Fn(s),d&512&&(Ke||o===null||qi(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=s.memoizedState,o===null)if(d===null)if(s.stateNode===null){t:{d=s.type,o=s.memoizedProps,p=p.ownerDocument||p;e:switch(d){case"title":x=p.getElementsByTagName("title")[0],(!x||x[_n]||x[le]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(d),p.head.insertBefore(x,p.querySelector("head > title"))),bn(x,d,o),x[le]=s,$t(x),d=x;break t;case"link":var w=lx("link","href",p).get(d+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(x=w[C],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}x=p.createElement(d),bn(x,d,o),p.head.appendChild(x);break;case"meta":if(w=lx("meta","content",p).get(d+(o.content||""))){for(C=0;C<w.length;C++)if(x=w[C],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}x=p.createElement(d),bn(x,d,o),p.head.appendChild(x);break;default:throw Error(i(468,d))}x[le]=s,$t(x),d=x}s.stateNode=d}else ox(p,s.type,s.stateNode);else s.stateNode=ax(p,d,s.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?ox(p,s.type,s.stateNode):ax(p,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Id(s,s.memoizedProps,o.memoizedProps)}break;case 27:Un(a,s),Fn(s),d&512&&(Ke||o===null||qi(o,o.return)),o!==null&&d&4&&Id(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Un(a,s),Fn(s),d&512&&(Ke||o===null||qi(o,o.return)),s.flags&32){p=s.stateNode;try{R(p,"")}catch(jt){me(s,s.return,jt)}}d&4&&s.stateNode!=null&&(p=s.memoizedProps,Id(s,p,o!==null?o.memoizedProps:p)),d&1024&&($d=!0);break;case 6:if(Un(a,s),Fn(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,o=s.stateNode;try{o.nodeValue=d}catch(jt){me(s,s.return,jt)}}break;case 3:if($c=null,p=Ri,Ri=Yc(a.containerInfo),Un(a,s),Ri=p,Fn(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ma(a.containerInfo)}catch(jt){me(s,s.return,jt)}$d&&($d=!1,ob(s));break;case 4:d=Ri,Ri=Yc(s.stateNode.containerInfo),Un(a,s),Fn(s),Ri=d;break;case 12:Un(a,s),Fn(s);break;case 31:Un(a,s),Fn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 13:Un(a,s),Fn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ac=Vt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 22:p=s.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,G=hs,nt=Ke;if(hs=G||p,Ke=nt||z,Un(a,s),Ke=nt,hs=G,Fn(s),d&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||z||hs||Ke||Ar(s)),o=null,a=s;;){if(a.tag===5||a.tag===26){if(o===null){z=o=a;try{if(x=z.stateNode,p)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=z.stateNode;var at=z.memoizedProps.style,Z=at!=null&&at.hasOwnProperty("display")?at.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(jt){me(z,z.return,jt)}}}else if(a.tag===6){if(o===null){z=a;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(jt){me(z,z.return,jt)}}}else if(a.tag===18){if(o===null){z=a;try{var tt=z.stateNode;p?Zb(tt,!0):Zb(z.stateNode,!1)}catch(jt){me(z,z.return,jt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Tc(s,o))));break;case 19:Un(a,s),Fn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 30:break;case 21:break;default:Un(a,s),Fn(s)}}function Fn(s){var a=s.flags;if(a&2){try{for(var o,d=s.return;d!==null;){if(Jp(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,x=Yd(s);Ec(s,x,p);break;case 5:var w=o.stateNode;o.flags&32&&(R(w,""),o.flags&=-33);var C=Yd(s);Ec(s,C,w);break;case 3:case 4:var z=o.stateNode.containerInfo,G=Yd(s);qd(s,G,z);break;default:throw Error(i(161))}}catch(nt){me(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ob(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;ob(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function fs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nb(s,a.alternate,a),a=a.sibling}function Ar(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Fs(4,a,a.return),Ar(a);break;case 1:qi(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Zp(a,a.return,o),Ar(a);break;case 27:Bl(a.stateNode);case 26:case 5:qi(a,a.return),Ar(a);break;case 22:a.memoizedState===null&&Ar(a);break;case 30:Ar(a);break;default:Ar(a)}s=s.sibling}}function gs(s,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=s,x=a,w=x.flags;switch(x.tag){case 0:case 11:case 15:gs(p,x,o),Cl(4,x);break;case 1:if(gs(p,x,o),d=x,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){me(d,d.return,G)}if(d=x,p=d.updateQueue,p!==null){var C=d.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Hm(z[p],C)}catch(G){me(d,d.return,G)}}o&&w&64&&Qp(x),El(x,x.return);break;case 27:tb(x);case 26:case 5:gs(p,x,o),o&&d===null&&w&4&&Kp(x),El(x,x.return);break;case 12:gs(p,x,o);break;case 31:gs(p,x,o),o&&w&4&&rb(p,x);break;case 13:gs(p,x,o),o&&w&4&&ab(p,x);break;case 22:x.memoizedState===null&&gs(p,x,o),El(x,x.return);break;case 30:break;default:gs(p,x,o)}a=a.sibling}}function Wd(s,a){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&ml(o))}function Gd(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ml(s))}function Oi(s,a,o,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cb(s,a,o,d),a=a.sibling}function cb(s,a,o,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(s,a,o,d),p&2048&&Cl(9,a);break;case 1:Oi(s,a,o,d);break;case 3:Oi(s,a,o,d),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ml(s)));break;case 12:if(p&2048){Oi(s,a,o,d),s=a.stateNode;try{var x=a.memoizedProps,w=x.id,C=x.onPostCommit;typeof C=="function"&&C(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){me(a,a.return,z)}}else Oi(s,a,o,d);break;case 31:Oi(s,a,o,d);break;case 13:Oi(s,a,o,d);break;case 23:break;case 22:x=a.stateNode,w=a.alternate,a.memoizedState!==null?x._visibility&2?Oi(s,a,o,d):Tl(s,a):x._visibility&2?Oi(s,a,o,d):(x._visibility|=2,pa(s,a,o,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Wd(w,a);break;case 24:Oi(s,a,o,d),p&2048&&Gd(a.alternate,a);break;default:Oi(s,a,o,d)}}function pa(s,a,o,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=s,w=a,C=o,z=d,G=w.flags;switch(w.tag){case 0:case 11:case 15:pa(x,w,C,z,p),Cl(8,w);break;case 23:break;case 22:var nt=w.stateNode;w.memoizedState!==null?nt._visibility&2?pa(x,w,C,z,p):Tl(x,w):(nt._visibility|=2,pa(x,w,C,z,p)),p&&G&2048&&Wd(w.alternate,w);break;case 24:pa(x,w,C,z,p),p&&G&2048&&Gd(w.alternate,w);break;default:pa(x,w,C,z,p)}a=a.sibling}}function Tl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=s,d=a,p=d.flags;switch(d.tag){case 22:Tl(o,d),p&2048&&Wd(d.alternate,d);break;case 24:Tl(o,d),p&2048&&Gd(d.alternate,d);break;default:Tl(o,d)}a=a.sibling}}var Dl=8192;function ba(s,a,o){if(s.subtreeFlags&Dl)for(s=s.child;s!==null;)ub(s,a,o),s=s.sibling}function ub(s,a,o){switch(s.tag){case 26:ba(s,a,o),s.flags&Dl&&s.memoizedState!==null&&Zk(o,Ri,s.memoizedState,s.memoizedProps);break;case 5:ba(s,a,o);break;case 3:case 4:var d=Ri;Ri=Yc(s.stateNode.containerInfo),ba(s,a,o),Ri=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Dl,Dl=16777216,ba(s,a,o),Dl=d):ba(s,a,o));break;default:ba(s,a,o)}}function hb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Al(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];un=d,fb(d,s)}hb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)db(s),s=s.sibling}function db(s){switch(s.tag){case 0:case 11:case 15:Al(s),s.flags&2048&&Fs(9,s,s.return);break;case 3:Al(s);break;case 12:Al(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Dc(s)):Al(s);break;default:Al(s)}}function Dc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];un=d,fb(d,s)}hb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Fs(8,a,a.return),Dc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Dc(a));break;default:Dc(a)}s=s.sibling}}function fb(s,a){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Fs(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ml(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,un=d;else t:for(o=s;un!==null;){d=un;var p=d.sibling,x=d.return;if(ib(d),d===o){un=null;break t}if(p!==null){p.return=x,un=p;break t}un=x}}}var dk={getCacheForType:function(s){var a=mn(Xe),o=a.data.get(s);return o===void 0&&(o=s(),a.data.set(s,o)),o},cacheSignal:function(){return mn(Xe).controller.signal}},fk=typeof WeakMap=="function"?WeakMap:Map,he=0,Se=null,Qt=null,Jt=0,ge=0,li=null,Is=!1,xa=!1,Xd=!1,ms=0,Be=0,Ys=0,Rr=0,Qd=0,oi=0,ya=0,Rl=null,In=null,Zd=!1,Ac=0,gb=0,Rc=1/0,Oc=null,qs=null,ln=0,$s=null,va=null,ps=0,Kd=0,Jd=null,mb=null,Ol=0,tf=null;function ci(){return(he&2)!==0&&Jt!==0?Jt&-Jt:V.T!==null?lf():sn()}function pb(){if(oi===0)if((Jt&536870912)===0||ne){var s=Yt;Yt<<=1,(Yt&3932160)===0&&(Yt=262144),oi=s}else oi=536870912;return s=ri.current,s!==null&&(s.flags|=32),oi}function Yn(s,a,o){(s===Se&&(ge===2||ge===9)||s.cancelPendingCommit!==null)&&(wa(s,0),Ws(s,Jt,oi,!1)),An(s,o),((he&2)===0||s!==Se)&&(s===Se&&((he&2)===0&&(Rr|=o),Be===4&&Ws(s,Jt,oi,!1)),$i(s))}function bb(s,a,o){if((he&6)!==0)throw Error(i(327));var d=!o&&(a&127)===0&&(a&s.expiredLanes)===0||ue(s,a),p=d?pk(s,a):nf(s,a,!0),x=d;do{if(p===0){xa&&!d&&Ws(s,a,0,!1);break}else{if(o=s.current.alternate,x&&!gk(o)){p=nf(s,a,!1),x=!1;continue}if(p===2){if(x=a,s.errorRecoveryDisabledLanes&x)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var C=s;p=Rl;var z=C.current.memoizedState.isDehydrated;if(z&&(wa(C,w).flags|=256),w=nf(C,w,!1),w!==2){if(Xd&&!z){C.errorRecoveryDisabledLanes|=x,Rr|=x,p=4;break t}x=In,In=p,x!==null&&(In===null?In=x:In.push.apply(In,x))}p=w}if(x=!1,p!==2)continue}}if(p===1){wa(s,0),Ws(s,a,0,!0);break}t:{switch(d=s,x=p,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ws(d,a,oi,!Is);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ac+300-Vt(),10<p)){if(Ws(d,a,oi,!Is),Xt(d,0,!0)!==0)break t;ps=a,d.timeoutHandle=Gb(xb.bind(null,d,o,In,Oc,Zd,a,oi,Rr,ya,Is,x,"Throttled",-0,0),p);break t}xb(d,o,In,Oc,Zd,a,oi,Rr,ya,Is,x,null,-0,0)}}break}while(!0);$i(s)}function xb(s,a,o,d,p,x,w,C,z,G,nt,at,Z,tt){if(s.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ge},ub(a,x,at);var jt=(x&62914560)===x?Ac-Vt():(x&4194048)===x?gb-Vt():0;if(jt=Kk(at,jt),jt!==null){ps=x,s.cancelPendingCommit=jt(jb.bind(null,s,a,x,o,d,p,w,C,z,nt,at,null,Z,tt)),Ws(s,x,w,!G);return}}jb(s,a,x,o,d,p,w,C,z)}function gk(s){for(var a=s;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],x=p.getSnapshot;p=p.value;try{if(!ii(x(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ws(s,a,o,d){a&=~Qd,a&=~Rr,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var p=a;0<p;){var x=31-Ve(p),w=1<<x;d[x]=-1,p&=~w}o!==0&&be(s,o,a)}function zc(){return(he&6)===0?(zl(0),!1):!0}function ef(){if(Qt!==null){if(ge===0)var s=Qt.return;else s=Qt,rs=_r=null,bd(s),ha=null,bl=0,s=Qt;for(;s!==null;)Xp(s.alternate,s),s=s.return;Qt=null}}function wa(s,a){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,Ok(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ps=0,ef(),Se=s,Qt=o=is(s.current,null),Jt=a,ge=0,li=null,Is=!1,xa=ue(s,a),Xd=!1,ya=oi=Qd=Rr=Ys=Be=0,In=Rl=null,Zd=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var p=31-Ve(d),x=1<<p;a|=s[p],d&=~x}return ms=a,nc(),o}function yb(s,a){qt=null,V.H=Nl,a===ua||a===uc?(a=zm(),ge=3):a===rd?(a=zm(),ge=4):ge=a===Rd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,li=a,Qt===null&&(Be=1,_c(s,gi(a,s.current)))}function vb(){var s=ri.current;return s===null?!0:(Jt&4194048)===Jt?xi===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?s===xi:!1}function wb(){var s=V.H;return V.H=Nl,s===null?Nl:s}function Sb(){var s=V.A;return V.A=dk,s}function Lc(){Be=4,Is||(Jt&4194048)!==Jt&&ri.current!==null||(xa=!0),(Ys&134217727)===0&&(Rr&134217727)===0||Se===null||Ws(Se,Jt,oi,!1)}function nf(s,a,o){var d=he;he|=2;var p=wb(),x=Sb();(Se!==s||Jt!==a)&&(Oc=null,wa(s,a)),a=!1;var w=Be;t:do try{if(ge!==0&&Qt!==null){var C=Qt,z=li;switch(ge){case 8:ef(),w=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(a=!0);var G=ge;if(ge=0,li=null,Sa(s,C,z,G),o&&xa){w=0;break t}break;default:G=ge,ge=0,li=null,Sa(s,C,z,G)}}mk(),w=Be;break}catch(nt){yb(s,nt)}while(!0);return a&&s.shellSuspendCounter++,rs=_r=null,he=d,V.H=p,V.A=x,Qt===null&&(Se=null,Jt=0,nc()),w}function mk(){for(;Qt!==null;)kb(Qt)}function pk(s,a){var o=he;he|=2;var d=wb(),p=Sb();Se!==s||Jt!==a?(Oc=null,Rc=Vt()+500,wa(s,a)):xa=ue(s,a);t:do try{if(ge!==0&&Qt!==null){a=Qt;var x=li;e:switch(ge){case 1:ge=0,li=null,Sa(s,a,x,1);break;case 2:case 9:if(Rm(x)){ge=0,li=null,_b(a);break}a=function(){ge!==2&&ge!==9||Se!==s||(ge=7),$i(s)},x.then(a,a);break t;case 3:ge=7;break t;case 4:ge=5;break t;case 7:Rm(x)?(ge=0,li=null,_b(a)):(ge=0,li=null,Sa(s,a,x,7));break;case 5:var w=null;switch(Qt.tag){case 26:w=Qt.memoizedState;case 5:case 27:var C=Qt;if(w?cx(w):C.stateNode.complete){ge=0,li=null;var z=C.sibling;if(z!==null)Qt=z;else{var G=C.return;G!==null?(Qt=G,Pc(G)):Qt=null}break e}}ge=0,li=null,Sa(s,a,x,5);break;case 6:ge=0,li=null,Sa(s,a,x,6);break;case 8:ef(),Be=6;break t;default:throw Error(i(462))}}bk();break}catch(nt){yb(s,nt)}while(!0);return rs=_r=null,V.H=d,V.A=p,he=o,Qt!==null?0:(Se=null,Jt=0,nc(),Be)}function bk(){for(;Qt!==null&&!Dn();)kb(Qt)}function kb(s){var a=Wp(s.alternate,s,ms);s.memoizedProps=s.pendingProps,a===null?Pc(s):Qt=a}function _b(s){var a=s,o=a.alternate;switch(a.tag){case 15:case 0:a=Up(o,a,a.pendingProps,a.type,void 0,Jt);break;case 11:a=Up(o,a,a.pendingProps,a.type.render,a.ref,Jt);break;case 5:bd(a);default:Xp(o,a),a=Qt=Sm(a,ms),a=Wp(o,a,ms)}s.memoizedProps=s.pendingProps,a===null?Pc(s):Qt=a}function Sa(s,a,o,d){rs=_r=null,bd(a),ha=null,bl=0;var p=a.return;try{if(rk(s,p,a,o,Jt)){Be=1,_c(s,gi(o,s.current)),Qt=null;return}}catch(x){if(p!==null)throw Qt=p,x;Be=1,_c(s,gi(o,s.current)),Qt=null;return}a.flags&32768?(ne||d===1?s=!0:xa||(Jt&536870912)!==0?s=!1:(Is=s=!0,(d===2||d===9||d===3||d===6)&&(d=ri.current,d!==null&&d.tag===13&&(d.flags|=16384))),Nb(a,s)):Pc(a)}function Pc(s){var a=s;do{if((a.flags&32768)!==0){Nb(a,Is);return}s=a.return;var o=ok(a.alternate,a,ms);if(o!==null){Qt=o;return}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=s}while(a!==null);Be===0&&(Be=5)}function Nb(s,a){do{var o=ck(s.alternate,s);if(o!==null){o.flags&=32767,Qt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(s=s.sibling,s!==null)){Qt=s;return}Qt=s=o}while(s!==null);Be=6,Qt=null}function jb(s,a,o,d,p,x,w,C,z){s.cancelPendingCommit=null;do Bc();while(ln!==0);if((he&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=Yh,Ot(s,o,x,w,C,z),s===Se&&(Qt=Se=null,Jt=0),va=a,$s=s,ps=o,Kd=x,Jd=p,mb=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wk(Ne,function(){return Db(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,p=Y.p,Y.p=2,w=he,he|=4;try{uk(s,a,o)}finally{he=w,Y.p=p,V.T=d}}ln=1,Mb(),Cb(),Eb()}}function Mb(){if(ln===1){ln=0;var s=$s,a=va,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var d=Y.p;Y.p=2;var p=he;he|=4;try{lb(a,s);var x=mf,w=fm(s.containerInfo),C=x.focusedElem,z=x.selectionRange;if(w!==C&&C&&C.ownerDocument&&dm(C.ownerDocument.documentElement,C)){if(z!==null&&Hh(C)){var G=z.start,nt=z.end;if(nt===void 0&&(nt=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(nt,C.value.length);else{var at=C.ownerDocument||document,Z=at&&at.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),jt=C.textContent.length,Rt=Math.min(z.start,jt),we=z.end===void 0?Rt:Math.min(z.end,jt);!tt.extend&&Rt>we&&(w=we,we=Rt,Rt=w);var I=hm(C,Rt),B=hm(C,we);if(I&&B&&(tt.rangeCount!==1||tt.anchorNode!==I.node||tt.anchorOffset!==I.offset||tt.focusNode!==B.node||tt.focusOffset!==B.offset)){var W=at.createRange();W.setStart(I.node,I.offset),tt.removeAllRanges(),Rt>we?(tt.addRange(W),tt.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),tt.addRange(W))}}}}for(at=[],tt=C;tt=tt.parentNode;)tt.nodeType===1&&at.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<at.length;C++){var rt=at[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Qc=!!gf,mf=gf=null}finally{he=p,Y.p=d,V.T=o}}s.current=a,ln=2}}function Cb(){if(ln===2){ln=0;var s=$s,a=va,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var d=Y.p;Y.p=2;var p=he;he|=4;try{nb(s,a.alternate,a)}finally{he=p,Y.p=d,V.T=o}}ln=3}}function Eb(){if(ln===4||ln===3){ln=0,ae();var s=$s,a=va,o=ps,d=mb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ln=5:(ln=0,va=$s=null,Tb(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(qs=null),nn(o),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(di,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=V.T,p=Y.p,Y.p=2,V.T=null;try{for(var x=s.onRecoverableError,w=0;w<d.length;w++){var C=d[w];x(C.value,{componentStack:C.stack})}}finally{V.T=a,Y.p=p}}(ps&3)!==0&&Bc(),$i(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===tf?Ol++:(Ol=0,tf=s):Ol=0,zl(0)}}function Tb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ml(a)))}function Bc(){return Mb(),Cb(),Eb(),Db()}function Db(){if(ln!==5)return!1;var s=$s,a=Kd;Kd=0;var o=nn(ps),d=V.T,p=Y.p;try{Y.p=32>o?32:o,V.T=null,o=Jd,Jd=null;var x=$s,w=ps;if(ln=0,va=$s=null,ps=0,(he&6)!==0)throw Error(i(331));var C=he;if(he|=4,db(x.current),cb(x,x.current,w,o),he=C,zl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(di,x)}catch{}return!0}finally{Y.p=p,V.T=d,Tb(s,a)}}function Ab(s,a,o){a=gi(o,a),a=Ad(s.stateNode,a,2),s=Hs(s,a,2),s!==null&&(An(s,2),$i(s))}function me(s,a,o){if(s.tag===3)Ab(s,s,o);else for(;a!==null;){if(a.tag===3){Ab(a,s,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))){s=gi(o,s),o=Rp(2),d=Hs(a,o,2),d!==null&&(Op(o,d,a,s),An(d,2),$i(d));break}}a=a.return}}function sf(s,a,o){var d=s.pingCache;if(d===null){d=s.pingCache=new fk;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(o)||(Xd=!0,p.add(o),s=xk.bind(null,s,a,o),a.then(s,s))}function xk(s,a,o){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Se===s&&(Jt&o)===o&&(Be===4||Be===3&&(Jt&62914560)===Jt&&300>Vt()-Ac?(he&2)===0&&wa(s,0):Qd|=o,ya===Jt&&(ya=0)),$i(s)}function Rb(s,a){a===0&&(a=Ue()),s=wr(s,a),s!==null&&(An(s,a),$i(s))}function yk(s){var a=s.memoizedState,o=0;a!==null&&(o=a.retryLane),Rb(s,o)}function vk(s,a){var o=0;switch(s.tag){case 31:case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),Rb(s,o)}function wk(s,a){return _e(s,a)}var Hc=null,ka=null,rf=!1,Vc=!1,af=!1,Gs=0;function $i(s){s!==ka&&s.next===null&&(ka===null?Hc=ka=s:ka=ka.next=s),Vc=!0,rf||(rf=!0,kk())}function zl(s,a){if(!af&&Vc){af=!0;do for(var o=!1,d=Hc;d!==null;){if(s!==0){var p=d.pendingLanes;if(p===0)var x=0;else{var w=d.suspendedLanes,C=d.pingedLanes;x=(1<<31-Ve(42|s)+1)-1,x&=p&~(w&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Pb(d,x))}else x=Jt,x=Xt(d,d===Se?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||ue(d,x)||(o=!0,Pb(d,x));d=d.next}while(o);af=!1}}function Sk(){Ob()}function Ob(){Vc=rf=!1;var s=0;Gs!==0&&Rk()&&(s=Gs);for(var a=Vt(),o=null,d=Hc;d!==null;){var p=d.next,x=zb(d,a);x===0?(d.next=null,o===null?Hc=p:o.next=p,p===null&&(ka=o)):(o=d,(s!==0||(x&3)!==0)&&(Vc=!0)),d=p}ln!==0&&ln!==5||zl(s),Gs!==0&&(Gs=0)}function zb(s,a){for(var o=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var w=31-Ve(x),C=1<<w,z=p[w];z===-1?((C&o)===0||(C&d)!==0)&&(p[w]=ze(C,a)):z<=a&&(s.expiredLanes|=C),x&=~C}if(a=Se,o=Jt,o=Xt(s,s===a?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,o===0||s===a&&(ge===2||ge===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&re(d),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||ue(s,o)){if(a=o&-o,a===s.callbackPriority)return a;switch(d!==null&&re(d),nn(o)){case 2:case 8:o=tn;break;case 32:o=Ne;break;case 268435456:o=vn;break;default:o=Ne}return d=Lb.bind(null,s),o=_e(o,d),s.callbackPriority=a,s.callbackNode=o,a}return d!==null&&d!==null&&re(d),s.callbackPriority=2,s.callbackNode=null,2}function Lb(s,a){if(ln!==0&&ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Bc()&&s.callbackNode!==o)return null;var d=Jt;return d=Xt(s,s===Se?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(bb(s,d,a),zb(s,Vt()),s.callbackNode!=null&&s.callbackNode===o?Lb.bind(null,s):null)}function Pb(s,a){if(Bc())return null;bb(s,a,!0)}function kk(){zk(function(){(he&6)!==0?_e(Kn,Sk):Ob()})}function lf(){if(Gs===0){var s=oa;s===0&&(s=q,q<<=1,(q&261888)===0&&(q=256)),Gs=s}return Gs}function Bb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:We(""+s)}function Hb(s,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,s.id&&o.setAttribute("form",s.id),a.parentNode.insertBefore(o,a),s=new FormData(s),o.parentNode.removeChild(o),s}function _k(s,a,o,d,p){if(a==="submit"&&o&&o.stateNode===p){var x=Bb((p[fe]||null).action),w=d.submitter;w&&(a=(a=w[fe]||null)?Bb(a.formAction):w.getAttribute("formAction"),a!==null&&(x=a,w=null));var C=new Ko("action","action",null,d,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gs!==0){var z=w?Hb(p,w):new FormData(p);jd(o,{pending:!0,data:z,method:p.method,action:x},null,z)}}else typeof x=="function"&&(C.preventDefault(),z=w?Hb(p,w):new FormData(p),jd(o,{pending:!0,data:z,method:p.method,action:x},x,z))},currentTarget:p}]})}}for(var of=0;of<Ih.length;of++){var cf=Ih[of],Nk=cf.toLowerCase(),jk=cf[0].toUpperCase()+cf.slice(1);Ai(Nk,"on"+jk)}Ai(pm,"onAnimationEnd"),Ai(bm,"onAnimationIteration"),Ai(xm,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(FS,"onTransitionRun"),Ai(IS,"onTransitionStart"),Ai(YS,"onTransitionCancel"),Ai(ym,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Vb(s,a){a=(a&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],p=d.event;d=d.listeners;t:{var x=void 0;if(a)for(var w=d.length-1;0<=w;w--){var C=d[w],z=C.instance,G=C.currentTarget;if(C=C.listener,z!==x&&p.isPropagationStopped())break t;x=C,p.currentTarget=G;try{x(p)}catch(nt){ec(nt)}p.currentTarget=null,x=z}else for(w=0;w<d.length;w++){if(C=d[w],z=C.instance,G=C.currentTarget,C=C.listener,z!==x&&p.isPropagationStopped())break t;x=C,p.currentTarget=G;try{x(p)}catch(nt){ec(nt)}p.currentTarget=null,x=z}}}}function Zt(s,a){var o=a[ts];o===void 0&&(o=a[ts]=new Set);var d=s+"__bubble";o.has(d)||(Ub(a,s,2,!1),o.add(d))}function uf(s,a,o){var d=0;a&&(d|=4),Ub(o,s,d,a)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function hf(s){if(!s[Uc]){s[Uc]=!0,Di.forEach(function(o){o!=="selectionchange"&&(Mk.has(o)||uf(o,!1,s),uf(o,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Uc]||(a[Uc]=!0,uf("selectionchange",!1,a))}}function Ub(s,a,o,d){switch(px(a)){case 2:var p=e_;break;case 8:p=n_;break;default:p=jf}o=p.bind(null,a,o,s),p=void 0,!Th||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(a,o,{capture:!0,passive:p}):s.addEventListener(a,o,!0):p!==void 0?s.addEventListener(a,o,{passive:p}):s.addEventListener(a,o,!1)}function df(s,a,o,d,p){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var C=d.stateNode.containerInfo;if(C===p)break;if(w===4)for(w=d.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;C!==null;){if(w=Le(C),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){d=x=w;continue t}C=C.parentNode}}d=d.return}$g(function(){var G=x,nt=Ch(o),at=[];t:{var Z=vm.get(s);if(Z!==void 0){var tt=Ko,jt=s;switch(s){case"keypress":if(Qo(o)===0)break t;case"keydown":case"keyup":tt=vS;break;case"focusin":jt="focus",tt=Oh;break;case"focusout":jt="blur",tt=Oh;break;case"beforeblur":case"afterblur":tt=Oh;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=kS;break;case pm:case bm:case xm:tt=hS;break;case ym:tt=NS;break;case"scroll":case"scrollend":tt=aS;break;case"wheel":tt=MS;break;case"copy":case"cut":case"paste":tt=fS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Zg;break;case"toggle":case"beforetoggle":tt=ES}var Rt=(a&4)!==0,we=!Rt&&(s==="scroll"||s==="scrollend"),I=Rt?Z!==null?Z+"Capture":null:Z;Rt=[];for(var B=G,W;B!==null;){var rt=B;if(W=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||W===null||I===null||(rt=sl(B,I),rt!=null&&Rt.push(Pl(B,rt,W))),we)break;B=B.return}0<Rt.length&&(Z=new tt(Z,jt,null,o,nt),at.push({event:Z,listeners:Rt}))}}if((a&7)===0){t:{if(Z=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Z&&o!==Mh&&(jt=o.relatedTarget||o.fromElement)&&(Le(jt)||jt[Jn]))break t;if((tt||Z)&&(Z=nt.window===nt?nt:(Z=nt.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(jt=o.relatedTarget||o.toElement,tt=G,jt=jt?Le(jt):null,jt!==null&&(we=l(jt),Rt=jt.tag,jt!==we||Rt!==5&&Rt!==27&&Rt!==6)&&(jt=null)):(tt=null,jt=G),tt!==jt)){if(Rt=Xg,rt="onMouseLeave",I="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Rt=Zg,rt="onPointerLeave",I="onPointerEnter",B="pointer"),we=tt==null?Z:Ui(tt),W=jt==null?Z:Ui(jt),Z=new Rt(rt,B+"leave",tt,o,nt),Z.target=we,Z.relatedTarget=W,rt=null,Le(nt)===G&&(Rt=new Rt(I,B+"enter",jt,o,nt),Rt.target=W,Rt.relatedTarget=we,rt=Rt),we=rt,tt&&jt)e:{for(Rt=Ck,I=tt,B=jt,W=0,rt=I;rt;rt=Rt(rt))W++;rt=0;for(var Dt=B;Dt;Dt=Rt(Dt))rt++;for(;0<W-rt;)I=Rt(I),W--;for(;0<rt-W;)B=Rt(B),rt--;for(;W--;){if(I===B||B!==null&&I===B.alternate){Rt=I;break e}I=Rt(I),B=Rt(B)}Rt=null}else Rt=null;tt!==null&&Fb(at,Z,tt,Rt,!1),jt!==null&&we!==null&&Fb(at,we,jt,Rt,!0)}}t:{if(Z=G?Ui(G):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var oe=rm;else if(im(Z))if(am)oe=HS;else{oe=PS;var Ct=LS}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&Wt(G.elementType)&&(oe=rm):oe=BS;if(oe&&(oe=oe(s,G))){sm(at,oe,o,nt);break t}Ct&&Ct(s,Z,G),s==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&il(Z,"number",Z.value)}switch(Ct=G?Ui(G):window,s){case"focusin":(im(Ct)||Ct.contentEditable==="true")&&(ta=Ct,Vh=G,dl=null);break;case"focusout":dl=Vh=ta=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,gm(at,o,nt);break;case"selectionchange":if(US)break;case"keydown":case"keyup":gm(at,o,nt)}var Gt;if(Lh)t:{switch(s){case"compositionstart":var te="onCompositionStart";break t;case"compositionend":te="onCompositionEnd";break t;case"compositionupdate":te="onCompositionUpdate";break t}te=void 0}else Jr?em(s,o)&&(te="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(te="onCompositionStart");te&&(Kg&&o.locale!=="ko"&&(Jr||te!=="onCompositionStart"?te==="onCompositionEnd"&&Jr&&(Gt=Wg()):(As=nt,Dh="value"in As?As.value:As.textContent,Jr=!0)),Ct=Fc(G,te),0<Ct.length&&(te=new Qg(te,s,null,o,nt),at.push({event:te,listeners:Ct}),Gt?te.data=Gt:(Gt=nm(o),Gt!==null&&(te.data=Gt)))),(Gt=DS?AS(s,o):RS(s,o))&&(te=Fc(G,"onBeforeInput"),0<te.length&&(Ct=new Qg("onBeforeInput","beforeinput",null,o,nt),at.push({event:Ct,listeners:te}),Ct.data=Gt)),_k(at,s,G,o,nt)}Vb(at,a)})}function Pl(s,a,o){return{instance:s,listener:a,currentTarget:o}}function Fc(s,a){for(var o=a+"Capture",d=[];s!==null;){var p=s,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=sl(s,o),p!=null&&d.unshift(Pl(s,p,x)),p=sl(s,a),p!=null&&d.push(Pl(s,p,x))),s.tag===3)return d;s=s.return}return[]}function Ck(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Fb(s,a,o,d,p){for(var x=a._reactName,w=[];o!==null&&o!==d;){var C=o,z=C.alternate,G=C.stateNode;if(C=C.tag,z!==null&&z===d)break;C!==5&&C!==26&&C!==27||G===null||(z=G,p?(G=sl(o,x),G!=null&&w.unshift(Pl(o,G,z))):p||(G=sl(o,x),G!=null&&w.push(Pl(o,G,z)))),o=o.return}w.length!==0&&s.push({event:a,listeners:w})}var Ek=/\r\n?/g,Tk=/\u0000|\uFFFD/g;function Ib(s){return(typeof s=="string"?s:""+s).replace(Ek,`
`).replace(Tk,"")}function Yb(s,a){return a=Ib(a),Ib(s)===a}function ve(s,a,o,d,p,x){switch(o){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||R(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&R(s,""+d);break;case"className":Mt(s,"class",d);break;case"tabIndex":Mt(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Mt(s,o,d);break;case"style":Nt(s,d,x);break;case"data":if(a!=="object"){Mt(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||o!=="href")){s.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=We(""+d),s.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(a!=="input"&&ve(s,a,"name",p.name,p,null),ve(s,a,"formEncType",p.formEncType,p,null),ve(s,a,"formMethod",p.formMethod,p,null),ve(s,a,"formTarget",p.formTarget,p,null)):(ve(s,a,"encType",p.encType,p,null),ve(s,a,"method",p.method,p,null),ve(s,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=We(""+d),s.setAttribute(o,d);break;case"onClick":d!=null&&(s.onclick=Ge);break;case"onScroll":d!=null&&Zt("scroll",s);break;case"onScrollEnd":d!=null&&Zt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}o=We(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""+d):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":d===!0?s.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,d):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(o,d):s.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(o):s.setAttribute(o,d);break;case"popover":Zt("beforetoggle",s),Zt("toggle",s),Et(s,"popover",d);break;case"xlinkActuate":ee(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ee(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ee(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ee(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ee(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ee(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ee(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ee(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ee(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Et(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$e.get(o)||o,Et(s,o,d))}}function ff(s,a,o,d,p,x){switch(o){case"style":Nt(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof d=="string"?R(s,d):(typeof d=="number"||typeof d=="bigint")&&R(s,""+d);break;case"onScroll":d!=null&&Zt("scroll",s);break;case"onScrollEnd":d!=null&&Zt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Ge);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ti.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),x=s[fe]||null,x=x!=null?x[o]:null,typeof x=="function"&&s.removeEventListener(a,x,p),typeof d=="function")){typeof x!="function"&&x!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(a,d,p);break t}o in s?s[o]=d:d===!0?s.setAttribute(o,""):Et(s,o,d)}}}function bn(s,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",s),Zt("load",s);var d=!1,p=!1,x;for(x in o)if(o.hasOwnProperty(x)){var w=o[x];if(w!=null)switch(x){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ve(s,a,x,w,o,null)}}p&&ve(s,a,"srcSet",o.srcSet,o,null),d&&ve(s,a,"src",o.src,o,null);return;case"input":Zt("invalid",s);var C=x=w=p=null,z=null,G=null;for(d in o)if(o.hasOwnProperty(d)){var nt=o[d];if(nt!=null)switch(d){case"name":p=nt;break;case"type":w=nt;break;case"checked":z=nt;break;case"defaultChecked":G=nt;break;case"value":x=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:ve(s,a,d,nt,o,null)}}nl(s,x,C,z,G,w,p,!1);return;case"select":Zt("invalid",s),d=w=x=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":x=C;break;case"defaultValue":w=C;break;case"multiple":d=C;default:ve(s,a,p,C,o,null)}a=x,o=w,s.multiple=!!d,a!=null?Ds(s,!!d,a,!1):o!=null&&Ds(s,!!d,o,!0);return;case"textarea":Zt("invalid",s),x=p=d=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":d=C;break;case"defaultValue":p=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ve(s,a,w,C,o,null)}T(s,d,p,x);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(d=o[z],d!=null))switch(z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ve(s,a,z,d,o,null)}return;case"dialog":Zt("beforetoggle",s),Zt("toggle",s),Zt("cancel",s),Zt("close",s);break;case"iframe":case"object":Zt("load",s);break;case"video":case"audio":for(d=0;d<Ll.length;d++)Zt(Ll[d],s);break;case"image":Zt("error",s),Zt("load",s);break;case"details":Zt("toggle",s);break;case"embed":case"source":case"link":Zt("error",s),Zt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(d=o[G],d!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ve(s,a,G,d,o,null)}return;default:if(Wt(a)){for(nt in o)o.hasOwnProperty(nt)&&(d=o[nt],d!==void 0&&ff(s,a,nt,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&ve(s,a,C,d,o,null))}function Dk(s,a,o,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,w=null,C=null,z=null,G=null,nt=null;for(tt in o){var at=o[tt];if(o.hasOwnProperty(tt)&&at!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":z=at;default:d.hasOwnProperty(tt)||ve(s,a,tt,null,d,at)}}for(var Z in d){var tt=d[Z];if(at=o[Z],d.hasOwnProperty(Z)&&(tt!=null||at!=null))switch(Z){case"type":x=tt;break;case"name":p=tt;break;case"checked":G=tt;break;case"defaultChecked":nt=tt;break;case"value":w=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==at&&ve(s,a,Z,tt,d,at)}}br(s,w,C,z,G,nt,x,p);return;case"select":tt=w=C=Z=null;for(x in o)if(z=o[x],o.hasOwnProperty(x)&&z!=null)switch(x){case"value":break;case"multiple":tt=z;default:d.hasOwnProperty(x)||ve(s,a,x,null,d,z)}for(p in d)if(x=d[p],z=o[p],d.hasOwnProperty(p)&&(x!=null||z!=null))switch(p){case"value":Z=x;break;case"defaultValue":C=x;break;case"multiple":w=x;default:x!==z&&ve(s,a,p,x,d,z)}a=C,o=w,d=tt,Z!=null?Ds(s,!!o,Z,!1):!!d!=!!o&&(a!=null?Ds(s,!!o,a,!0):Ds(s,!!o,o?[]:"",!1));return;case"textarea":tt=Z=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ve(s,a,C,null,d,p)}for(w in d)if(p=d[w],x=o[w],d.hasOwnProperty(w)&&(p!=null||x!=null))switch(w){case"value":Z=p;break;case"defaultValue":tt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==x&&ve(s,a,w,p,d,x)}M(s,Z,tt);return;case"option":for(var jt in o)if(Z=o[jt],o.hasOwnProperty(jt)&&Z!=null&&!d.hasOwnProperty(jt))switch(jt){case"selected":s.selected=!1;break;default:ve(s,a,jt,null,d,Z)}for(z in d)if(Z=d[z],tt=o[z],d.hasOwnProperty(z)&&Z!==tt&&(Z!=null||tt!=null))switch(z){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ve(s,a,z,Z,d,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in o)Z=o[Rt],o.hasOwnProperty(Rt)&&Z!=null&&!d.hasOwnProperty(Rt)&&ve(s,a,Rt,null,d,Z);for(G in d)if(Z=d[G],tt=o[G],d.hasOwnProperty(G)&&Z!==tt&&(Z!=null||tt!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ve(s,a,G,Z,d,tt)}return;default:if(Wt(a)){for(var we in o)Z=o[we],o.hasOwnProperty(we)&&Z!==void 0&&!d.hasOwnProperty(we)&&ff(s,a,we,void 0,d,Z);for(nt in d)Z=d[nt],tt=o[nt],!d.hasOwnProperty(nt)||Z===tt||Z===void 0&&tt===void 0||ff(s,a,nt,Z,d,tt);return}}for(var I in o)Z=o[I],o.hasOwnProperty(I)&&Z!=null&&!d.hasOwnProperty(I)&&ve(s,a,I,null,d,Z);for(at in d)Z=d[at],tt=o[at],!d.hasOwnProperty(at)||Z===tt||Z==null&&tt==null||ve(s,a,at,Z,d,tt)}function qb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ak(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],x=p.transferSize,w=p.initiatorType,C=p.duration;if(x&&C&&qb(w)){for(w=0,C=p.responseEnd,d+=1;d<o.length;d++){var z=o[d],G=z.startTime;if(G>C)break;var nt=z.transferSize,at=z.initiatorType;nt&&qb(at)&&(z=z.responseEnd,w+=nt*(z<C?1:(C-G)/(z-G)))}if(--d,a+=8*(x+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gf=null,mf=null;function Ic(s){return s.nodeType===9?s:s.ownerDocument}function $b(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function pf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bf=null;function Rk(){var s=window.event;return s&&s.type==="popstate"?s===bf?!1:(bf=s,!0):(bf=null,!1)}var Gb=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,Xb=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Xb<"u"?function(s){return Xb.resolve(null).then(s).catch(Lk)}:Gb;function Lk(s){setTimeout(function(){throw s})}function Xs(s){return s==="head"}function Qb(s,a){var o=a,d=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){s.removeChild(p),Ma(a);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Bl(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Bl(o);for(var x=o.firstChild;x;){var w=x.nextSibling,C=x.nodeName;x[_n]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=w}}else o==="body"&&Bl(s.ownerDocument.body);o=p}while(o);Ma(a)}function Zb(s,a){var o=s;s=0;do{var d=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=d}while(o)}function xf(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xf(o),Vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function Pk(s,a,o,d){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[_n])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=yi(s.nextSibling),s===null)break}return null}function Bk(s,a,o){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=yi(s.nextSibling),s===null))return null;return s}function Kb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=yi(s.nextSibling),s===null))return null;return s}function yf(s){return s.data==="$?"||s.data==="$~"}function vf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Hk(s,a){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||o.readyState!=="loading")a();else{var d=function(){a(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function yi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var wf=null;function Jb(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(a===0)return yi(s.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}s=s.nextSibling}return null}function tx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return s;a--}else o!=="/$"&&o!=="/&"||a++}s=s.previousSibling}return null}function ex(s,a,o){switch(a=Ic(o),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Bl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Vi(s)}var vi=new Map,nx=new Set;function Yc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bs=Y.d;Y.d={f:Vk,r:Uk,D:Fk,C:Ik,L:Yk,m:qk,X:Wk,S:$k,M:Gk};function Vk(){var s=bs.f(),a=zc();return s||a}function Uk(s){var a=De(s);a!==null&&a.tag===5&&a.type==="form"?yp(a):bs.r(s)}var _a=typeof document>"u"?null:document;function ix(s,a,o){var d=_a;if(d&&typeof a=="string"&&a){var p=On(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),nx.has(p)||(nx.add(p),s={rel:s,crossOrigin:o,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),bn(a,"link",s),$t(a),d.head.appendChild(a)))}}function Fk(s){bs.D(s),ix("dns-prefetch",s,null)}function Ik(s,a){bs.C(s,a),ix("preconnect",s,a)}function Yk(s,a,o){bs.L(s,a,o);var d=_a;if(d&&s&&a){var p='link[rel="preload"][as="'+On(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+On(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+On(o.imageSizes)+'"]')):p+='[href="'+On(s)+'"]';var x=p;switch(a){case"style":x=Na(s);break;case"script":x=ja(s)}vi.has(x)||(s=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:s,as:a},o),vi.set(x,s),d.querySelector(p)!==null||a==="style"&&d.querySelector(Hl(x))||a==="script"&&d.querySelector(Vl(x))||(a=d.createElement("link"),bn(a,"link",s),$t(a),d.head.appendChild(a)))}}function qk(s,a){bs.m(s,a);var o=_a;if(o&&s){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+On(d)+'"][href="'+On(s)+'"]',x=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ja(s)}if(!vi.has(x)&&(s=b({rel:"modulepreload",href:s},a),vi.set(x,s),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vl(x)))return}d=o.createElement("link"),bn(d,"link",s),$t(d),o.head.appendChild(d)}}}function $k(s,a,o){bs.S(s,a,o);var d=_a;if(d&&s){var p=Bn(d).hoistableStyles,x=Na(s);a=a||"default";var w=p.get(x);if(!w){var C={loading:0,preload:null};if(w=d.querySelector(Hl(x)))C.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},o),(o=vi.get(x))&&Sf(s,o);var z=w=d.createElement("link");$t(z),bn(z,"link",s),z._p=new Promise(function(G,nt){z.onload=G,z.onerror=nt}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qc(w,a,d)}w={type:"stylesheet",instance:w,count:1,state:C},p.set(x,w)}}}function Wk(s,a){bs.X(s,a);var o=_a;if(o&&s){var d=Bn(o).hoistableScripts,p=ja(s),x=d.get(p);x||(x=o.querySelector(Vl(p)),x||(s=b({src:s,async:!0},a),(a=vi.get(p))&&kf(s,a),x=o.createElement("script"),$t(x),bn(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function Gk(s,a){bs.M(s,a);var o=_a;if(o&&s){var d=Bn(o).hoistableScripts,p=ja(s),x=d.get(p);x||(x=o.querySelector(Vl(p)),x||(s=b({src:s,async:!0,type:"module"},a),(a=vi.get(p))&&kf(s,a),x=o.createElement("script"),$t(x),bn(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function sx(s,a,o,d){var p=(p=gt.current)?Yc(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Na(o.href),o=Bn(p).hoistableStyles,d=o.get(a),d||(d={type:"style",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Na(o.href);var x=Bn(p).hoistableStyles,w=x.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,w),(x=p.querySelector(Hl(s)))&&!x._p&&(w.instance=x,w.state.loading=5),vi.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(s,o),x||Xk(p,s,o,w.state))),a&&d===null)throw Error(i(528,""));return w}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ja(o),o=Bn(p).hoistableScripts,d=o.get(a),d||(d={type:"script",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Na(s){return'href="'+On(s)+'"'}function Hl(s){return'link[rel="stylesheet"]['+s+"]"}function rx(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function Xk(s,a,o,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),bn(a,"link",o),$t(a),s.head.appendChild(a))}function ja(s){return'[src="'+On(s)+'"]'}function Vl(s){return"script[async]"+s}function ax(s,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+On(o.href)+'"]');if(d)return a.instance=d,$t(d),d;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),$t(d),bn(d,"style",p),qc(d,o.precedence,s),a.instance=d;case"stylesheet":p=Na(o.href);var x=s.querySelector(Hl(p));if(x)return a.state.loading|=4,a.instance=x,$t(x),x;d=rx(o),(p=vi.get(p))&&Sf(d,p),x=(s.ownerDocument||s).createElement("link"),$t(x);var w=x;return w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),bn(x,"link",d),a.state.loading|=4,qc(x,o.precedence,s),a.instance=x;case"script":return x=ja(o.src),(p=s.querySelector(Vl(x)))?(a.instance=p,$t(p),p):(d=o,(p=vi.get(x))&&(d=b({},o),kf(d,p)),s=s.ownerDocument||s,p=s.createElement("script"),$t(p),bn(p,"link",d),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,qc(d,o.precedence,s));return a.instance}function qc(s,a,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,x=p,w=0;w<d.length;w++){var C=d[w];if(C.dataset.precedence===a)x=C;else if(x!==p)break}x?x.parentNode.insertBefore(s,x.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(s,a.firstChild))}function Sf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function kf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var $c=null;function lx(s,a,o){if($c===null){var d=new Map,p=$c=new Map;p.set(o,d)}else p=$c,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(s))return d;for(d.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var x=o[p];if(!(x[_n]||x[le]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(a)||"";w=s+w;var C=d.get(w);C?C.push(x):d.set(w,[x])}}return d}function ox(s,a,o){s=s.ownerDocument||s,s.head.insertBefore(o,a==="title"?s.querySelector("head > title"):null)}function Qk(s,a,o){if(o===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Zk(s,a,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Na(d.href),x=a.querySelector(Hl(p));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Wc.bind(s),a.then(s,s)),o.state.loading|=4,o.instance=x,$t(x);return}x=a.ownerDocument||a,d=rx(d),(p=vi.get(p))&&Sf(d,p),x=x.createElement("link"),$t(x);var w=x;w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),bn(x,"link",d),o.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Wc.bind(s),a.addEventListener("load",o),a.addEventListener("error",o))}}var _f=0;function Kk(s,a){return s.stylesheets&&s.count===0&&Xc(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var d=setTimeout(function(){if(s.stylesheets&&Xc(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+a);0<s.imgBytes&&_f===0&&(_f=62500*Ak());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xc(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>_f?50:800)+a);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gc=null;function Xc(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gc=new Map,a.forEach(Jk,s),Gc=null,Wc.call(s))}function Jk(s,a){if(!(a.state.loading&4)){var o=Gc.get(s);if(o)var d=o.get(null);else{o=new Map,Gc.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var w=p[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}p=a.instance,w=p.getAttribute("data-precedence"),x=o.get(w)||d,x===d&&o.set(null,p),o.set(w,p),this.count++,d=Wc.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),x?x.parentNode.insertBefore(p,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Ul={$$typeof:D,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function t_(s,a,o,d,p,x,w,C,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function ux(s,a,o,d,p,x,w,C,z,G,nt,at){return s=new t_(s,a,o,w,z,G,nt,at,C),a=1,x===!0&&(a|=24),x=si(3,null,null,a),s.current=x,x.stateNode=s,a=nd(),a.refCount++,s.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:a},ad(x),s}function hx(s){return s?(s=ia,s):ia}function dx(s,a,o,d,p,x){p=hx(p),d.context===null?d.context=p:d.pendingContext=p,d=Bs(a),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Hs(s,d,a),o!==null&&(Yn(o,s,a),yl(o,s,a))}function fx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<a?o:a}}function Nf(s,a){fx(s,a),(s=s.alternate)&&fx(s,a)}function gx(s){if(s.tag===13||s.tag===31){var a=wr(s,67108864);a!==null&&Yn(a,s,67108864),Nf(s,67108864)}}function mx(s){if(s.tag===13||s.tag===31){var a=ci();a=kn(a);var o=wr(s,a);o!==null&&Yn(o,s,a),Nf(s,a)}}var Qc=!0;function e_(s,a,o,d){var p=V.T;V.T=null;var x=Y.p;try{Y.p=2,jf(s,a,o,d)}finally{Y.p=x,V.T=p}}function n_(s,a,o,d){var p=V.T;V.T=null;var x=Y.p;try{Y.p=8,jf(s,a,o,d)}finally{Y.p=x,V.T=p}}function jf(s,a,o,d){if(Qc){var p=Mf(d);if(p===null)df(s,a,d,Zc,o),bx(s,d);else if(s_(p,s,a,o,d))d.stopPropagation();else if(bx(s,d),a&4&&-1<i_.indexOf(s)){for(;p!==null;){var x=De(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=Pt(x.pendingLanes);if(w!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var z=1<<31-Ve(w);C.entanglements[1]|=z,w&=~z}$i(x),(he&6)===0&&(Rc=Vt()+500,zl(0))}}break;case 31:case 13:C=wr(x,2),C!==null&&Yn(C,x,2),zc(),Nf(x,2)}if(x=Mf(d),x===null&&df(s,a,d,Zc,o),x===p)break;p=x}p!==null&&d.stopPropagation()}else df(s,a,d,null,o)}}function Mf(s){return s=Ch(s),Cf(s)}var Zc=null;function Cf(s){if(Zc=null,s=Le(s),s!==null){var a=l(s);if(a===null)s=null;else{var o=a.tag;if(o===13){if(s=c(a),s!==null)return s;s=null}else if(o===31){if(s=u(a),s!==null)return s;s=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Zc=s,null}function px(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case Kn:return 2;case tn:return 8;case Ne:case cn:return 32;case vn:return 268435456;default:return 32}default:return 32}}var Ef=!1,Qs=null,Zs=null,Ks=null,Fl=new Map,Il=new Map,Js=[],i_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bx(s,a){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Fl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(a.pointerId)}}function Yl(s,a,o,d,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},a!==null&&(a=De(a),a!==null&&gx(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function s_(s,a,o,d,p){switch(a){case"focusin":return Qs=Yl(Qs,s,a,o,d,p),!0;case"dragenter":return Zs=Yl(Zs,s,a,o,d,p),!0;case"mouseover":return Ks=Yl(Ks,s,a,o,d,p),!0;case"pointerover":var x=p.pointerId;return Fl.set(x,Yl(Fl.get(x)||null,s,a,o,d,p)),!0;case"gotpointercapture":return x=p.pointerId,Il.set(x,Yl(Il.get(x)||null,s,a,o,d,p)),!0}return!1}function xx(s){var a=Le(s.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){s.blockedOn=a,Ft(s.priority,function(){mx(o)});return}}else if(a===31){if(a=u(o),a!==null){s.blockedOn=a,Ft(s.priority,function(){mx(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var o=Mf(s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);Mh=d,o.target.dispatchEvent(d),Mh=null}else return a=De(o),a!==null&&gx(a),s.blockedOn=o,!1;a.shift()}return!0}function yx(s,a,o){Kc(s)&&o.delete(a)}function r_(){Ef=!1,Qs!==null&&Kc(Qs)&&(Qs=null),Zs!==null&&Kc(Zs)&&(Zs=null),Ks!==null&&Kc(Ks)&&(Ks=null),Fl.forEach(yx),Il.forEach(yx)}function Jc(s,a){s.blockedOn===a&&(s.blockedOn=null,Ef||(Ef=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r_)))}var tu=null;function vx(s){tu!==s&&(tu=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tu===s&&(tu=null);for(var a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],p=s[a+2];if(typeof d!="function"){if(Cf(d||o)===null)continue;break}var x=De(o);x!==null&&(s.splice(a,3),a-=3,jd(x,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function Ma(s){function a(z){return Jc(z,s)}Qs!==null&&Jc(Qs,s),Zs!==null&&Jc(Zs,s),Ks!==null&&Jc(Ks,s),Fl.forEach(a),Il.forEach(a);for(var o=0;o<Js.length;o++){var d=Js[o];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Js.length&&(o=Js[0],o.blockedOn===null);)xx(o),o.blockedOn===null&&Js.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],x=o[d+1],w=p[fe]||null;if(typeof x=="function")w||vx(o);else if(w){var C=null;if(x&&x.hasAttribute("formAction")){if(p=x,w=x[fe]||null)C=w.formAction;else if(Cf(p)!==null)continue}else C=w.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),vx(o)}}}function wx(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Tf(s){this._internalRoot=s}eu.prototype.render=Tf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,d=ci();dx(o,d,s,a,null,null)},eu.prototype.unmount=Tf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;dx(s.current,2,null,s,null,null),zc(),a[Jn]=null}};function eu(s){this._internalRoot=s}eu.prototype.unstable_scheduleHydration=function(s){if(s){var a=sn();s={blockedOn:null,target:s,priority:a};for(var o=0;o<Js.length&&a!==0&&a<Js[o].priority;o++);Js.splice(o,0,s),o===0&&xx(s)}};var Sx=t.version;if(Sx!=="19.2.0")throw Error(i(527,Sx,"19.2.0"));Y.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var a_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{di=nu.inject(a_),en=nu}catch{}}return $l.createRoot=function(s,a){if(!r(s))throw Error(i(299));var o=!1,d="",p=Ep,x=Tp,w=Dp;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=ux(s,1,!1,null,null,o,d,null,p,x,w,wx),s[Jn]=a.current,hf(s),new Tf(a)},$l.hydrateRoot=function(s,a,o){if(!r(s))throw Error(i(299));var d=!1,p="",x=Ep,w=Tp,C=Dp,z=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),a=ux(s,1,!0,a,o??null,d,p,z,x,w,C,wx),a.context=hx(null),o=a.current,d=ci(),d=kn(d),p=Bs(d),p.callback=null,Hs(o,p,d),o=d,a.current.lanes=o,An(a,o),$i(a),s[Jn]=a.current,hf(s),new eu(a)},$l.version="19.2.0",$l}var Ax;function m_(){if(Ax)return Rf.exports;Ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rf.exports=g_(),Rf.exports}var p_=m_();var Rx="popstate";function b_(n={}){function t(i,r){let{pathname:l,search:c,hash:u}=i.location;return j0("",{pathname:l,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:vo(r)}return y_(t,e,null,n)}function Ee(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ji(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x_(){return Math.random().toString(36).substring(2,10)}function Ox(n,t){return{usr:n.state,key:n.key,idx:t}}function j0(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Wa(t):t,state:e,key:t&&t.key||i||x_()}}function vo({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Wa(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function y_(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:l=!1}=i,c=r.history,u="POP",h=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function b(){u="POP";let N=m(),j=N==null?null:N-f;f=N,h&&h({action:u,location:S.location,delta:j})}function y(N,j){u="PUSH";let E=j0(S.location,N,j);f=m()+1;let D=Ox(E,f),U=S.createHref(E);try{c.pushState(D,"",U)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(U)}l&&h&&h({action:u,location:S.location,delta:1})}function v(N,j){u="REPLACE";let E=j0(S.location,N,j);f=m();let D=Ox(E,f),U=S.createHref(E);c.replaceState(D,"",U),l&&h&&h({action:u,location:S.location,delta:0})}function k(N){return v_(N)}let S={get action(){return u},get location(){return n(r,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Rx,b),h=N,()=>{r.removeEventListener(Rx,b),h=null}},createHref(N){return t(r,N)},createURL:k,encodeLocation(N){let j=k(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:v,go(N){return c.go(N)}};return S}function v_(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:vo(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function A1(n,t,e="/"){return w_(n,t,e,!1)}function w_(n,t,e,i){let r=typeof t=="string"?Wa(t):t,l=Ns(r.pathname||"/",e);if(l==null)return null;let c=R1(n);S_(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=R_(l);u=D_(c[h],f,i)}return u}function R1(n,t=[],e=[],i="",r=!1){let l=(c,u,h=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;Ee(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let b=_s([i,m.relativePath]),y=e.concat(m);c.children&&c.children.length>0&&(Ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),R1(c.children,t,y,b,h)),!(c.path==null&&!c.index)&&t.push({path:b,score:E_(b,c.index),routesMeta:y})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let h of O1(c.path))l(c,u,!0,h)}),t}function O1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return r?[l,""]:[l];let c=O1(i.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),r&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function S_(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:T_(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var k_=/^:[\w-]+$/,__=3,N_=2,j_=1,M_=10,C_=-2,zx=n=>n==="*";function E_(n,t){let e=n.split("/"),i=e.length;return e.some(zx)&&(i+=C_),t&&(i+=N_),e.filter(r=>!zx(r)).reduce((r,l)=>r+(k_.test(l)?__:l===""?j_:M_),i)}function T_(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function D_(n,t,e=!1){let{routesMeta:i}=n,r={},l="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=l==="/"?t:t.slice(l.length)||"/",b=Uu({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),y=h.route;if(!b&&f&&e&&!i[i.length-1].route.index&&(b=Uu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:_s([l,b.pathname]),pathnameBase:B_(_s([l,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(l=_s([l,b.pathnameBase]))}return c}function Uu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=A_(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:b},y)=>{if(m==="*"){let k=u[y]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[y];return b&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:n}}function A_(n,t=!1,e=!0){ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function R_(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ns(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var O_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z_=n=>O_.test(n);function L_(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Wa(n):n,l;if(e)if(z_(e))l=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?l=Lx(e.substring(1),"/"):l=Lx(e,t)}else l=t;return{pathname:l,search:H_(i),hash:V_(r)}}function Lx(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Pf(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P_(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tg(n){let t=P_(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function eg(n,t,e,i=!1){let r;typeof n=="string"?r=Wa(n):(r={...n},Ee(!r.pathname||!r.pathname.includes("?"),Pf("?","pathname","search",r)),Ee(!r.pathname||!r.pathname.includes("#"),Pf("#","pathname","hash",r)),Ee(!r.search||!r.search.includes("#"),Pf("#","search","hash",r)));let l=n===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),b-=1;r.pathname=y.join("/")}u=b>=0?t[b]:"/"}let h=L_(r,u),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var _s=n=>n.join("/").replace(/\/\/+/g,"/"),B_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),H_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,V_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z1=["POST","PUT","PATCH","DELETE"];new Set(z1);var F_=["GET",...z1];new Set(F_);var Ga=_.createContext(null);Ga.displayName="DataRouter";var lh=_.createContext(null);lh.displayName="DataRouterState";_.createContext(!1);var L1=_.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var I_=_.createContext(new Map);I_.displayName="Fetchers";var Y_=_.createContext(null);Y_.displayName="Await";var Bi=_.createContext(null);Bi.displayName="Navigation";var Ro=_.createContext(null);Ro.displayName="Location";var Hi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var ng=_.createContext(null);ng.displayName="RouteError";function q_(n,{relative:t}={}){Ee(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=_.useContext(Bi),{hash:r,pathname:l,search:c}=Oo(n,{relative:t}),u=l;return e!=="/"&&(u=l==="/"?e:_s([e,l])),i.createHref({pathname:u,search:c,hash:r})}function Xa(){return _.useContext(Ro)!=null}function js(){return Ee(Xa(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ro).location}var P1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(n){_.useContext(Bi).static||_.useLayoutEffect(n)}function ig(){let{isDataRoute:n}=_.useContext(Hi);return n?aN():$_()}function $_(){Ee(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(Ga),{basename:t,navigator:e}=_.useContext(Bi),{matches:i}=_.useContext(Hi),{pathname:r}=js(),l=JSON.stringify(tg(i)),c=_.useRef(!1);return B1(()=>{c.current=!0}),_.useCallback((h,f={})=>{if(ji(c.current,P1),!c.current)return;if(typeof h=="number"){e.go(h);return}let m=eg(h,JSON.parse(l),r,f.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:_s([t,m.pathname])),(f.replace?e.replace:e.push)(m,f.state,f)},[t,e,l,r,n])}var W_=_.createContext(null);function G_(n){let t=_.useContext(Hi).outlet;return _.useMemo(()=>t&&_.createElement(W_.Provider,{value:n},t),[t,n])}function Oo(n,{relative:t}={}){let{matches:e}=_.useContext(Hi),{pathname:i}=js(),r=JSON.stringify(tg(e));return _.useMemo(()=>eg(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function X_(n,t){return H1(n,t)}function H1(n,t,e,i,r){Ee(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=_.useContext(Bi),{matches:c}=_.useContext(Hi),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",b=u&&u.route;{let E=b&&b.path||"";V1(f,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=js(),v;if(t){let E=typeof t=="string"?Wa(t):t;Ee(m==="/"||E.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let k=v.pathname||"/",S=k;if(m!=="/"){let E=m.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=A1(n,{pathname:S});ji(b||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ji(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=tN(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:_s([m,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:_s([m,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,e,i,r);return t&&j?_.createElement(Ro.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},j):j}function Q_(){let n=rN(),t=U_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),e?_.createElement("pre",{style:r},e):null,c)}var Z_=_.createElement(Q_,null),K_=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?_.createElement(Hi.Provider,{value:this.props.routeContext},_.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J_({routeContext:n,match:t,children:e}){let i=_.useContext(Ga);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Hi.Provider,{value:n},e)}function tN(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let m=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Ee(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(e)for(let m=0;m<l.length;m++){let b=l[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=m),b.route.id){let{loaderData:y,errors:v}=e,k=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||k){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=e&&i?(m,b)=>{i(m,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:b})}:void 0;return l.reduceRight((m,b,y)=>{let v,k=!1,S=null,N=null;e&&(v=c&&b.route.id?c[b.route.id]:void 0,S=b.route.errorElement||Z_,u&&(h<0&&y===0?(V1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,N=null):h===y&&(k=!0,N=b.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,y+1)),E=()=>{let D;return v?D=S:k?D=N:b.route.Component?D=_.createElement(b.route.Component,null):b.route.element?D=b.route.element:D=m,_.createElement(J_,{match:b,routeContext:{outlet:m,matches:j,isDataRoute:e!=null},children:D})};return e&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?_.createElement(K_,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):E()},null)}function sg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(n){let t=_.useContext(Ga);return Ee(t,sg(n)),t}function nN(n){let t=_.useContext(lh);return Ee(t,sg(n)),t}function iN(n){let t=_.useContext(Hi);return Ee(t,sg(n)),t}function rg(n){let t=iN(n),e=t.matches[t.matches.length-1];return Ee(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function sN(){return rg("useRouteId")}function rN(){let n=_.useContext(ng),t=nN("useRouteError"),e=rg("useRouteError");return n!==void 0?n:t.errors?.[e]}function aN(){let{router:n}=eN("useNavigate"),t=rg("useNavigate"),e=_.useRef(!1);return B1(()=>{e.current=!0}),_.useCallback(async(r,l={})=>{ji(e.current,P1),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...l}))},[n,t])}var Px={};function V1(n,t,e){!t&&!Px[n]&&(Px[n]=!0,ji(!1,e))}_.memo(lN);function lN({routes:n,future:t,state:e,unstable_onError:i}){return H1(n,void 0,e,i,t)}function oN({to:n,replace:t,state:e,relative:i}){Ee(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=_.useContext(Bi);ji(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=_.useContext(Hi),{pathname:c}=js(),u=ig(),h=eg(n,tg(l),c,i==="path"),f=JSON.stringify(h);return _.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function cN(n){return G_(n.context)}function Si(n){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:l=!1}){Ee(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof e=="string"&&(e=Wa(e));let{pathname:h="/",search:f="",hash:m="",state:b=null,key:y="default"}=e,v=_.useMemo(()=>{let k=Ns(h,c);return k==null?null:{location:{pathname:k,search:f,hash:m,state:b,key:y},navigationType:i}},[c,h,f,m,b,y,i]);return ji(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(Bi.Provider,{value:u},_.createElement(Ro.Provider,{children:t,value:v}))}function hN({children:n,location:t}){return X_(M0(n),t)}function M0(n,t=[]){let e=[];return _.Children.forEach(n,(i,r)=>{if(!_.isValidElement(i))return;let l=[...t,r];if(i.type===_.Fragment){e.push.apply(e,M0(i.props.children,l));return}Ee(i.type===Si,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=M0(i.props.children,l)),e.push(c)}),e}var Du="get",Au="application/x-www-form-urlencoded";function oh(n){return n!=null&&typeof n.tagName=="string"}function dN(n){return oh(n)&&n.tagName.toLowerCase()==="button"}function fN(n){return oh(n)&&n.tagName.toLowerCase()==="form"}function gN(n){return oh(n)&&n.tagName.toLowerCase()==="input"}function mN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pN(n,t){return n.button===0&&(!t||t==="_self")&&!mN(n)}var iu=null;function bN(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var xN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(n){return n!=null&&!xN.has(n)?(ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):n}function yN(n,t){let e,i,r,l,c;if(fN(n)){let u=n.getAttribute("action");i=u?Ns(u,t):null,e=n.getAttribute("method")||Du,r=Bf(n.getAttribute("enctype"))||Au,l=new FormData(n)}else if(dN(n)||gN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?Ns(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Du,r=Bf(n.getAttribute("formenctype"))||Bf(u.getAttribute("enctype"))||Au,l=new FormData(u,n),!bN()){let{name:f,type:m,value:b}=n;if(m==="image"){let y=f?`${f}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else f&&l.append(f,b)}}else{if(oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Du,i=null,r=Au,c=n}return l&&r==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function vN(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Ns(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function wN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kN(n,t,e){let i=await Promise.all(n.map(async r=>{let l=t.routes[r.route.id];if(l){let c=await wN(l,e);return c.links?c.links():[]}return[]}));return MN(i.flat(1).filter(SN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Bx(n,t,e,i,r,l){let c=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,f)=>c(h,f)||u(h,f)):l==="data"?t.filter((h,f)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _N(n,t,{includeHydrateFallback:e}={}){return NN(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function NN(n){return[...new Set(n)]}function jN(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function MN(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let l=JSON.stringify(jN(r));return e.has(l)||(e.add(l),i.push({key:l,link:r})),i},[])}function U1(){let n=_.useContext(Ga);return ag(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CN(){let n=_.useContext(lh);return ag(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lg=_.createContext(void 0);lg.displayName="FrameworkContext";function F1(){let n=_.useContext(lg);return ag(n,"You must render this element inside a <HydratedRouter> element"),n}function EN(n,t){let e=_.useContext(lg),[i,r]=_.useState(!1),[l,c]=_.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=t,y=_.useRef(null);_.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=j=>{j.forEach(E=>{c(E.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[n]),_.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},k=()=>{r(!1),c(!1)};return e?n!=="intent"?[l,y,{}]:[l,y,{onFocus:Wl(u,v),onBlur:Wl(h,k),onMouseEnter:Wl(f,v),onMouseLeave:Wl(m,k),onTouchStart:Wl(b,v)}]:[!1,y,{}]}function Wl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function TN({page:n,...t}){let{router:e}=U1(),i=_.useMemo(()=>A1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?_.createElement(AN,{page:n,matches:i,...t}):null}function DN(n){let{manifest:t,routeModules:e}=F1(),[i,r]=_.useState([]);return _.useEffect(()=>{let l=!1;return kN(n,t,e).then(c=>{l||r(c)}),()=>{l=!0}},[n,t,e]),i}function AN({page:n,matches:t,...e}){let i=js(),{manifest:r,routeModules:l}=F1(),{basename:c}=U1(),{loaderData:u,matches:h}=CN(),f=_.useMemo(()=>Bx(n,t,h,r,i,"data"),[n,t,h,r,i]),m=_.useMemo(()=>Bx(n,t,h,r,i,"assets"),[n,t,h,r,i]),b=_.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,S=!1;if(t.forEach(j=>{let E=r.routes[j.route.id];!E||!E.hasLoader||(!f.some(D=>D.route.id===j.route.id)&&j.route.id in u&&l[j.route.id]?.shouldRevalidate||E.hasClientLoader?S=!0:k.add(j.route.id))}),k.size===0)return[];let N=vN(n,c,"data");return S&&k.size>0&&N.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[c,u,i,r,f,t,n,l]),y=_.useMemo(()=>_N(m,r),[m,r]),v=DN(m);return _.createElement(_.Fragment,null,b.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...e})),y.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...e})),v.map(({key:k,link:S})=>_.createElement("link",{key:k,nonce:e.nonce,...S})))}function RN(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I1&&(window.__reactRouterVersion="7.9.6")}catch{}function ON({basename:n,children:t,window:e}){let i=_.useRef();i.current==null&&(i.current=b_({window:e,v5Compat:!0}));let r=i.current,[l,c]=_.useState({action:r.action,location:r.location}),u=_.useCallback(h=>{_.startTransition(()=>c(h))},[c]);return _.useLayoutEffect(()=>r.listen(u),[r,u]),_.createElement(uN,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:r})}var Y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=_.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:l,replace:c,state:u,target:h,to:f,preventScrollReset:m,viewTransition:b,...y},v){let{basename:k}=_.useContext(Bi),S=typeof f=="string"&&Y1.test(f),N,j=!1;if(typeof f=="string"&&S&&(N=f,I1))try{let P=new URL(window.location.href),et=f.startsWith("//")?new URL(P.protocol+f):new URL(f),Q=Ns(et.pathname,k);et.origin===P.origin&&Q!=null?f=Q+et.search+et.hash:j=!0}catch{ji(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=q_(f,{relative:r}),[D,U,A]=EN(i,y),F=PN(f,{replace:c,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:b});function H(P){t&&t(P),P.defaultPrevented||F(P)}let X=_.createElement("a",{...y,...A,href:N||E,onClick:j||l?t:H,ref:RN(v,U),target:h,"data-discover":!S&&e==="render"?"true":void 0});return D&&!S?_.createElement(_.Fragment,null,X,_.createElement(TN,{page:E})):X});og.displayName="Link";var q1=_.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:l,to:c,viewTransition:u,children:h,...f},m){let b=Oo(c,{relative:f.relative}),y=js(),v=_.useContext(lh),{navigator:k,basename:S}=_.useContext(Bi),N=v!=null&&FN(b)&&u===!0,j=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,E=y.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(E=E.toLowerCase(),D=D?D.toLowerCase():null,j=j.toLowerCase()),D&&S&&(D=Ns(D,S)||D);const U=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=E===j||!r&&E.startsWith(j)&&E.charAt(U)==="/",F=D!=null&&(D===j||!r&&D.startsWith(j)&&D.charAt(j.length)==="/"),H={isActive:A,isPending:F,isTransitioning:N},X=A?t:void 0,P;typeof i=="function"?P=i(H):P=[i,A?"active":null,F?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let et=typeof l=="function"?l(H):l;return _.createElement(og,{...f,"aria-current":X,className:P,ref:m,style:et,to:c,viewTransition:u},typeof h=="function"?h(H):h)});q1.displayName="NavLink";var zN=_.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:l,method:c=Du,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:b,...y},v)=>{let k=VN(),S=UN(u,{relative:f}),N=c.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&Y1.test(u),E=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,A=U?.getAttribute("formmethod")||c;k(U||D.currentTarget,{fetcherKey:t,method:A,navigate:e,replace:r,state:l,relative:f,preventScrollReset:m,viewTransition:b})};return _.createElement("form",{ref:v,method:N,action:S,onSubmit:i?h:E,...y,"data-discover":!j&&n==="render"?"true":void 0})});zN.displayName="Form";function LN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(n){let t=_.useContext(Ga);return Ee(t,LN(n)),t}function PN(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=ig(),h=js(),f=Oo(n,{relative:l});return _.useCallback(m=>{if(pN(m,t)){m.preventDefault();let b=e!==void 0?e:vo(h)===vo(f);u(n,{replace:b,state:i,preventScrollReset:r,relative:l,viewTransition:c})}},[h,u,f,e,i,t,n,r,l,c])}var BN=0,HN=()=>`__${String(++BN)}__`;function VN(){let{router:n}=$1("useSubmit"),{basename:t}=_.useContext(Bi),e=sN();return _.useCallback(async(i,r={})=>{let{action:l,method:c,encType:u,formData:h,body:f}=yN(i,t);if(r.navigate===!1){let m=r.fetcherKey||HN();await n.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function UN(n,{relative:t}={}){let{basename:e}=_.useContext(Bi),i=_.useContext(Hi);Ee(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),l={...Oo(n||".",{relative:t})},c=js();if(n==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(b=>b).forEach(b=>u.append("index",b));let m=u.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:_s([e,l.pathname])),vo(l)}function FN(n,{relative:t}={}){let e=_.useContext(L1);Ee(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$1("useViewTransitionState"),r=Oo(n,{relative:t});if(!e.isTransitioning)return!1;let l=Ns(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ns(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Uu(r.pathname,c)!=null||Uu(r.pathname,l)!=null}var no=D1();function IN(){return g.jsxs("div",{className:"flex items-center gap-x-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[g.jsx("div",{className:"relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-white dark:bg-gray-700 rounded-full",children:g.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"JD"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"John Doe"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"john.doe@example.com"})]})]})}function W1(n){const t=n.getMonth()+1,e=n.getDate(),i=n.getFullYear(),r=t.toString().split("").reduce((h,f)=>h+parseInt(f),0),l=e.toString().split("").reduce((h,f)=>h+parseInt(f),0),c=i.toString().split("").reduce((h,f)=>h+parseInt(f),0);let u=r+l+c;for(;u>9&&u!==11&&u!==22&&u!==33;)u=u.toString().split("").reduce((h,f)=>h+parseInt(f),0);return u}function G1(n){const t={1:{number:1,title:"New Beginnings",description:"Leadership, initiative, and fresh starts tend to receive more focus. A day for taking action and starting new projects."},2:{number:2,title:"Cooperation",description:"Cooperation, diplomacy, and partnerships tend to receive more focus. A day for collaboration and building relationships."},3:{number:3,title:"Creativity & Communication",description:"Socializing and the arts tend to receive more focus. A day favorable for creative endeavors and effective communication."},4:{number:4,title:"Stability & Organization",description:"Practicality, stability, and organization tend to receive more focus. A day for building foundations and structure."},5:{number:5,title:"Change & Adventure",description:"Change, adventure, and freedom tend to receive more focus. A day for exploration and embracing new experiences."},6:{number:6,title:"Nurturing & Responsibility",description:"Nurturing, responsibility, and domesticity tend to receive more focus. A day for caring for others and home matters."},7:{number:7,title:"Introspection & Wisdom",description:"Introspection, wisdom, and seeking knowledge tend to receive more focus. A day for reflection and spiritual growth."},8:{number:8,title:"Abundance & Power",description:"Abundance, power, and manifestation tend to receive more focus. A day for achieving goals and material success."},9:{number:9,title:"Completion & Compassion",description:"Completion, humanitarianism, and compassion tend to receive more focus. A day for service to others and endings."},11:{number:11,title:"Intuition & Inspiration",description:"Intuition, inspiration, and spiritual insight tend to receive more focus. A master number day for higher awareness."},22:{number:22,title:"Master Builder",description:"Master building, practical idealism, and large-scale projects tend to receive more focus. A master number day for manifestation."},33:{number:33,title:"Master Teacher",description:"Master teaching, compassion, and healing tend to receive more focus. A master number day for service to humanity."}};return t[n]||t[1]}function YN({timezone:n="America/New_York",city:t="New York",country:e="United States",onRemove:i}){const[r,l]=_.useState(new Date);_.useEffect(()=>{const E=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(E)},[]);const u=new Intl.DateTimeFormat("en-US",{timeZone:n,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,day:"2-digit",month:"short",year:"numeric"}).formatToParts(r),h=u.find(E=>E.type==="hour").value+":"+u.find(E=>E.type==="minute").value+":"+u.find(E=>E.type==="second").value+" "+u.find(E=>E.type==="dayPeriod").value,f=u.find(E=>E.type==="month").value+" "+u.find(E=>E.type==="day").value+", "+u.find(E=>E.type==="year").value,m=u.find(E=>E.type==="month").value,b=parseInt(u.find(E=>E.type==="day").value),y=parseInt(u.find(E=>E.type==="year").value),k={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}[m]||1,S=new Date(y,k-1,b),N=W1(S),j=G1(N);return g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border border-gray-200 dark:border-gray-700 relative",children:[i&&g.jsx("button",{type:"button",onClick:i,className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove clock",children:g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:t}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e}),g.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 font-mono",children:h}),g.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:f}),g.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("span",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:j.number}),g.jsx("span",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:j.title})]})})]})]})}const Gl=[{timezone:"America/New_York",city:"New York",country:"United States"},{timezone:"America/Los_Angeles",city:"Los Angeles",country:"United States"},{timezone:"America/Chicago",city:"Chicago",country:"United States"},{timezone:"Europe/London",city:"London",country:"United Kingdom"},{timezone:"Europe/Paris",city:"Paris",country:"France"},{timezone:"Europe/Berlin",city:"Berlin",country:"Germany"},{timezone:"Asia/Tokyo",city:"Tokyo",country:"Japan"},{timezone:"Asia/Shanghai",city:"Shanghai",country:"China"},{timezone:"Asia/Hong_Kong",city:"Hong Kong",country:"Hong Kong"},{timezone:"Asia/Dubai",city:"Dubai",country:"UAE"},{timezone:"Asia/Singapore",city:"Singapore",country:"Singapore"},{timezone:"Australia/Sydney",city:"Sydney",country:"Australia"},{timezone:"America/Toronto",city:"Toronto",country:"Canada"},{timezone:"America/Sao_Paulo",city:"So Paulo",country:"Brazil"},{timezone:"America/Mexico_City",city:"Mexico City",country:"Mexico"}];function qN(){const[n,t]=_.useState(()=>{const y=localStorage.getItem("darkMode");return y?JSON.parse(y):!1}),[e,i]=_.useState(()=>{try{const y=localStorage.getItem("sidebarClocks");if(y){const v=JSON.parse(y);if(Array.isArray(v)&&v.length>0)return v}}catch(y){console.error("Error loading clocks from localStorage:",y)}return[{timezone:"America/New_York",city:"New York",country:"United States",id:Date.now()}]}),[r,l]=_.useState(!1),[c,u]=_.useState(Gl[0].timezone);_.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(n))},[n]),_.useEffect(()=>{localStorage.setItem("sidebarClocks",JSON.stringify(e))},[e]);const h=()=>{const y=Gl.find(v=>v.timezone===c);if(y){if(e.some(S=>S.timezone===y.timezone)){alert("This clock is already added");return}const k={...y,id:Date.now()};i([...e,k]),l(!1),u(Gl[0].timezone)}},f=y=>{if(e.length<=1){alert("You must have at least one clock");return}i(e.filter(v=>v.id!==y))},m=()=>{t(!n)},b=[{path:"/",label:"Dashboard"},{path:"/news",label:"News"},{path:"/trading",label:"Charts"},{path:"/projection",label:"Projection"},{path:"/projection/fib",label:"FIB"},{path:"/data",label:"Data"},{path:"/api",label:"API"},{path:"/settings",label:"Settings"}];return g.jsxs(g.Fragment,{children:[g.jsxs("div",{id:"application-sidebar",className:"hs-overlay hs-overlay-open:translate-x-0 -translate-x-full transition-all duration-300 transform hidden fixed top-0 start-0 bottom-0 z-[60] w-64 bg-white dark:bg-gray-900 border-e border-gray-200 dark:border-gray-700 pt-7 pb-10 overflow-y-auto lg:translate-x-0 lg:static lg:end-auto lg:bottom-0 lg:z-[60] lg:block lg:border-e-0 lg:pt-0 lg:w-64",children:[g.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(og,{className:"flex-none text-xl font-semibold text-gray-800 dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors",to:"/","aria-label":"Brand",children:"App"}),g.jsx("button",{type:"button",className:"lg:hidden text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","data-hs-overlay":"#application-sidebar",children:g.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"m18 6-12 12"}),g.jsx("path",{d:"m6 6 12 12"})]})})]})}),g.jsx("nav",{className:"hs-accordion-group p-6 w-full flex flex-col flex-wrap","data-hs-accordion-always-open":!0,children:g.jsx("ul",{className:"space-y-1.5",children:b.map(y=>g.jsx("li",{children:g.jsx(q1,{to:y.path,end:y.path==="/projection",className:({isActive:v})=>`flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ${v?"bg-gray-100 dark:bg-gray-800":""}`,children:g.jsx("span",{children:y.label})})},y.path))})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 space-y-4",children:[g.jsx("div",{className:"space-y-3 mb-4 max-h-[400px] overflow-y-auto",children:e.map(y=>g.jsx(YN,{timezone:y.timezone,city:y.city,country:y.country,onRemove:e.length>1?()=>f(y.id):null},y.id))}),r?g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-3 space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Timezone"}),g.jsx("select",{value:c,onChange:y=>u(y.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Gl.map(y=>g.jsxs("option",{value:y.timezone,children:[y.city,", ",y.country]},y.timezone))})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:h,className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>{l(!1),u(Gl[0].timezone)},className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"})]})]}):g.jsxs("button",{type:"button",onClick:()=>l(!0),className:"w-full px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center justify-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Clock"]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[g.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n?"Dark Mode":"Light Mode"}),g.jsx("button",{type:"button",onClick:m,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",role:"switch","aria-checked":n,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),g.jsx(IN,{})]})]}),g.jsx("div",{className:"hs-overlay-backdrop fixed inset-0 z-[59] bg-gray-900 bg-opacity-50 hidden"})]})}function $N(){return g.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[g.jsx(qN,{}),g.jsxs("main",{className:"flex-1 overflow-y-auto",children:[g.jsx("div",{className:"sticky top-0 inset-x-0 z-20 bg-white dark:bg-gray-900 border-y border-gray-200 dark:border-gray-700 px-4 sm:px-6 md:px-8 lg:hidden",children:g.jsx("div",{className:"flex justify-between items-center gap-x-4",children:g.jsxs("div",{className:"flex items-center gap-x-4",children:[g.jsx("button",{type:"button",className:"text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","data-hs-overlay":"#application-sidebar","aria-controls":"application-sidebar","aria-label":"Toggle navigation",children:g.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),g.jsx("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),g.jsx("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]})}),g.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"App"})]})})}),g.jsx("div",{className:"p-6",children:g.jsx(cN,{})})]})]})}function WN(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return _.useMemo(()=>i=>{t.forEach(r=>r(i))},t)}const ch=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qa(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function cg(n){return"nodeType"in n}function Qn(n){var t,e;return n?Qa(n)?n:cg(n)&&(t=(e=n.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function ug(n){const{Document:t}=Qn(n);return n instanceof t}function zo(n){return Qa(n)?!1:n instanceof Qn(n).HTMLElement}function X1(n){return n instanceof Qn(n).SVGElement}function Za(n){return n?Qa(n)?n.document:cg(n)?ug(n)?n:zo(n)||X1(n)?n.ownerDocument:document:document:document}const Ji=ch?_.useLayoutEffect:_.useEffect;function hg(n){const t=_.useRef(n);return Ji(()=>{t.current=n}),_.useCallback(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function GN(){const n=_.useRef(null),t=_.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),e=_.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,e]}function wo(n,t){t===void 0&&(t=[n]);const e=_.useRef(n);return Ji(()=>{e.current!==n&&(e.current=n)},t),e}function Lo(n,t){const e=_.useRef();return _.useMemo(()=>{const i=n(e.current);return e.current=i,i},[...t])}function Fu(n){const t=hg(n),e=_.useRef(null),i=_.useCallback(r=>{r!==e.current&&t?.(r,e.current),e.current=r},[]);return[e,i]}function C0(n){const t=_.useRef();return _.useEffect(()=>{t.current=n},[n]),t.current}let Hf={};function Po(n,t){return _.useMemo(()=>{if(t)return t;const e=Hf[n]==null?0:Hf[n]+1;return Hf[n]=e,n+"-"+e},[n,t])}function Q1(n){return function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return i.reduce((l,c)=>{const u=Object.entries(c);for(const[h,f]of u){const m=l[h];m!=null&&(l[h]=m+n*f)}return l},{...t})}}const Oa=Q1(1),So=Q1(-1);function XN(n){return"clientX"in n&&"clientY"in n}function dg(n){if(!n)return!1;const{KeyboardEvent:t}=Qn(n.target);return t&&n instanceof t}function QN(n){if(!n)return!1;const{TouchEvent:t}=Qn(n.target);return t&&n instanceof t}function E0(n){if(QN(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:e}=n.touches[0];return{x:t,y:e}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:e}=n.changedTouches[0];return{x:t,y:e}}}return XN(n)?{x:n.clientX,y:n.clientY}:null}const ur=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:e}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:e}=n;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(n){if(n)return[ur.Translate.toString(n),ur.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:e,easing:i}=n;return t+" "+e+"ms "+i}}}),Hx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZN(n){return n.matches(Hx)?n:n.querySelector(Hx)}const KN={display:"none"};function JN(n){let{id:t,value:e}=n;return $n.createElement("div",{id:t,style:KN},e)}function tj(n){let{id:t,announcement:e,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $n.createElement("div",{id:t,style:r,role:"status","aria-live":i,"aria-atomic":!0},e)}function ej(){const[n,t]=_.useState("");return{announce:_.useCallback(i=>{i!=null&&t(i)},[]),announcement:n}}const Z1=_.createContext(null);function nj(n){const t=_.useContext(Z1);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function ij(){const[n]=_.useState(()=>new Set),t=_.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[_.useCallback(i=>{let{type:r,event:l}=i;n.forEach(c=>{var u;return(u=c[r])==null?void 0:u.call(c,l)})},[n]),t]}const sj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rj={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function aj(n){let{announcements:t=rj,container:e,hiddenTextDescribedById:i,screenReaderInstructions:r=sj}=n;const{announce:l,announcement:c}=ej(),u=Po("DndLiveRegion"),[h,f]=_.useState(!1);if(_.useEffect(()=>{f(!0)},[]),nj(_.useMemo(()=>({onDragStart(b){let{active:y}=b;l(t.onDragStart({active:y}))},onDragMove(b){let{active:y,over:v}=b;t.onDragMove&&l(t.onDragMove({active:y,over:v}))},onDragOver(b){let{active:y,over:v}=b;l(t.onDragOver({active:y,over:v}))},onDragEnd(b){let{active:y,over:v}=b;l(t.onDragEnd({active:y,over:v}))},onDragCancel(b){let{active:y,over:v}=b;l(t.onDragCancel({active:y,over:v}))}}),[l,t])),!h)return null;const m=$n.createElement($n.Fragment,null,$n.createElement(JN,{id:i,value:r.draggable}),$n.createElement(tj,{id:u,announcement:c}));return e?no.createPortal(m,e):m}var on;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(on||(on={}));function Iu(){}function Yu(n,t){return _.useMemo(()=>({sensor:n,options:t??{}}),[n,t])}function K1(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return _.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const Pi=Object.freeze({x:0,y:0});function J1(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function t2(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return e-i}function lj(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return i-e}function Vx(n){let{left:t,top:e,height:i,width:r}=n;return[{x:t,y:e},{x:t+r,y:e},{x:t,y:e+i},{x:t+r,y:e+i}]}function e2(n,t){if(!n||n.length===0)return null;const[e]=n;return e[t]}function Ux(n,t,e){return t===void 0&&(t=n.left),e===void 0&&(e=n.top),{x:t+n.width*.5,y:e+n.height*.5}}const Ru=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=Ux(t,t.left,t.top),l=[];for(const c of i){const{id:u}=c,h=e.get(u);if(h){const f=J1(Ux(h),r);l.push({id:u,data:{droppableContainer:c,value:f}})}}return l.sort(t2)},oj=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=Vx(t),l=[];for(const c of i){const{id:u}=c,h=e.get(u);if(h){const f=Vx(h),m=r.reduce((y,v,k)=>y+J1(f[k],v),0),b=Number((m/4).toFixed(4));l.push({id:u,data:{droppableContainer:c,value:b}})}}return l.sort(t2)};function cj(n,t){const e=Math.max(t.top,n.top),i=Math.max(t.left,n.left),r=Math.min(t.left+t.width,n.left+n.width),l=Math.min(t.top+t.height,n.top+n.height),c=r-i,u=l-e;if(i<r&&e<l){const h=t.width*t.height,f=n.width*n.height,m=c*u,b=m/(h+f-m);return Number(b.toFixed(4))}return 0}const uj=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=[];for(const l of i){const{id:c}=l,u=e.get(c);if(u){const h=cj(u,t);h>0&&r.push({id:c,data:{droppableContainer:l,value:h}})}}return r.sort(lj)};function hj(n,t,e){return{...n,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function n2(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Pi}function dj(n){return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];return r.reduce((c,u)=>({...c,top:c.top+n*u.y,bottom:c.bottom+n*u.y,left:c.left+n*u.x,right:c.right+n*u.x}),{...e})}}const fj=dj(1);function gj(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function mj(n,t,e){const i=gj(t);if(!i)return n;const{scaleX:r,scaleY:l,x:c,y:u}=i,h=n.left-c-(1-r)*parseFloat(e),f=n.top-u-(1-l)*parseFloat(e.slice(e.indexOf(" ")+1)),m=r?n.width/r:n.width,b=l?n.height/l:n.height;return{width:m,height:b,top:f,right:h+m,bottom:f+b,left:h}}const pj={ignoreTransform:!1};function Ka(n,t){t===void 0&&(t=pj);let e=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:m}=Qn(n).getComputedStyle(n);f&&(e=mj(e,f,m))}const{top:i,left:r,width:l,height:c,bottom:u,right:h}=e;return{top:i,left:r,width:l,height:c,bottom:u,right:h}}function Fx(n){return Ka(n,{ignoreTransform:!0})}function bj(n){const t=n.innerWidth,e=n.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function xj(n,t){return t===void 0&&(t=Qn(n).getComputedStyle(n)),t.position==="fixed"}function yj(n,t){t===void 0&&(t=Qn(n).getComputedStyle(n));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const l=t[r];return typeof l=="string"?e.test(l):!1})}function uh(n,t){const e=[];function i(r){if(t!=null&&e.length>=t||!r)return e;if(ug(r)&&r.scrollingElement!=null&&!e.includes(r.scrollingElement))return e.push(r.scrollingElement),e;if(!zo(r)||X1(r)||e.includes(r))return e;const l=Qn(n).getComputedStyle(r);return r!==n&&yj(r,l)&&e.push(r),xj(r,l)?e:i(r.parentNode)}return n?i(n):e}function i2(n){const[t]=uh(n,1);return t??null}function Vf(n){return!ch||!n?null:Qa(n)?n:cg(n)?ug(n)||n===Za(n).scrollingElement?window:zo(n)?n:null:null}function s2(n){return Qa(n)?n.scrollX:n.scrollLeft}function r2(n){return Qa(n)?n.scrollY:n.scrollTop}function T0(n){return{x:s2(n),y:r2(n)}}var hn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(hn||(hn={}));function a2(n){return!ch||!n?!1:n===document.scrollingElement}function l2(n){const t={x:0,y:0},e=a2(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-e.width,y:n.scrollHeight-e.height},r=n.scrollTop<=t.y,l=n.scrollLeft<=t.x,c=n.scrollTop>=i.y,u=n.scrollLeft>=i.x;return{isTop:r,isLeft:l,isBottom:c,isRight:u,maxScroll:i,minScroll:t}}const vj={x:.2,y:.2};function wj(n,t,e,i,r){let{top:l,left:c,right:u,bottom:h}=e;i===void 0&&(i=10),r===void 0&&(r=vj);const{isTop:f,isBottom:m,isLeft:b,isRight:y}=l2(n),v={x:0,y:0},k={x:0,y:0},S={height:t.height*r.y,width:t.width*r.x};return!f&&l<=t.top+S.height?(v.y=hn.Backward,k.y=i*Math.abs((t.top+S.height-l)/S.height)):!m&&h>=t.bottom-S.height&&(v.y=hn.Forward,k.y=i*Math.abs((t.bottom-S.height-h)/S.height)),!y&&u>=t.right-S.width?(v.x=hn.Forward,k.x=i*Math.abs((t.right-S.width-u)/S.width)):!b&&c<=t.left+S.width&&(v.x=hn.Backward,k.x=i*Math.abs((t.left+S.width-c)/S.width)),{direction:v,speed:k}}function Sj(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:e,right:i,bottom:r}=n.getBoundingClientRect();return{top:t,left:e,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function o2(n){return n.reduce((t,e)=>Oa(t,T0(e)),Pi)}function kj(n){return n.reduce((t,e)=>t+s2(e),0)}function _j(n){return n.reduce((t,e)=>t+r2(e),0)}function Nj(n,t){if(t===void 0&&(t=Ka),!n)return;const{top:e,left:i,bottom:r,right:l}=t(n);i2(n)&&(r<=0||l<=0||e>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const jj=[["x",["left","right"],kj],["y",["top","bottom"],_j]];class fg{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=uh(e),r=o2(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,u]of jj)for(const h of c)Object.defineProperty(this,h,{get:()=>{const f=u(i),m=r[l]-f;return this.rect[h]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...e)})},this.target=t}add(t,e,i){var r;(r=this.target)==null||r.addEventListener(t,e,i),this.listeners.push([t,e,i])}}function Mj(n){const{EventTarget:t}=Qn(n);return n instanceof t?n:Za(n)}function Uf(n,t){const e=Math.abs(n.x),i=Math.abs(n.y);return typeof t=="number"?Math.sqrt(e**2+i**2)>t:"x"in t&&"y"in t?e>t.x&&i>t.y:"x"in t?e>t.x:"y"in t?i>t.y:!1}var ki;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ki||(ki={}));function Ix(n){n.preventDefault()}function Cj(n){n.stopPropagation()}var ie;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(ie||(ie={}));const c2={start:[ie.Space,ie.Enter],cancel:[ie.Esc],end:[ie.Space,ie.Enter,ie.Tab]},Ej=(n,t)=>{let{currentCoordinates:e}=t;switch(n.code){case ie.Right:return{...e,x:e.x+25};case ie.Left:return{...e,x:e.x-25};case ie.Down:return{...e,y:e.y+25};case ie.Up:return{...e,y:e.y-25}}};class hh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new lo(Za(e)),this.windowListeners=new lo(Qn(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ki.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,i=t.node.current;i&&Nj(i),e(Pi)}handleKeyDown(t){if(dg(t)){const{active:e,context:i,options:r}=this.props,{keyboardCodes:l=c2,coordinateGetter:c=Ej,scrollBehavior:u="smooth"}=r,{code:h}=t;if(l.end.includes(h)){this.handleEnd(t);return}if(l.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:f}=i.current,m=f?{x:f.left,y:f.top}:Pi;this.referenceCoordinates||(this.referenceCoordinates=m);const b=c(t,{active:e,context:i.current,currentCoordinates:m});if(b){const y=So(b,m),v={x:0,y:0},{scrollableAncestors:k}=i.current;for(const S of k){const N=t.code,{isTop:j,isRight:E,isLeft:D,isBottom:U,maxScroll:A,minScroll:F}=l2(S),H=Sj(S),X={x:Math.min(N===ie.Right?H.right-H.width/2:H.right,Math.max(N===ie.Right?H.left:H.left+H.width/2,b.x)),y:Math.min(N===ie.Down?H.bottom-H.height/2:H.bottom,Math.max(N===ie.Down?H.top:H.top+H.height/2,b.y))},P=N===ie.Right&&!E||N===ie.Left&&!D,et=N===ie.Down&&!U||N===ie.Up&&!j;if(P&&X.x!==b.x){const Q=S.scrollLeft+y.x,J=N===ie.Right&&Q<=A.x||N===ie.Left&&Q>=F.x;if(J&&!y.y){S.scrollTo({left:Q,behavior:u});return}J?v.x=S.scrollLeft-Q:v.x=N===ie.Right?S.scrollLeft-A.x:S.scrollLeft-F.x,v.x&&S.scrollBy({left:-v.x,behavior:u});break}else if(et&&X.y!==b.y){const Q=S.scrollTop+y.y,J=N===ie.Down&&Q<=A.y||N===ie.Up&&Q>=F.y;if(J&&!y.x){S.scrollTo({top:Q,behavior:u});return}J?v.y=S.scrollTop-Q:v.y=N===ie.Down?S.scrollTop-A.y:S.scrollTop-F.y,v.y&&S.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,Oa(So(b,this.referenceCoordinates),v))}}}handleMove(t,e){const{onMove:i}=this.props;t.preventDefault(),i(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hh.activators=[{eventName:"onKeyDown",handler:(n,t,e)=>{let{keyboardCodes:i=c2,onActivation:r}=t,{active:l}=e;const{code:c}=n.nativeEvent;if(i.start.includes(c)){const u=l.activatorNode.current;return u&&n.target!==u?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function Yx(n){return!!(n&&"distance"in n)}function qx(n){return!!(n&&"delay"in n)}class gg{constructor(t,e,i){var r;i===void 0&&(i=Mj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:l}=t,{target:c}=l;this.props=t,this.events=e,this.document=Za(c),this.documentListeners=new lo(this.document),this.listeners=new lo(i),this.windowListeners=new lo(Qn(c)),this.initialCoordinates=(r=E0(l))!=null?r:Pi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.DragStart,Ix),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),this.windowListeners.add(ki.ContextMenu,Ix),this.documentListeners.add(ki.Keydown,this.handleKeydown),e){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qx(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Yx(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:i,onPending:r}=this.props;r(i,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(ki.Click,Cj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ki.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:i,initialCoordinates:r,props:l}=this,{onMove:c,options:{activationConstraint:u}}=l;if(!r)return;const h=(e=E0(t))!=null?e:Pi,f=So(r,h);if(!i&&u){if(Yx(u)){if(u.tolerance!=null&&Uf(f,u.tolerance))return this.handleCancel();if(Uf(f,u.distance))return this.handleStart()}if(qx(u)&&Uf(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===ie.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Tj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dh extends gg{constructor(t){const{event:e}=t,i=Za(e.target);super(t,Tj,i)}}dh.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return!e.isPrimary||e.button!==0?!1:(i?.({event:e}),!0)}}];const Dj={move:{name:"mousemove"},end:{name:"mouseup"}};var D0;(function(n){n[n.RightClick=2]="RightClick"})(D0||(D0={}));class Aj extends gg{constructor(t){super(t,Dj,Za(t.event.target))}}Aj.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return e.button===D0.RightClick?!1:(i?.({event:e}),!0)}}];const Ff={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Rj extends gg{constructor(t){super(t,Ff)}static setup(){return window.addEventListener(Ff.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ff.move.name,t)};function t(){}}}Rj.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;const{touches:r}=e;return r.length>1?!1:(i?.({event:e}),!0)}}];var oo;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(oo||(oo={}));var qu;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(qu||(qu={}));function Oj(n){let{acceleration:t,activator:e=oo.Pointer,canScroll:i,draggingRect:r,enabled:l,interval:c=5,order:u=qu.TreeOrder,pointerCoordinates:h,scrollableAncestors:f,scrollableAncestorRects:m,delta:b,threshold:y}=n;const v=Lj({delta:b,disabled:!l}),[k,S]=GN(),N=_.useRef({x:0,y:0}),j=_.useRef({x:0,y:0}),E=_.useMemo(()=>{switch(e){case oo.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case oo.DraggableRect:return r}},[e,r,h]),D=_.useRef(null),U=_.useCallback(()=>{const F=D.current;if(!F)return;const H=N.current.x*j.current.x,X=N.current.y*j.current.y;F.scrollBy(H,X)},[]),A=_.useMemo(()=>u===qu.TreeOrder?[...f].reverse():f,[u,f]);_.useEffect(()=>{if(!l||!f.length||!E){S();return}for(const F of A){if(i?.(F)===!1)continue;const H=f.indexOf(F),X=m[H];if(!X)continue;const{direction:P,speed:et}=wj(F,X,E,t,y);for(const Q of["x","y"])v[Q][P[Q]]||(et[Q]=0,P[Q]=0);if(et.x>0||et.y>0){S(),D.current=F,k(U,c),N.current=et,j.current=P;return}}N.current={x:0,y:0},j.current={x:0,y:0},S()},[t,U,i,S,l,c,JSON.stringify(E),JSON.stringify(v),k,f,A,m,JSON.stringify(y)])}const zj={x:{[hn.Backward]:!1,[hn.Forward]:!1},y:{[hn.Backward]:!1,[hn.Forward]:!1}};function Lj(n){let{delta:t,disabled:e}=n;const i=C0(t);return Lo(r=>{if(e||!i||!r)return zj;const l={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[hn.Backward]:r.x[hn.Backward]||l.x===-1,[hn.Forward]:r.x[hn.Forward]||l.x===1},y:{[hn.Backward]:r.y[hn.Backward]||l.y===-1,[hn.Forward]:r.y[hn.Forward]||l.y===1}}},[e,t,i])}function Pj(n,t){const e=t!=null?n.get(t):void 0,i=e?e.node.current:null;return Lo(r=>{var l;return t==null?null:(l=i??r)!=null?l:null},[i,t])}function Bj(n,t){return _.useMemo(()=>n.reduce((e,i)=>{const{sensor:r}=i,l=r.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,i)}));return[...e,...l]},[]),[n,t])}var ko;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(ko||(ko={}));var A0;(function(n){n.Optimized="optimized"})(A0||(A0={}));const $x=new Map;function Hj(n,t){let{dragging:e,dependencies:i,config:r}=t;const[l,c]=_.useState(null),{frequency:u,measure:h,strategy:f}=r,m=_.useRef(n),b=N(),y=wo(b),v=_.useCallback(function(j){j===void 0&&(j=[]),!y.current&&c(E=>E===null?j:E.concat(j.filter(D=>!E.includes(D))))},[y]),k=_.useRef(null),S=Lo(j=>{if(b&&!e)return $x;if(!j||j===$x||m.current!==n||l!=null){const E=new Map;for(let D of n){if(!D)continue;if(l&&l.length>0&&!l.includes(D.id)&&D.rect.current){E.set(D.id,D.rect.current);continue}const U=D.node.current,A=U?new fg(h(U),U):null;D.rect.current=A,A&&E.set(D.id,A)}return E}return j},[n,l,e,b,h]);return _.useEffect(()=>{m.current=n},[n]),_.useEffect(()=>{b||v()},[e,b]),_.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),_.useEffect(()=>{b||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},u))},[u,b,v,...i]),{droppableRects:S,measureDroppableContainers:v,measuringScheduled:l!=null};function N(){switch(f){case ko.Always:return!1;case ko.BeforeDragging:return e;default:return!e}}}function u2(n,t){return Lo(e=>n?e||(typeof t=="function"?t(n):n):null,[t,n])}function Vj(n,t){return u2(n,t)}function Uj(n){let{callback:t,disabled:e}=n;const i=hg(t),r=_.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,e]);return _.useEffect(()=>()=>r?.disconnect(),[r]),r}function fh(n){let{callback:t,disabled:e}=n;const i=hg(t),r=_.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[e]);return _.useEffect(()=>()=>r?.disconnect(),[r]),r}function Fj(n){return new fg(Ka(n),n)}function Wx(n,t,e){t===void 0&&(t=Fj);const[i,r]=_.useState(null);function l(){r(h=>{if(!n)return null;if(n.isConnected===!1){var f;return(f=h??e)!=null?f:null}const m=t(n);return JSON.stringify(h)===JSON.stringify(m)?h:m})}const c=Uj({callback(h){if(n)for(const f of h){const{type:m,target:b}=f;if(m==="childList"&&b instanceof HTMLElement&&b.contains(n)){l();break}}}}),u=fh({callback:l});return Ji(()=>{l(),n?(u?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),c?.disconnect())},[n]),i}function Ij(n){const t=u2(n);return n2(n,t)}const Gx=[];function Yj(n){const t=_.useRef(n),e=Lo(i=>n?i&&i!==Gx&&n&&t.current&&n.parentNode===t.current.parentNode?i:uh(n):Gx,[n]);return _.useEffect(()=>{t.current=n},[n]),e}function qj(n){const[t,e]=_.useState(null),i=_.useRef(n),r=_.useCallback(l=>{const c=Vf(l.target);c&&e(u=>u?(u.set(c,T0(c)),new Map(u)):null)},[]);return _.useEffect(()=>{const l=i.current;if(n!==l){c(l);const u=n.map(h=>{const f=Vf(h);return f?(f.addEventListener("scroll",r,{passive:!0}),[f,T0(f)]):null}).filter(h=>h!=null);e(u.length?new Map(u):null),i.current=n}return()=>{c(n),c(l)};function c(u){u.forEach(h=>{const f=Vf(h);f?.removeEventListener("scroll",r)})}},[r,n]),_.useMemo(()=>n.length?t?Array.from(t.values()).reduce((l,c)=>Oa(l,c),Pi):o2(n):Pi,[n,t])}function Xx(n,t){t===void 0&&(t=[]);const e=_.useRef(null);return _.useEffect(()=>{e.current=null},t),_.useEffect(()=>{const i=n!==Pi;i&&!e.current&&(e.current=n),!i&&e.current&&(e.current=null)},[n]),e.current?So(n,e.current):Pi}function $j(n){_.useEffect(()=>{if(!ch)return;const t=n.map(e=>{let{sensor:i}=e;return i.setup==null?void 0:i.setup()});return()=>{for(const e of t)e?.()}},n.map(t=>{let{sensor:e}=t;return e}))}function Wj(n,t){return _.useMemo(()=>n.reduce((e,i)=>{let{eventName:r,handler:l}=i;return e[r]=c=>{l(c,t)},e},{}),[n,t])}function h2(n){return _.useMemo(()=>n?bj(n):null,[n])}const Qx=[];function Gj(n,t){t===void 0&&(t=Ka);const[e]=n,i=h2(e?Qn(e):null),[r,l]=_.useState(Qx);function c(){l(()=>n.length?n.map(h=>a2(h)?i:new fg(t(h),h)):Qx)}const u=fh({callback:c});return Ji(()=>{u?.disconnect(),c(),n.forEach(h=>u?.observe(h))},[n]),r}function Xj(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return zo(t)?t:n}function Qj(n){let{measure:t}=n;const[e,i]=_.useState(null),r=_.useCallback(f=>{for(const{target:m}of f)if(zo(m)){i(b=>{const y=t(m);return b?{...b,width:y.width,height:y.height}:y});break}},[t]),l=fh({callback:r}),c=_.useCallback(f=>{const m=Xj(f);l?.disconnect(),m&&l?.observe(m),i(m?t(m):null)},[t,l]),[u,h]=Fu(c);return _.useMemo(()=>({nodeRef:u,rect:e,setRef:h}),[e,u,h])}const Zj=[{sensor:dh,options:{}},{sensor:hh,options:{}}],Kj={current:{}},Ou={draggable:{measure:Fx},droppable:{measure:Fx,strategy:ko.WhileDragging,frequency:A0.Optimized},dragOverlay:{measure:Ka}};class co extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,i;return(e=(i=this.get(t))==null?void 0:i.node.current)!=null?e:void 0}}const Jj={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new co,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Iu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ou,measureDroppableContainers:Iu,windowRect:null,measuringScheduled:!1},tM={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Iu,draggableNodes:new Map,over:null,measureDroppableContainers:Iu},gh=_.createContext(tM),d2=_.createContext(Jj);function eM(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new co}}}function nM(n,t){switch(t.type){case on.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case on.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case on.DragEnd:case on.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case on.RegisterDroppable:{const{element:e}=t,{id:i}=e,r=new co(n.droppable.containers);return r.set(i,e),{...n,droppable:{...n.droppable,containers:r}}}case on.SetDroppableDisabled:{const{id:e,key:i,disabled:r}=t,l=n.droppable.containers.get(e);if(!l||i!==l.key)return n;const c=new co(n.droppable.containers);return c.set(e,{...l,disabled:r}),{...n,droppable:{...n.droppable,containers:c}}}case on.UnregisterDroppable:{const{id:e,key:i}=t,r=n.droppable.containers.get(e);if(!r||i!==r.key)return n;const l=new co(n.droppable.containers);return l.delete(e),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function iM(n){let{disabled:t}=n;const{active:e,activatorEvent:i,draggableNodes:r}=_.useContext(gh),l=C0(i),c=C0(e?.id);return _.useEffect(()=>{if(!t&&!i&&l&&c!=null){if(!dg(l)||document.activeElement===l.target)return;const u=r.get(c);if(!u)return;const{activatorNode:h,node:f}=u;if(!h.current&&!f.current)return;requestAnimationFrame(()=>{for(const m of[h.current,f.current]){if(!m)continue;const b=ZN(m);if(b){b.focus();break}}})}},[i,t,r,c,l]),null}function sM(n,t){let{transform:e,...i}=t;return n!=null&&n.length?n.reduce((r,l)=>l({transform:r,...i}),e):e}function rM(n){return _.useMemo(()=>({draggable:{...Ou.draggable,...n?.draggable},droppable:{...Ou.droppable,...n?.droppable},dragOverlay:{...Ou.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function aM(n){let{activeNode:t,measure:e,initialRect:i,config:r=!0}=n;const l=_.useRef(!1),{x:c,y:u}=typeof r=="boolean"?{x:r,y:r}:r;Ji(()=>{if(!c&&!u||!t){l.current=!1;return}if(l.current||!i)return;const f=t?.node.current;if(!f||f.isConnected===!1)return;const m=e(f),b=n2(m,i);if(c||(b.x=0),u||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const y=i2(f);y&&y.scrollBy({top:b.y,left:b.x})}},[t,c,u,i,e])}const f2=_.createContext({...Pi,scaleX:1,scaleY:1});var nr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(nr||(nr={}));const zu=_.memo(function(t){var e,i,r,l;let{id:c,accessibility:u,autoScroll:h=!0,children:f,sensors:m=Zj,collisionDetection:b=uj,measuring:y,modifiers:v,...k}=t;const S=_.useReducer(nM,void 0,eM),[N,j]=S,[E,D]=ij(),[U,A]=_.useState(nr.Uninitialized),F=U===nr.Initialized,{draggable:{active:H,nodes:X,translate:P},droppable:{containers:et}}=N,Q=H!=null?X.get(H):null,J=_.useRef({initial:null,translated:null}),it=_.useMemo(()=>{var _t;return H!=null?{id:H,data:(_t=Q?.data)!=null?_t:Kj,rect:J}:null},[H,Q]),st=_.useRef(null),[ut,V]=_.useState(null),[Y,ot]=_.useState(null),ft=wo(k,Object.values(k)),bt=Po("DndDescribedBy",c),O=_.useMemo(()=>et.getEnabled(),[et]),L=rM(y),{droppableRects:$,measureDroppableContainers:lt,measuringScheduled:xt}=Hj(O,{dragging:F,dependencies:[P.x,P.y],config:L.droppable}),gt=Pj(X,H),ht=_.useMemo(()=>Y?E0(Y):null,[Y]),Tt=Yt(),wt=Vj(gt,L.draggable.measure);aM({activeNode:H!=null?X.get(H):null,config:Tt.layoutShiftCompensation,initialRect:wt,measure:L.draggable.measure});const kt=Wx(gt,L.draggable.measure,wt),ct=Wx(gt?gt.parentElement:null),vt=_.useRef({activatorEvent:null,active:null,activeNode:gt,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:et,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=et.getNodeFor((e=vt.current.over)==null?void 0:e.id),St=Qj({measure:L.dragOverlay.measure}),zt=(i=St.nodeRef.current)!=null?i:gt,Ht=F?(r=St.rect)!=null?r:kt:null,Bt=!!(St.nodeRef.current&&St.rect),Oe=Ij(Bt?null:kt),fn=h2(zt?Qn(zt):null),_e=Yj(F?yt??gt:null),re=Gj(_e),Dn=sM(v,{transform:{x:P.x-Oe.x,y:P.y-Oe.y,scaleX:1,scaleY:1},activatorEvent:Y,active:it,activeNodeRect:kt,containerNodeRect:ct,draggingNodeRect:Ht,over:vt.current.over,overlayNodeRect:St.rect,scrollableAncestors:_e,scrollableAncestorRects:re,windowRect:fn}),ae=ht?Oa(ht,P):null,Vt=qj(_e),Zn=Xx(Vt),Kn=Xx(Vt,[kt]),tn=Oa(Dn,Zn),Ne=Ht?fj(Ht,Dn):null,cn=it&&Ne?b({active:it,collisionRect:Ne,droppableRects:$,droppableContainers:O,pointerCoordinates:ae}):null,vn=e2(cn,"id"),[He,Te]=_.useState(null),di=Bt?Dn:Oa(Dn,Kn),en=hj(di,(l=He?.rect)!=null?l:null,kt),wn=_.useRef(null),Ve=_.useCallback((_t,Pt)=>{let{sensor:Xt,options:ue}=Pt;if(st.current==null)return;const ze=X.get(st.current);if(!ze)return;const Ue=_t.nativeEvent,Ut=new Xt({active:st.current,activeNode:ze,event:Ue,options:ue,context:vt,onAbort(Ot){if(!X.get(Ot))return;const{onDragAbort:Sn}=ft.current,Rn={id:Ot};Sn?.(Rn),E({type:"onDragAbort",event:Rn})},onPending(Ot,be,Sn,Rn){if(!X.get(Ot))return;const{onDragPending:nn}=ft.current,sn={id:Ot,constraint:be,initialCoordinates:Sn,offset:Rn};nn?.(sn),E({type:"onDragPending",event:sn})},onStart(Ot){const be=st.current;if(be==null)return;const Sn=X.get(be);if(!Sn)return;const{onDragStart:Rn}=ft.current,kn={activatorEvent:Ue,active:{id:be,data:Sn.data,rect:J}};no.unstable_batchedUpdates(()=>{Rn?.(kn),A(nr.Initializing),j({type:on.DragStart,initialCoordinates:Ot,active:be}),E({type:"onDragStart",event:kn}),V(wn.current),ot(Ue)})},onMove(Ot){j({type:on.DragMove,coordinates:Ot})},onEnd:An(on.DragEnd),onCancel:An(on.DragCancel)});wn.current=Ut;function An(Ot){return async function(){const{active:Sn,collisions:Rn,over:kn,scrollAdjustedTranslate:nn}=vt.current;let sn=null;if(Sn&&nn){const{cancelDrop:Ft}=ft.current;sn={activatorEvent:Ue,active:Sn,collisions:Rn,delta:nn,over:kn},Ot===on.DragEnd&&typeof Ft=="function"&&await Promise.resolve(Ft(sn))&&(Ot=on.DragCancel)}st.current=null,no.unstable_batchedUpdates(()=>{j({type:Ot}),A(nr.Uninitialized),Te(null),V(null),ot(null),wn.current=null;const Ft=Ot===on.DragEnd?"onDragEnd":"onDragCancel";if(sn){const xe=ft.current[Ft];xe?.(sn),E({type:Ft,event:sn})}})}}},[X]),mr=_.useCallback((_t,Pt)=>(Xt,ue)=>{const ze=Xt.nativeEvent,Ue=X.get(ue);if(st.current!==null||!Ue||ze.dndKit||ze.defaultPrevented)return;const Ut={active:Ue};_t(Xt,Pt.options,Ut)===!0&&(ze.dndKit={capturedBy:Pt.sensor},st.current=ue,Ve(Xt,Pt))},[X,Ve]),Ci=Bj(m,mr);$j(m),Ji(()=>{kt&&U===nr.Initializing&&A(nr.Initialized)},[kt,U]),_.useEffect(()=>{const{onDragMove:_t}=ft.current,{active:Pt,activatorEvent:Xt,collisions:ue,over:ze}=vt.current;if(!Pt||!Xt)return;const Ue={active:Pt,activatorEvent:Xt,collisions:ue,delta:{x:tn.x,y:tn.y},over:ze};no.unstable_batchedUpdates(()=>{_t?.(Ue),E({type:"onDragMove",event:Ue})})},[tn.x,tn.y]),_.useEffect(()=>{const{active:_t,activatorEvent:Pt,collisions:Xt,droppableContainers:ue,scrollAdjustedTranslate:ze}=vt.current;if(!_t||st.current==null||!Pt||!ze)return;const{onDragOver:Ue}=ft.current,Ut=ue.get(vn),An=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,Ot={active:_t,activatorEvent:Pt,collisions:Xt,delta:{x:ze.x,y:ze.y},over:An};no.unstable_batchedUpdates(()=>{Te(An),Ue?.(Ot),E({type:"onDragOver",event:Ot})})},[vn]),Ji(()=>{vt.current={activatorEvent:Y,active:it,activeNode:gt,collisionRect:Ne,collisions:cn,droppableRects:$,draggableNodes:X,draggingNode:zt,draggingNodeRect:Ht,droppableContainers:et,over:He,scrollableAncestors:_e,scrollAdjustedTranslate:tn},J.current={initial:Ht,translated:Ne}},[it,gt,cn,Ne,X,zt,Ht,$,et,He,_e,tn]),Oj({...Tt,delta:P,draggingRect:Ne,pointerCoordinates:ae,scrollableAncestors:_e,scrollableAncestorRects:re});const pr=_.useMemo(()=>({active:it,activeNode:gt,activeNodeRect:kt,activatorEvent:Y,collisions:cn,containerNodeRect:ct,dragOverlay:St,draggableNodes:X,droppableContainers:et,droppableRects:$,over:He,measureDroppableContainers:lt,scrollableAncestors:_e,scrollableAncestorRects:re,measuringConfiguration:L,measuringScheduled:xt,windowRect:fn}),[it,gt,kt,Y,cn,ct,St,X,et,$,He,lt,_e,re,L,xt,fn]),q=_.useMemo(()=>({activatorEvent:Y,activators:Ci,active:it,activeNodeRect:kt,ariaDescribedById:{draggable:bt},dispatch:j,draggableNodes:X,over:He,measureDroppableContainers:lt}),[Y,Ci,it,kt,j,bt,X,He,lt]);return $n.createElement(Z1.Provider,{value:D},$n.createElement(gh.Provider,{value:q},$n.createElement(d2.Provider,{value:pr},$n.createElement(f2.Provider,{value:en},f)),$n.createElement(iM,{disabled:u?.restoreFocus===!1})),$n.createElement(aj,{...u,hiddenTextDescribedById:bt}));function Yt(){const _t=ut?.autoScrollEnabled===!1,Pt=typeof h=="object"?h.enabled===!1:h===!1,Xt=F&&!_t&&!Pt;return typeof h=="object"?{...h,enabled:Xt}:{enabled:Xt}}}),lM=_.createContext(null),Zx="button",oM="Draggable";function cM(n){let{id:t,data:e,disabled:i=!1,attributes:r}=n;const l=Po(oM),{activators:c,activatorEvent:u,active:h,activeNodeRect:f,ariaDescribedById:m,draggableNodes:b,over:y}=_.useContext(gh),{role:v=Zx,roleDescription:k="draggable",tabIndex:S=0}=r??{},N=h?.id===t,j=_.useContext(N?f2:lM),[E,D]=Fu(),[U,A]=Fu(),F=Wj(c,t),H=wo(e);Ji(()=>(b.set(t,{id:t,key:l,node:E,activatorNode:U,data:H}),()=>{const P=b.get(t);P&&P.key===l&&b.delete(t)}),[b,t]);const X=_.useMemo(()=>({role:v,tabIndex:S,"aria-disabled":i,"aria-pressed":N&&v===Zx?!0:void 0,"aria-roledescription":k,"aria-describedby":m.draggable}),[i,v,S,N,k,m.draggable]);return{active:h,activatorEvent:u,activeNodeRect:f,attributes:X,isDragging:N,listeners:i?void 0:F,node:E,over:y,setNodeRef:D,setActivatorNodeRef:A,transform:j}}function uM(){return _.useContext(d2)}const hM="Droppable",dM={timeout:25};function fM(n){let{data:t,disabled:e=!1,id:i,resizeObserverConfig:r}=n;const l=Po(hM),{active:c,dispatch:u,over:h,measureDroppableContainers:f}=_.useContext(gh),m=_.useRef({disabled:e}),b=_.useRef(!1),y=_.useRef(null),v=_.useRef(null),{disabled:k,updateMeasurementsFor:S,timeout:N}={...dM,...r},j=wo(S??i),E=_.useCallback(()=>{if(!b.current){b.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{f(Array.isArray(j.current)?j.current:[j.current]),v.current=null},N)},[N]),D=fh({callback:E,disabled:k||!c}),U=_.useCallback((X,P)=>{D&&(P&&(D.unobserve(P),b.current=!1),X&&D.observe(X))},[D]),[A,F]=Fu(U),H=wo(t);return _.useEffect(()=>{!D||!A.current||(D.disconnect(),b.current=!1,D.observe(A.current))},[A,D]),_.useEffect(()=>(u({type:on.RegisterDroppable,element:{id:i,key:l,disabled:e,node:A,rect:y,data:H}}),()=>u({type:on.UnregisterDroppable,key:l,id:i})),[i]),_.useEffect(()=>{e!==m.current.disabled&&(u({type:on.SetDroppableDisabled,id:i,key:l,disabled:e}),m.current.disabled=e)},[i,l,e,u]),{active:c,rect:y,isOver:h?.id===i,node:A,over:h,setNodeRef:F}}function za(n,t,e){const i=n.slice();return i.splice(e<0?i.length+e:e,0,i.splice(t,1)[0]),i}function gM(n,t){return n.reduce((e,i,r)=>{const l=t.get(i);return l&&(e[r]=l),e},Array(n.length))}function su(n){return n!==null&&n>=0}function mM(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function pM(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const mg=n=>{let{rects:t,activeIndex:e,overIndex:i,index:r}=n;const l=za(t,i,e),c=t[r],u=l[r];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},ru={scaleX:1,scaleY:1},bM=n=>{var t;let{activeIndex:e,activeNodeRect:i,index:r,rects:l,overIndex:c}=n;const u=(t=l[e])!=null?t:i;if(!u)return null;if(r===e){const f=l[c];return f?{x:0,y:e<c?f.top+f.height-(u.top+u.height):f.top-u.top,...ru}:null}const h=xM(l,r,e);return r>e&&r<=c?{x:0,y:-u.height-h,...ru}:r<e&&r>=c?{x:0,y:u.height+h,...ru}:{x:0,y:0,...ru}};function xM(n,t,e){const i=n[t],r=n[t-1],l=n[t+1];return i?e<t?r?i.top-(r.top+r.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const g2="Sortable",m2=$n.createContext({activeIndex:-1,containerId:g2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mg,disabled:{draggable:!1,droppable:!1}});function Lu(n){let{children:t,id:e,items:i,strategy:r=mg,disabled:l=!1}=n;const{active:c,dragOverlay:u,droppableRects:h,over:f,measureDroppableContainers:m}=uM(),b=Po(g2,e),y=u.rect!==null,v=_.useMemo(()=>i.map(F=>typeof F=="object"&&"id"in F?F.id:F),[i]),k=c!=null,S=c?v.indexOf(c.id):-1,N=f?v.indexOf(f.id):-1,j=_.useRef(v),E=!mM(v,j.current),D=N!==-1&&S===-1||E,U=pM(l);Ji(()=>{E&&k&&m(v)},[E,v,k,m]),_.useEffect(()=>{j.current=v},[v]);const A=_.useMemo(()=>({activeIndex:S,containerId:b,disabled:U,disableTransforms:D,items:v,overIndex:N,useDragOverlay:y,sortedRects:gM(v,h),strategy:r}),[S,b,U.draggable,U.droppable,D,v,N,h,y,r]);return $n.createElement(m2.Provider,{value:A},t)}const yM=n=>{let{id:t,items:e,activeIndex:i,overIndex:r}=n;return za(e,i,r).indexOf(t)},vM=n=>{let{containerId:t,isSorting:e,wasDragging:i,index:r,items:l,newIndex:c,previousItems:u,previousContainerId:h,transition:f}=n;return!f||!i||u!==l&&r===c?!1:e?!0:c!==r&&t===h},wM={duration:200,easing:"ease"},p2="transform",SM=ur.Transition.toString({property:p2,duration:0,easing:"linear"}),kM={roleDescription:"sortable"};function _M(n){let{disabled:t,index:e,node:i,rect:r}=n;const[l,c]=_.useState(null),u=_.useRef(e);return Ji(()=>{if(!t&&e!==u.current&&i.current){const h=r.current;if(h){const f=Ka(i.current,{ignoreTransform:!0}),m={x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height};(m.x||m.y)&&c(m)}}e!==u.current&&(u.current=e)},[t,e,i,r]),_.useEffect(()=>{l&&c(null)},[l]),l}function mh(n){let{animateLayoutChanges:t=vM,attributes:e,disabled:i,data:r,getNewIndex:l=yM,id:c,strategy:u,resizeObserverConfig:h,transition:f=wM}=n;const{items:m,containerId:b,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:S,overIndex:N,useDragOverlay:j,strategy:E}=_.useContext(m2),D=NM(i,v),U=m.indexOf(c),A=_.useMemo(()=>({sortable:{containerId:b,index:U,items:m},...r}),[b,r,U,m]),F=_.useMemo(()=>m.slice(m.indexOf(c)),[m,c]),{rect:H,node:X,isOver:P,setNodeRef:et}=fM({id:c,data:A,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...h}}),{active:Q,activatorEvent:J,activeNodeRect:it,attributes:st,setNodeRef:ut,listeners:V,isDragging:Y,over:ot,setActivatorNodeRef:ft,transform:bt}=cM({id:c,data:A,attributes:{...kM,...e},disabled:D.draggable}),O=WN(et,ut),L=!!Q,$=L&&!k&&su(y)&&su(N),lt=!j&&Y,xt=lt&&$?bt:null,ht=$?xt??(u??E)({rects:S,activeNodeRect:it,activeIndex:y,overIndex:N,index:U}):null,Tt=su(y)&&su(N)?l({id:c,items:m,activeIndex:y,overIndex:N}):U,wt=Q?.id,kt=_.useRef({activeId:wt,items:m,newIndex:Tt,containerId:b}),ct=m!==kt.current.items,vt=t({active:Q,containerId:b,isDragging:Y,isSorting:L,id:c,index:U,items:m,newIndex:kt.current.newIndex,previousItems:kt.current.items,previousContainerId:kt.current.containerId,transition:f,wasDragging:kt.current.activeId!=null}),yt=_M({disabled:!vt,index:U,node:X,rect:H});return _.useEffect(()=>{L&&kt.current.newIndex!==Tt&&(kt.current.newIndex=Tt),b!==kt.current.containerId&&(kt.current.containerId=b),m!==kt.current.items&&(kt.current.items=m)},[L,Tt,b,m]),_.useEffect(()=>{if(wt===kt.current.activeId)return;if(wt!=null&&kt.current.activeId==null){kt.current.activeId=wt;return}const zt=setTimeout(()=>{kt.current.activeId=wt},50);return()=>clearTimeout(zt)},[wt]),{active:Q,activeIndex:y,attributes:st,data:A,rect:H,index:U,newIndex:Tt,items:m,isOver:P,isSorting:L,isDragging:Y,listeners:V,node:X,overIndex:N,over:ot,setNodeRef:O,setActivatorNodeRef:ft,setDroppableNodeRef:et,setDraggableNodeRef:ut,transform:yt??ht,transition:St()};function St(){if(yt||ct&&kt.current.newIndex===U)return SM;if(!(lt&&!dg(J)||!f)&&(L||vt))return ur.Transition.toString({...f,property:p2})}}function NM(n,t){var e,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(e=n?.draggable)!=null?e:t.draggable,droppable:(i=n?.droppable)!=null?i:t.droppable}}function $u(n){if(!n)return!1;const t=n.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const jM=[ie.Down,ie.Right,ie.Up,ie.Left],b2=(n,t)=>{let{context:{active:e,collisionRect:i,droppableRects:r,droppableContainers:l,over:c,scrollableAncestors:u}}=t;if(jM.includes(n.code)){if(n.preventDefault(),!e||!i)return;const h=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const y=r.get(b.id);if(y)switch(n.code){case ie.Down:i.top<y.top&&h.push(b);break;case ie.Up:i.top>y.top&&h.push(b);break;case ie.Left:i.left>y.left&&h.push(b);break;case ie.Right:i.left<y.left&&h.push(b);break}});const f=oj({collisionRect:i,droppableRects:r,droppableContainers:h});let m=e2(f,"id");if(m===c?.id&&f.length>1&&(m=f[1].id),m!=null){const b=l.get(e.id),y=l.get(m),v=y?r.get(y.id):null,k=y?.node.current;if(k&&v&&b&&y){const N=uh(k).some((F,H)=>u[H]!==F),j=x2(b,y),E=MM(b,y),D=N||!j?{x:0,y:0}:{x:E?i.width-v.width:0,y:E?i.height-v.height:0},U={x:v.left,y:v.top};return D.x&&D.y?U:So(U,D)}}}};function x2(n,t){return!$u(n)||!$u(t)?!1:n.data.current.sortable.containerId===t.data.current.sortable.containerId}function MM(n,t){return!$u(n)||!$u(t)||!x2(n,t)?!1:n.data.current.sortable.index<t.data.current.sortable.index}const CM=(n,t="1d",e="1d")=>{const i=`https://query1.finance.yahoo.com/v8/finance/chart/${n}?interval=${t}&range=${e}`;return`https://api.allorigins.win/get?url=${encodeURIComponent(i)}`},pg=()=>{try{const n=localStorage.getItem("apiKeys");if(n)return JSON.parse(n)}catch(n){console.error("Error loading API keys from localStorage:",n)}return{finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}},EM=n=>{const e=pg().finnhub||"demo";return`https://finnhub.io/api/v1/quote?symbol=${n}&token=${e}`},TM=n=>{const e=pg().massive||"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG";return`https://api.massive.com/v1/quote?symbol=${n}&apiKey=${e}`},io=async(n,t="1d",e="1d")=>{try{const i=CM(n,t,e),r=await fetch(i,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok){const c=await r.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${r.status} ${r.statusText}. ${c}`)}let l=await r.json();if(l.contents)try{l=typeof l.contents=="string"?JSON.parse(l.contents):l.contents}catch(c){throw console.error("Error parsing CORS proxy response:",c),new Error("Failed to parse API response")}if(!l)throw new Error("Empty response from API");if(!l.chart)throw new Error("Invalid response: missing chart data");if(!l.chart.result||!Array.isArray(l.chart.result)||l.chart.result.length===0)throw new Error("Invalid response: no result data");if(!l.chart.result[0])throw new Error("Invalid response: empty result array");return{data:l,source:"yahoo"}}catch(i){throw console.error(`Error fetching from Yahoo Finance ${n}:`,i),i}},au=async n=>{try{const t=EM(n),e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok){const r=await e.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${e.status} ${e.statusText}. ${r}`)}const i=await e.json();if(!i||i.error)throw new Error(i.error||"Empty response from API");if(i.c===null||i.c===void 0)throw new Error("Invalid response: missing price data");return{data:i,source:"finnhub"}}catch(t){throw console.error(`Error fetching from Finnhub ${n}:`,t),t}},lu=async n=>{try{const t=TM(n),i=pg().massive||"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG",r=await fetch(t,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${i}`}});if(!r.ok){const h=await r.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${r.status} ${r.statusText}. ${h}`)}const l=await r.json();if(!l||l.error)throw new Error(l.error||"Empty response from API");const c=l.c||l.close||l.price||l.currentPrice;if(c==null)throw new Error("Invalid response: missing price data");return{data:{c,pc:l.pc||l.previousClose||l.prevClose||c,h:l.h||l.high||c,l:l.l||l.low||c,o:l.o||l.open||c,v:l.v||l.volume||0,t:l.t||l.timestamp||Date.now()/1e3},source:"massive"}}catch(t){throw console.error(`Error fetching from Massive ${n}:`,t),t}},DM=()=>{try{const n=localStorage.getItem("preferredApi");if(n&&["yahoo","finnhub","massive","auto"].includes(n))return n}catch(n){console.error("Error loading preferred API:",n)}return"auto"},Ja=async(n,t="1d",e="1d")=>{const i=DM();if(i==="yahoo")try{return await io(n,t,e)}catch(r){console.log(`Yahoo Finance failed for ${n}, trying fallback...`);try{return await au(n)}catch{try{return await lu(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else if(i==="finnhub")try{return await au(n)}catch(r){console.log(`Finnhub failed for ${n}, trying fallback...`);try{return await io(n,t,e)}catch{try{return await lu(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else if(i==="massive")try{return await lu(n)}catch(r){console.log(`Massive failed for ${n}, trying fallback...`);try{return await io(n,t,e)}catch{try{return await au(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else try{return await io(n,t,e)}catch(r){console.log(`Yahoo Finance failed for ${n}, trying Finnhub backup...`);try{return await au(n)}catch{console.log(`Finnhub failed for ${n}, trying Massive backup...`);try{return await lu(n)}catch{throw console.error(`All APIs failed for ${n}`),new Error(`Failed to fetch data from all APIs: ${r.message}`)}}}},AM=(n,t)=>{if(!t?.chart?.result?.[0])throw new Error("Invalid data format from Yahoo Finance");const e=t.chart.result[0],i=e.meta;e.indicators?.quote?.[0];const r=i.regularMarketPrice||i.previousClose||0,l=i.previousClose||r,c=r-l,u=l?c/l*100:0,h=i.marketState==="REGULAR",f=h?Math.floor(Math.random()*200)+50:0;let m="operational";return h?Math.abs(u)>5&&(m="degraded"):m="paused",{id:n,name:`${i.shortName||n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:m,isUp:h,responseTime:f,avgResponseTime:f,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!h,price:r,change:c,changePercent:u,volume:i.regularMarketVolume||0,marketState:i.marketState,symbol:n,apiSource:"yahoo"}},RM=(n,t)=>{if(!t||t.c===null||t.c===void 0)throw new Error("Invalid data format from Finnhub");const e=t.c||0,i=t.pc||e,r=e-i,l=i?r/i*100:0,c=t.t&&t.t>0,u=c?Math.floor(Math.random()*200)+50:0;let h="operational";return c?Math.abs(l)>5&&(h="degraded"):h="paused",{id:n,name:`${n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:h,isUp:c,responseTime:u,avgResponseTime:u,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!c,price:e,change:r,changePercent:l,volume:t.v||0,marketState:c?"REGULAR":"CLOSED",symbol:n,apiSource:"finnhub"}},OM=(n,t)=>{if(!t||t.c===null||t.c===void 0)throw new Error("Invalid data format from Massive");const e=t.c||0,i=t.pc||e,r=e-i,l=i?r/i*100:0,c=t.t&&t.t>0,u=c?Math.floor(Math.random()*200)+50:0;let h="operational";return c?Math.abs(l)>5&&(h="degraded"):h="paused",{id:n,name:`${n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:h,isUp:c,responseTime:u,avgResponseTime:u,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!c,price:e,change:r,changePercent:l,volume:t.v||0,marketState:c?"REGULAR":"CLOSED",symbol:n,apiSource:"massive"}},bg=(n,t)=>t.source==="finnhub"?RM(n,t.data):t.source==="massive"?OM(n,t.data):AM(n,t.data),zM=async()=>{try{let n=["AAPL","GOOGL","MSFT","TSLA","AMZN"];try{const l=localStorage.getItem("defaultSymbols");if(l){const c=JSON.parse(l);Array.isArray(c)&&c.length>0&&(n=c)}}catch(l){console.error("Error loading default symbols from localStorage:",l)}let t=[];try{const l=localStorage.getItem("deletedMonitors");l&&(t=JSON.parse(l))}catch(l){console.error("Error loading deleted monitors:",l)}const i=n.filter(l=>!t.includes(l)).map(l=>Ja(l,"1d","1d").then(c=>bg(l,c)).catch(c=>(console.error(`Failed to fetch ${l}:`,c),{id:l,name:`${l}`,url:`https://finance.yahoo.com/quote/${l}`,type:"http",status:"down",isUp:!1,responseTime:0,avgResponseTime:0,uptime:0,uptimePercent:0,lastCheck:new Date().toISOString(),paused:!1,symbol:l,apiSource:"none"})));return(await Promise.all(i)).filter(l=>l!==null)}catch(n){return console.error("Failed to fetch monitors:",n),[]}},LM=async n=>{try{let t=n.symbol;if(!t&&n.url&&(t=n.url.split("/").pop()?.toUpperCase().replace(/[^A-Z]/g,"")),!t)throw new Error("Stock symbol is required");t=t.toUpperCase().trim();try{let r=[];const l=localStorage.getItem("deletedMonitors");l&&(r=JSON.parse(l)),r=r.filter(c=>c!==t),localStorage.setItem("deletedMonitors",JSON.stringify(r))}catch(r){console.error("Error updating deleted monitors:",r)}const e=await Ja(t,"1d","1d"),i=bg(t,e);n.name&&(i.name=n.name);try{let r=["AAPL","GOOGL","MSFT","TSLA","AMZN"];const l=localStorage.getItem("defaultSymbols");if(l){const c=JSON.parse(l);Array.isArray(c)&&c.length>0&&(r=c)}r.includes(t)||(r.push(t),localStorage.setItem("defaultSymbols",JSON.stringify(r)))}catch(r){console.error("Error saving default symbols:",r)}return i}catch(t){throw console.error("Failed to create monitor:",t),t}},PM=async(n,t)=>{try{const e=t.symbol||n,i=await Ja(e,"1d","1d");return bg(e,i)}catch(e){throw console.error("Failed to update monitor:",e),e}},Wu=async(n,t="1d")=>{try{let e="1d",i="1mo";t==="1H"||t==="1h"?(e="1h",i="1d"):(t==="1D"||t==="1d")&&(e="1d",i="1mo");const r=await Ja(n,e,i);if(r.source==="finnhub"){const E=r.data;return{symbol:n,currentPrice:E.c||0,data:[{time:new Date().toISOString(),timestamp:Date.now(),open:E.o||E.c||0,high:E.h||E.c||0,low:E.l||E.c||0,close:E.c||0,volume:E.v||0}]}}const l=r.data;if(!l?.chart?.result?.[0])throw new Error("Invalid data format from API");const c=l.chart.result[0],u=c.timestamp||[],h=c.indicators?.quote?.[0];if(!h)throw new Error("No quote data available");const f=h.close||[],m=h.open||[],b=h.high||[],y=h.low||[],v=h.volume||[];if(u.length===0||f.length===0)throw new Error("No historical data available for this symbol");const k=c.meta,S=k?.regularMarketPrice||k?.previousClose||f[f.length-1]||0,N=[],j=Math.min(u.length,f.length);for(let E=0;E<j;E++){const D=u[E],U=f[E];D&&U!==null&&U!==void 0&&!isNaN(U)&&N.push({time:new Date(D*1e3).toISOString(),timestamp:D*1e3,open:m[E]!==null&&m[E]!==void 0?m[E]:U,high:b[E]!==null&&b[E]!==void 0?b[E]:U,low:y[E]!==null&&y[E]!==void 0?y[E]:U,close:U,volume:v[E]!==null&&v[E]!==void 0?v[E]:0})}if(N.length===0)throw new Error("No valid price data points found");return{symbol:n,currentPrice:S,data:N}}catch(e){throw console.error("Failed to fetch price chart data:",e),e}},Ur=()=>{const n=new Date,t=new Date(n.toLocaleString("en-US",{timeZone:"America/New_York"})),e=t.getDay(),i=t.getHours(),r=t.getMinutes(),l=i*60+r;return e===0||e===6?!1:l>=570&&l<960},BM=(n,t=!0)=>{if(n.marketState){const e=n.marketState.toUpperCase();if(e==="REGULAR")return"REGULAR";if(e==="PRE"||e==="PREPRE")return"PRE";if(e==="POST"||e==="POSTPOST")return"POST";if(e==="CLOSED")return"CLOSED"}return t?Ur()?"REGULAR":"CLOSED":"UNKNOWN"},If=async n=>{try{const t=Ur()?"5m":"1d",e=(Ur(),"1d"),i=await io(n,t,e);if(!i||!i.data)throw new Error("Invalid response format");const r=i.data;if(!r?.chart?.result?.[0])throw new Error("Invalid data format: missing chart result");const l=r.chart.result[0];if(!l.meta)throw new Error("Invalid data format: missing meta data");const c=l.meta,u=l.indicators?.quote?.[0],h=c.previousClose||c.close||0;let f=0;if(c.regularMarketPrice&&c.regularMarketPrice>0&&(f=c.regularMarketPrice),(!f||f===0)&&u&&u.close&&u.close.length>0)for(let k=u.close.length-1;k>=0;k--){const S=u.close[k];if(S!=null&&S>0){f=S;break}}if((!f||f===0)&&(f=c.chartPreviousClose||c.close||0),(!f||f===0)&&(f=h||c.close||0),!f||f===0)throw new Error("Invalid data format: no valid price data");let m=0,b=0;h&&h>0&&(m=f-h,b=m/h*100);const y=BM(c,!0);let v=0;if(c.regularMarketVolume&&c.regularMarketVolume>0)v=c.regularMarketVolume;else if(u&&u.volume&&u.volume.length>0)for(let k=u.volume.length-1;k>=0;k--){const S=u.volume[k];if(S!=null&&S>0){v=S;break}}return{symbol:n,price:f,change:m,changePercent:b,previousClose:h,marketState:y,volume:v}}catch(t){console.error(`Error fetching ${n}:`,t);const e=Ur()?"REGULAR":"CLOSED";return{symbol:n,price:null,change:0,changePercent:0,previousClose:0,marketState:e,volume:0,error:t.message||"Invalid data format"}}};function HM({id:n,timezone:t,city:e,country:i}){const{attributes:r,listeners:l,setNodeRef:c,transform:u,transition:h,isDragging:f}=mh({id:n}),m={transform:ur.Transform.toString(u),transition:h,opacity:f?.5:1},[b,y]=_.useState(new Date);_.useEffect(()=>{const P=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(P)},[]);const k=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,day:"2-digit",month:"short",year:"numeric"}).formatToParts(b),S=k.find(P=>P.type==="hour").value+":"+k.find(P=>P.type==="minute").value+":"+k.find(P=>P.type==="second").value+" "+k.find(P=>P.type==="dayPeriod").value,N=k.find(P=>P.type==="month").value+" "+k.find(P=>P.type==="day").value+", "+k.find(P=>P.type==="year").value,j=k.find(P=>P.type==="month").value,E=parseInt(k.find(P=>P.type==="day").value),D=parseInt(k.find(P=>P.type==="year").value),A={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}[j]||1,F=new Date(D,A-1,E),H=W1(F),X=G1(H);return g.jsx("div",{ref:c,style:m,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...r,...l,children:g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:i}),g.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 font-mono",children:S}),g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:N}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[g.jsx("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:X.number}),g.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:X.title})]}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:X.description})]})]})})}function Yf({id:n,children:t}){const{attributes:e,listeners:i,setNodeRef:r,transform:l,transition:c,isDragging:u}=mh({id:n}),h={transform:ur.Transform.toString(l),transition:c,opacity:u?.5:1};return g.jsxs("div",{ref:r,style:h,className:"relative mb-8",children:[g.jsx("div",{...e,...i,className:"absolute -top-2 left-0 right-0 h-8 cursor-move touch-none flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity z-10 group",children:g.jsxs("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag to reorder section"})]})}),g.jsx("div",{className:"pt-2",children:t})]})}function VM({volume:n,symbol:t}){if(!n||n===0)return null;const e=i=>i>=1e9?`${(i/1e9).toFixed(2)}B`:i>=1e6?`${(i/1e6).toFixed(2)}M`:i>=1e3?`${(i/1e3).toFixed(2)}K`:i.toLocaleString();return g.jsxs("div",{className:"absolute z-50 w-56 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200 bottom-full left-1/2 transform -translate-x-1/2 mb-3",children:[g.jsxs("div",{className:"text-xs font-semibold mb-2 text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:[t," Volume"]}),g.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:e(n)}),g.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total shares traded"}),g.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-px",children:[g.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800"}),g.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-gray-200 dark:border-t-gray-700 absolute top-[1px]"})]})]})}function UM({id:n,symbol:t,data:e,loading:i,onRemove:r}){const{attributes:l,listeners:c,setNodeRef:u,transform:h,transition:f,isDragging:m}=mh({id:n}),b={transform:ur.Transform.toString(h),transition:f,opacity:m?.5:1};if(i)return g.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-200 border-t-blue-600"}),r&&g.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading..."})]});if(e?.error||e?.price===null)return g.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded",children:"Error"}),r&&g.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e?.error||"Unable to fetch data"})]});if(!e)return g.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),r&&g.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No data available"})]});const y=e.change>=0,k=t==="DXY"||t==="VIX"?"":"$";let S="Closed",N="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300";return e.marketState==="REGULAR"?(S="Open",N="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"):e.marketState==="PRE"||e.marketState==="PREPRE"?(S="Pre-Market",N="bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400"):e.marketState==="POST"||e.marketState==="POSTPOST"?(S="After Hours",N="bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400"):e.marketState==="CLOSED"?(S="Closed",N="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"):Ur()?(S="Open",N="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"):(S="Closed",N="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"),g.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[e&&e.volume>0&&g.jsx(VM,{volume:e.volume,symbol:t}),g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`text-xs px-2 py-1 rounded ${N}`,children:S}),r&&g.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[k,e.price.toFixed(2)]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`text-lg font-semibold ${y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.change!==0?`${y?"+":""}${k}${Math.abs(e.change).toFixed(2)}`:`${k}0.00`}),g.jsx("span",{className:`text-lg font-semibold ${y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.changePercent!==0?`(${y?"+":""}${Math.abs(e.changePercent).toFixed(2)}%)`:"(0.00%)"})]})]}),g.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Previous Close"}),g.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[k,(e.previousClose||e.price-e.change).toFixed(2)]})]})})]})}function FM(){const n=[{display:"QQQ",api:"QQQ"},{display:"SPY",api:"SPY"},{display:"DXY",api:"DX-Y.NYB"},{display:"VIX",api:"^VIX"}],t=[{id:"clock-ny",timezone:"America/New_York",city:"New York",country:"United States"},{id:"clock-london",timezone:"Europe/London",city:"London",country:"United Kingdom"},{id:"clock-tokyo",timezone:"Asia/Tokyo",city:"Tokyo",country:"Japan"},{id:"clock-sydney",timezone:"Australia/Sydney",city:"Sydney",country:"Australia"}],e=["world-clocks","market","todo-list"],[i,r]=_.useState(()=>{try{const J=localStorage.getItem("dashboardSymbols");if(J){const it=JSON.parse(J);if(Array.isArray(it)&&it.length>0)return it}}catch(J){console.error("Error loading symbols from localStorage:",J)}return n}),[l,c]=_.useState(()=>{try{const J=localStorage.getItem("dashboardWorldClocks");if(J){const it=JSON.parse(J);if(Array.isArray(it)&&it.length>0)return it}}catch(J){console.error("Error loading world clocks from localStorage:",J)}return t}),[u,h]=_.useState(()=>{try{const J=localStorage.getItem("dashboardSectionOrder");if(J){const it=JSON.parse(J);if(Array.isArray(it)&&it.length>0)return it}}catch(J){console.error("Error loading section order from localStorage:",J)}return e}),[f,m]=_.useState({}),[b,y]=_.useState(!0),[v,k]=_.useState(null),[S,N]=_.useState(""),[j,E]=_.useState(!1),D=K1(Yu(dh,{activationConstraint:{distance:8}}),Yu(hh,{coordinateGetter:b2}));_.useEffect(()=>{localStorage.setItem("dashboardWorldClocks",JSON.stringify(l))},[l]),_.useEffect(()=>{localStorage.setItem("dashboardSectionOrder",JSON.stringify(u))},[u]),_.useEffect(()=>{localStorage.setItem("dashboardSymbols",JSON.stringify(i))},[i]);const U=async()=>{y(!0);try{const J=new Promise((V,Y)=>setTimeout(()=>Y(new Error("Request timeout")),15e3)),it=i.map(V=>If(V.api).then(Y=>({...Y,displaySymbol:V.display})).catch(Y=>({symbol:V.display,displaySymbol:V.display,price:null,change:0,changePercent:0,previousClose:0,marketState:Ur()?"REGULAR":"CLOSED",error:"Failed to fetch data. Please try again."}))),st=await Promise.race([Promise.all(it),J]),ut={};st.forEach((V,Y)=>{const ot=i[Y].display;ut[ot]={...V,symbol:ot}}),m(ut),k(new Date)}catch(J){console.error("Error loading stock data:",J);const it={};i.forEach(st=>{f[st.display]||(it[st.display]={symbol:st.display,price:null,change:0,changePercent:0,previousClose:0,marketState:Ur()?"REGULAR":"CLOSED",error:"Failed to fetch data. Please try again."})}),m(st=>({...st,...it}))}finally{y(!1)}};_.useEffect(()=>{U();const J=setInterval(U,3e4);return()=>clearInterval(J)},[i.length]);const A=async()=>{const J=S.trim().toUpperCase();if(J){if(i.some(it=>it.display===J||it.api===J)){alert("Symbol already exists"),N("");return}E(!0);try{const it=await If(J);if(it.error||it.price===null){alert(`Invalid symbol: ${J}. Please check the symbol and try again.`),E(!1);return}const st={display:J,api:J};r([...i,st]),N("");const ut=await If(J);m(V=>({...V,[J]:{...ut,symbol:J}}))}catch(it){console.error("Error adding symbol:",it),alert(`Failed to add symbol: ${J}. Please check the symbol and try again.`)}finally{E(!1)}}},F=J=>{if(i.length<=1){alert("You must have at least one symbol on the dashboard");return}r(i.filter(it=>it.display!==J)),m(it=>{const st={...it};return delete st[J],st})},H=J=>{J.key==="Enter"&&!j&&A()},X=J=>{const{active:it,over:st}=J;st&&it.id!==st.id&&c(ut=>{const V=ut.findIndex(ot=>ot.id===it.id),Y=ut.findIndex(ot=>ot.id===st.id);return za(ut,V,Y)})},P=J=>{const{active:it,over:st}=J;st&&it.id!==st.id&&r(ut=>{const V=ut.findIndex(ot=>ot.display===it.id),Y=ut.findIndex(ot=>ot.display===st.id);return za(ut,V,Y)})},et=J=>{const{active:it,over:st}=J;st&&it.id!==st.id&&h(ut=>{const V=ut.indexOf(it.id),Y=ut.indexOf(st.id);return za(ut,V,Y)})},Q=J=>{switch(J){case"world-clocks":return g.jsx(Yf,{id:J,children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"World Clocks"}),g.jsx(zu,{sensors:D,collisionDetection:Ru,onDragEnd:X,children:g.jsx(Lu,{items:l.map(it=>it.id),children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(it=>g.jsx(HM,{id:it.id,timezone:it.timezone,city:it.city,country:it.country},it.id))})})})]})},J);case"market":return g.jsx(Yf,{id:J,children:g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Market"}),g.jsxs("div",{className:"flex items-center gap-4",children:[v&&g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",v.toLocaleTimeString("en-US",{timeZone:"America/New_York"})]}),g.jsxs("button",{type:"button",onClick:U,disabled:b,className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[g.jsx("svg",{className:`w-4 h-4 ${b?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),g.jsxs("div",{className:"mb-4 flex gap-2",children:[g.jsx("input",{type:"text",value:S,onChange:it=>N(it.target.value.toUpperCase()),onKeyPress:H,placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",disabled:j,className:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),g.jsx("button",{type:"button",onClick:A,disabled:j||!S.trim(),className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:j?g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Adding..."]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Symbol"]})})]}),g.jsx(zu,{sensors:D,collisionDetection:Ru,onDragEnd:P,children:g.jsx(Lu,{items:i.map(it=>it.display),children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(it=>g.jsx(UM,{id:it.display,symbol:it.display,data:f[it.display]||null,loading:b&&!f[it.display],onRemove:i.length>1?()=>F(it.display):null},it.display))})})})]})},J);case"todo-list":return g.jsx(Yf,{id:J,children:g.jsx(IM,{})},J);default:return null}};return g.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real-time market data and world clocks"})]}),g.jsx(zu,{sensors:D,collisionDetection:Ru,onDragEnd:et,children:g.jsx(Lu,{items:u,strategy:bM,children:u.map(J=>Q(J))})})]})}function IM(){const[n,t]=_.useState([]),[e,i]=_.useState(""),[r,l]=_.useState(null),[c,u]=_.useState("");_.useEffect(()=>{const j=localStorage.getItem("dashboardTodos");if(j)try{const E=JSON.parse(j),D=new Date().toDateString(),U=E.filter(A=>new Date(A.createdAt).toDateString()===D);t(U),U.length!==E.length&&localStorage.setItem("dashboardTodos",JSON.stringify(U))}catch(E){console.error("Error loading todos:",E)}},[]),_.useEffect(()=>{(n.length>0||localStorage.getItem("dashboardTodos"))&&localStorage.setItem("dashboardTodos",JSON.stringify(n))},[n]);const h=()=>{if(e.trim()){const j={id:Date.now(),text:e.trim(),completed:!1,createdAt:new Date().toISOString()};t([...n,j]),i("")}},f=j=>{t(n.map(E=>E.id===j?{...E,completed:!E.completed}:E))},m=j=>{t(n.filter(E=>E.id!==j))},b=j=>{l(j.id),u(j.text)},y=()=>{c.trim()&&(t(n.map(j=>j.id===r?{...j,text:c.trim()}:j)),l(null),u(""))},v=()=>{l(null),u("")},k=(j,E)=>{j.key==="Enter"?E():j.key==="Escape"&&E===v&&v()},S=n.filter(j=>j.completed).length,N=n.length;return g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Today's To-Do List"}),N>0&&g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[S," of ",N," completed"]})]}),N>0&&g.jsx("button",{type:"button",onClick:()=>t([]),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors",children:"Clear All"})]}),g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsx("input",{type:"text",value:e,onChange:j=>i(j.target.value),onKeyPress:j=>k(j,h),placeholder:"Add a new task...",className:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),g.jsxs("button",{type:"button",onClick:h,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]})]}),n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No tasks for today. Add one above to get started!"})]}):g.jsx("div",{className:"space-y-2",children:n.map(j=>g.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border transition-all ${j.completed?"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[g.jsx("button",{type:"button",onClick:()=>f(j.id),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${j.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600 hover:border-green-500"}`,children:j.completed&&g.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),r===j.id?g.jsxs("div",{className:"flex-1 flex gap-2",children:[g.jsx("input",{type:"text",value:c,onChange:E=>u(E.target.value),onKeyPress:E=>k(E,y),onKeyDown:E=>k(E,v),className:"flex-1 px-3 py-1 border-2 border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",autoFocus:!0}),g.jsx("button",{type:"button",onClick:y,className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Save"}),g.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:`flex-1 text-gray-900 dark:text-white cursor-pointer ${j.completed?"line-through text-gray-500 dark:text-gray-400":""}`,onDoubleClick:()=>b(j),children:j.text}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:()=>b(j),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Edit",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),g.jsx("button",{type:"button",onClick:()=>m(j.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},j.id))})]})}const y2=()=>{try{const n=localStorage.getItem("apiKeys");if(n)return JSON.parse(n)}catch(n){console.error("Error loading API keys from localStorage:",n)}return{finnhub:"demo",fibhub:"demo"}},YM=(n="general",t=null)=>{const i=y2().finnhub||"demo";if(t){const r=new Date,l=new Date(r);l.setDate(l.getDate()-7);const c=l.toISOString().split("T")[0],u=r.toISOString().split("T")[0];return`https://finnhub.io/api/v1/company-news?symbol=${t}&from=${c}&to=${u}&token=${i}`}return`https://finnhub.io/api/v1/news?category=${n}&token=${i}`},v2=async(n="general",t=null)=>{try{const e=YM(n,t),i=new Promise((u,h)=>setTimeout(()=>h(new Error("Finnhub request timeout")),15e3)),r=fetch(e,{method:"GET",headers:{Accept:"application/json"},mode:"cors",credentials:"omit"}),l=await Promise.race([r,i]);if(!l.ok){if(l.status===429||l.status===401||l.status===403)return console.warn(`Finnhub API: ${l.status} - ${l.statusText}`),[];let u="Unknown error";try{u=await l.text()}catch{}return console.warn(`Finnhub API error ${l.status}: ${u.substring(0,100)}`),[]}let c;try{c=await l.json()}catch(u){return console.warn("Finnhub: Failed to parse JSON response",u),[]}return!c||Array.isArray(c)&&c.length===0?[]:Array.isArray(c)?c.map(u=>({id:u.id||`${u.headline||u.title||"finnhub"}-${u.datetime||Date.now()}`,title:u.headline||u.title||"No title",summary:u.summary||u.description||"",source:u.source||"Finnhub",url:u.url||u.link||"#",image:u.image||null,datetime:u.datetime?u.datetime*1e3:Date.now(),category:u.category||n,symbol:u.related||t||null,sentiment:u.sentiment||null,apiSource:"finnhub"})):[]}catch(e){return e.message&&!e.message.includes("timeout")&&!e.message.includes("Failed to fetch")&&!e.message.includes("NetworkError")&&console.warn("Finnhub fetch warning:",e.message),[]}},qM=(n="general")=>{const t={general:"https://feeds.finance.yahoo.com/rss/2.0/headline",market:"https://feeds.finance.yahoo.com/rss/2.0/headline",stocks:"https://feeds.finance.yahoo.com/rss/2.0/headline",crypto:"https://feeds.finance.yahoo.com/rss/2.0/headline?s=YF",economy:"https://feeds.finance.yahoo.com/rss/2.0/headline"};return t[n]||t.general},$M=()=>["https://feeds.finance.yahoo.com/rss/2.0/headline","https://finance.yahoo.com/rss/headline","https://feeds.finance.yahoo.com/rss/2.0/topstories"],WM=(n="general",t=null)=>{const e=y2(),i=e.fibhub||e.finnhub||"demo",r=[];if(t){const l=new Date,c=new Date(l);c.setDate(c.getDate()-7);const u=c.toISOString().split("T")[0],h=l.toISOString().split("T")[0];r.push(`https://api.fibhub.io/v1/company-news?symbol=${t}&from=${u}&to=${h}&token=${i}`),r.push(`https://api.fibhub.io/api/v1/company-news?symbol=${t}&from=${u}&to=${h}&token=${i}`),r.push(`https://fibhub.io/api/v1/company-news?symbol=${t}&from=${u}&to=${h}&token=${i}`)}else r.push(`https://api.fibhub.io/v1/news?category=${n}&token=${i}`),r.push(`https://api.fibhub.io/api/v1/news?category=${n}&token=${i}`),r.push(`https://fibhub.io/api/v1/news?category=${n}&token=${i}`),r.push(`https://api.fibhub.io/v1/news?token=${i}`);return r},xg=async(n="general",t=null)=>{const e=WM(n,t);let i=null;for(const r of e)try{const l=new Promise((h,f)=>setTimeout(()=>f(new Error("Fibhub request timeout")),1e4)),c=fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"omit"}),u=await Promise.race([c,l]);if(u.status===200||u.status===201){let h;try{const b=await u.text();if(!b||b.trim()==="")continue;h=JSON.parse(b)}catch(b){console.warn("Fibhub API: Failed to parse JSON response",b);continue}if(!h)continue;let f=[];if(Array.isArray(h))f=h;else if(h.data&&Array.isArray(h.data))f=h.data;else if(h.news&&Array.isArray(h.news))f=h.news;else if(h.results&&Array.isArray(h.results))f=h.results;else if(h.items&&Array.isArray(h.items))f=h.items;else if(h.headline||h.title)f=[h];else continue;if(f.length===0)continue;return f.map((b,y)=>{let v=Date.now();return b.datetime?typeof b.datetime=="number"?v=b.datetime<1e10?b.datetime*1e3:b.datetime:v=new Date(b.datetime).getTime()||Date.now():b.publishedAt?v=new Date(b.publishedAt).getTime()||Date.now():b.pubDate?v=new Date(b.pubDate).getTime()||Date.now():b.date?v=new Date(b.date).getTime()||Date.now():b.time&&(v=new Date(b.time).getTime()||Date.now()),{id:b.id||`${b.headline||b.title||"fibhub"}-${v}-${y}`,title:b.headline||b.title||"No title",summary:b.summary||b.description||b.content||b.text||"",source:b.source||b.publisher||b.author||"Fibhub",url:b.url||b.link||b.webUrl||b.permalink||"#",image:b.image||b.imageUrl||b.urlToImage||b.thumbnail||null,datetime:v,category:b.category||n,symbol:b.related||b.symbol||t||null,sentiment:b.sentiment||null,apiSource:"fibhub"}})}else if(u.status===401||u.status===403){console.warn(`Fibhub API authentication error: ${u.status}`),i=new Error(`Authentication failed: ${u.status}`);break}else{if(u.status===404)continue;{const h=await u.text().catch(()=>"Unknown error");console.warn(`Fibhub API returned ${u.status}: ${h.substring(0,100)}`),i=new Error(`API returned ${u.status}: ${u.statusText}`);continue}}}catch(l){i=l,l.message&&!l.message.includes("timeout")&&!l.message.includes("Failed to fetch")&&console.warn(`Fibhub fetch error for ${r}:`,l.message);continue}return i&&!i.message.includes("timeout")&&!i.message.includes("Failed to fetch")&&console.warn("Fibhub API: All endpoints failed. Last error:",i.message),[]},GM=async(n="general")=>{try{const t=[qM(n),...$M()],e=[r=>`https://api.allorigins.win/get?url=${encodeURIComponent(r)}`,r=>`https://corsproxy.io/?${encodeURIComponent(r)}`,r=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(r)}`,r=>`https://cors-anywhere.herokuapp.com/${r}`];let i=null;for(const r of t)for(const l of e){const c=l(r);try{const u=new Promise((j,E)=>setTimeout(()=>E(new Error("Yahoo Finance request timeout")),12e3)),h=fetch(c,{method:"GET",headers:{Accept:"application/json"},mode:"cors",credentials:"omit"}),f=await Promise.race([h,u]);if(!f.ok)continue;let m;try{m=await f.json()}catch{continue}let b=null;if(m&&m.contents?b=m.contents:m&&typeof m=="string"?b=m:m&&m.body?b=m.body:m&&m.data&&(b=m.data),!b||typeof b!="string")continue;const v=new DOMParser().parseFromString(b,"text/xml");if(v.querySelector("parsererror"))continue;const S=v.querySelectorAll("item");if(!S||S.length===0)continue;const N=[];if(S.forEach((j,E)=>{try{const D=j.querySelector("title")?.textContent||"No title",U=j.querySelector("description")?.textContent||"",A=j.querySelector("link")?.textContent||"#",F=j.querySelector("pubDate")?.textContent||new Date().toISOString(),H=U.match(/<img[^>]+src="([^"]+)"/i),X=H?H[1]:null,P=U.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim().substring(0,300);N.push({id:`yahoo-${E}-${Date.now()}`,title:D.trim(),summary:P||"No description available",source:"Yahoo Finance",url:A.trim(),image:X,datetime:new Date(F).getTime()||Date.now(),category:n,symbol:null,sentiment:null,apiSource:"yahoo"})}catch(D){console.warn("Error parsing Yahoo Finance news item:",D)}}),N.length>0)return N.slice(0,50)}catch(u){i=u;continue}}return i&&!i.message.includes("timeout")&&!i.message.includes("Failed to fetch")&&console.warn("Yahoo Finance: All proxies failed. Last error:",i.message),[]}catch(t){return console.error("Error fetching news from Yahoo Finance:",t),[]}},w2=n=>{const t=new Set,e=[];for(const i of n){const r=i.title.toLowerCase().trim().substring(0,50),l=i.url||"",c=`${r}-${l}`;t.has(c)||(t.add(c),e.push(i))}return e},Kx=(n="general")=>[{id:"fallback-1",title:"Market Update: Financial Markets Show Resilience",summary:"Financial markets continue to demonstrate resilience amid ongoing economic discussions. Investors are monitoring key indicators and market trends.",source:"Market News",url:"https://finance.yahoo.com",image:null,datetime:Date.now()-36e5,category:n,symbol:null,sentiment:null,apiSource:"fallback"},{id:"fallback-2",title:"Technology Sector Sees Continued Growth",summary:"The technology sector maintains strong performance with continued innovation and market expansion driving investor interest.",source:"Tech Finance",url:"https://finance.yahoo.com",image:null,datetime:Date.now()-72e5,category:n,symbol:null,sentiment:null,apiSource:"fallback"},{id:"fallback-3",title:"Economic Indicators Point to Steady Growth",summary:"Recent economic indicators suggest steady growth patterns across multiple sectors, with analysts monitoring key metrics.",source:"Economic Review",url:"https://finance.yahoo.com",image:null,datetime:Date.now()-108e5,category:n,symbol:null,sentiment:null,apiSource:"fallback"},{id:"fallback-4",title:"Global Markets Maintain Stability",summary:"Global financial markets maintain stability as investors assess economic conditions and policy developments worldwide.",source:"Global Finance",url:"https://finance.yahoo.com",image:null,datetime:Date.now()-144e5,category:n,symbol:null,sentiment:null,apiSource:"fallback"},{id:"fallback-5",title:"Investment Strategies Adapt to Market Conditions",summary:"Investment strategies continue to adapt to evolving market conditions, with focus on diversification and risk management.",source:"Investment News",url:"https://finance.yahoo.com",image:null,datetime:Date.now()-18e6,category:n,symbol:null,sentiment:null,apiSource:"fallback"}],S2=async(n="general",t=null)=>{const e=[],i=[],r={finnhub:{count:0,success:!1},fibhub:{count:0,success:!1},yahoo:{count:0,success:!1}};try{const l=[];l.push(v2(n,t).then(m=>m&&Array.isArray(m)&&m.length>0?(e.push("finnhub"),r.finnhub.success=!0,r.finnhub.count=m.length,m.map(b=>({...b,apiSource:"finnhub"}))):[]).catch(m=>(console.error("Finnhub fetch error:",m),i.push({source:"finnhub",error:m.message}),[]))),l.push(xg(n,t).then(m=>m&&Array.isArray(m)&&m.length>0?(e.push("fibhub"),r.fibhub.success=!0,r.fibhub.count=m.length,m.map(b=>({...b,apiSource:"fibhub"}))):[]).catch(m=>(console.warn("Fibhub fetch error (non-critical):",m.message),i.push({source:"fibhub",error:m.message}),[]))),l.push(GM(n).then(m=>m&&Array.isArray(m)&&m.length>0?(e.push("yahoo"),r.yahoo.success=!0,r.yahoo.count=m.length,m.map(b=>({...b,apiSource:"yahoo"}))):[]).catch(m=>(console.error("Yahoo Finance fetch error:",m),i.push({source:"yahoo",error:m.message}),[])));const c=await Promise.allSettled(l),u=[];c.forEach((m,b)=>{m.status==="fulfilled"&&Array.isArray(m.value)?u.push(...m.value):m.status==="rejected"&&console.warn(`${["finnhub","fibhub","yahoo"][b]} promise rejected:`,m.reason)});const h=w2(u);h.sort((m,b)=>(b.datetime||0)-(m.datetime||0));const f=e.length>0?e.join("+"):"none";return e.length>0&&console.log(`News fetched from ${e.length} source(s):`,{sources:e,totalArticles:h.length,stats:r}),h.length===0?(console.warn("No news from any API source. Using fallback news."),{news:Kx(n),source:"fallback",sources:["fallback"],errors:i.length>0?i:null,stats:r}):{news:h,source:f,sources:e,errors:i.length>0?i:null,stats:r}}catch(l){return console.error("Error fetching market news:",l),{news:Kx(n),source:"fallback",sources:["fallback"],errors:[{source:"unknown",error:l.message}],stats:r}}},XM=async(n="general")=>{const e={all:"general",market:"general",stocks:"general",crypto:"crypto",economy:"general"}[n]||"general";return S2(e)},QM=async n=>{try{if(!n||!n.trim())return{news:[],source:"none",sources:[]};const t=n.trim().toUpperCase(),e=n.toLowerCase(),r=/^[A-Z0-9]{1,5}$/.test(t),l=[],c=[];l.push(S2("general").then(b=>b&&b.news&&b.news.length>0?(b.sources&&b.sources.length>0&&c.push(...b.sources.filter(y=>!c.includes(y))),b.news||[]):[]).catch(()=>[])),r&&(l.push(v2("general",t).then(b=>b&&b.length>0?(c.includes("finnhub")||c.push("finnhub"),b.map(y=>({...y,apiSource:"finnhub"}))):[]).catch(()=>[])),l.push(xg("general",t).then(b=>b&&b.length>0?(c.includes("fibhub")||c.push("fibhub"),b.map(y=>({...y,apiSource:"fibhub"}))):[]).catch(()=>[])));const u=await Promise.allSettled(l),h=[];u.forEach(b=>{b.status==="fulfilled"&&Array.isArray(b.value)&&h.push(...b.value)});const m=w2(h).filter(b=>b.title&&b.title.toLowerCase().includes(e)||b.summary&&b.summary.toLowerCase().includes(e)||b.symbol&&b.symbol.toUpperCase().includes(t));return m.sort((b,y)=>(y.datetime||0)-(b.datetime||0)),{news:m,source:c.length>0?c.join("+"):"none",sources:c,errors:null}}catch(t){return console.error("Error searching news:",t),{news:[],source:"none",sources:[],errors:[{source:"unknown",error:t.message}]}}};function ZM(){const[n,t]=_.useState("all"),[e,i]=_.useState([]),[r,l]=_.useState(!0),[c,u]=_.useState(null),[h,f]=_.useState(""),[m,b]=_.useState(!1),[y,v]=_.useState(null),[k,S]=_.useState(null),[N,j]=_.useState([]),E=[{id:"all",label:"All News"},{id:"market",label:"Market News"},{id:"stocks",label:"Stocks"},{id:"crypto",label:"Crypto"},{id:"economy",label:"Economy"}],D=_.useCallback(async(P=n)=>{l(!0),u(null),b(!1);try{const et=await Promise.race([XM(P),new Promise((J,it)=>setTimeout(()=>it(new Error("Request timeout - please try again")),3e4))]),Q=(et.news||[]).sort((J,it)=>(it.datetime||0)-(J.datetime||0));Q.length===0?(u("No news articles found. Please try refreshing in a moment."),i([])):(i(Q),et.source==="fallback"&&(!et.sources||et.sources.length===1)?u("Using sample news. Real-time news APIs are currently unavailable. Please check your internet connection and API configuration."):u(null)),S(et.source||"none"),j(et.sources||[]),v(new Date),Q.length>0&&console.log(`Loaded ${Q.length} news articles from: ${et.sources?.join(", ")||et.source||"unknown"}`)}catch(et){console.error("Error loading news:",et),u(et.message||"Failed to load news. Please check your internet connection and try again."),i([]),S("none"),j([])}finally{l(!1)}},[n]),U=_.useCallback(async P=>{if(!P||!P.trim()){D(n);return}b(!0),l(!0),u(null);try{const et=await Promise.race([QM(P.trim()),new Promise((J,it)=>setTimeout(()=>it(new Error("Search timeout - please try again")),3e4))]),Q=(et.news||[]).sort((J,it)=>(it.datetime||0)-(J.datetime||0));Q.length===0?(u(`No news found for "${P}". Try a different search term or check back later.`),i([])):(i(Q),u(null)),S(et.source||"none"),j(et.sources||[]),v(new Date),Q.length>0&&console.log(`Found ${Q.length} news articles for "${P}" from: ${et.sources?.join(", ")||et.source||"unknown"}`)}catch(et){console.error("Error searching news:",et),u(et.message||"Failed to search news. Please check your internet connection and try again."),i([]),S("none"),j([])}finally{l(!1),b(!1)}},[D,n]),A=P=>{t(P),f("")},F=()=>{h.trim()?U(h):D(n)},H=P=>{P.key==="Enter"&&U(h)};_.useEffect(()=>{h.trim()||D(n)},[n]);const X=P=>{if(!P)return"Unknown date";const et=new Date(P),J=new Date-et,it=Math.floor(J/6e4),st=Math.floor(J/36e5),ut=Math.floor(J/864e5);return it<1?"Just now":it<60?`${it} minute${it>1?"s":""} ago`:st<24?`${st} hour${st>1?"s":""} ago`:ut<7?`${ut} day${ut>1?"s":""} ago`:et.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"})};return g.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"News"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Stay updated with the latest financial news and market updates"})]}),g.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),onKeyPress:H,placeholder:"Search news by keyword or symbol (e.g., AAPL, Bitcoin, Fed)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),h&&g.jsx("button",{type:"button",onClick:()=>{f(""),D(n)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("button",{type:"button",onClick:()=>U(h),disabled:r,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:r&&m?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Searching..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),g.jsx("span",{children:"Search"})]})})]})}),g.jsx("div",{className:"mb-6",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(P=>g.jsx("button",{type:"button",onClick:()=>A(P.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===P.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:P.label},P.id))})}),(y||k||N.length>0)&&g.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[N.length>0&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:["Sources: ",N.map(P=>P==="finnhub"?"Finnhub":P==="yahoo"?"Yahoo Finance":P==="fibhub"?"Fibhub":P==="fallback"?"Sample News":P).join(" + ")]}),N.length>1&&g.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs font-medium",children:"Combined"})]}),!N.length&&k&&g.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:["Source: ",k==="finnhub"?"Finnhub":k==="yahoo"?"Yahoo Finance":k==="fibhub"?"Fibhub":k==="fallback"?"Sample News":k.includes("+")?k.split("+").map(P=>P==="finnhub"?"Finnhub":P==="yahoo"?"Yahoo Finance":P==="fibhub"?"Fibhub":P==="fallback"?"Sample News":P).join(" + "):"Unknown"]}),y&&g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last updated: ",y.toLocaleTimeString("en-US",{timeZone:"America/New_York"})]})]}),g.jsxs("button",{type:"button",onClick:F,disabled:r,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[g.jsx("svg",{className:`w-4 h-4 ${r?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Refresh"})]})]}),c&&g.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:c}),g.jsx("button",{type:"button",onClick:F,className:"text-xs text-red-600 dark:text-red-300 mt-1 underline hover:no-underline",children:"Try again"})]})]})}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:r&&e.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading news..."}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]}):e.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),g.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No news found"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:h?`No news found for "${h}". Try a different search term.`:"No news available for this category. Please try refreshing or selecting a different category."}),g.jsx("button",{type:"button",onClick:F,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh News"})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(P=>g.jsx("article",{className:"border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors p-4",children:g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[P.image&&g.jsx("div",{className:"flex-shrink-0 sm:w-32 sm:h-32 w-full h-48",children:g.jsx("img",{src:P.image,alt:P.title,className:"w-full h-full object-cover rounded-lg",onError:et=>{et.target.style.display="none"}})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:g.jsx("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:P.title})}),P.symbol&&g.jsx("span",{className:"flex-shrink-0 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:P.symbol})]}),P.summary&&g.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3 line-clamp-3",children:P.summary}),g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[g.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),P.source]}),P.apiSource&&g.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${P.apiSource==="finnhub"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":P.apiSource==="fibhub"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:P.apiSource==="finnhub"?"Finnhub":P.apiSource==="fibhub"?"Fibhub":P.apiSource==="fallback"?"Sample":"Yahoo Finance"}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),X(P.datetime)]})]}),g.jsxs("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm flex items-center gap-1 transition-colors",children:["Read more",g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})},P.id))})})]})}function Bo(n){return n+.5|0}const ir=(n,t,e)=>Math.max(Math.min(n,e),t);function so(n){return ir(Bo(n*2.55),0,255)}function or(n){return ir(Bo(n*255),0,255)}function ws(n){return ir(Bo(n/2.55)/100,0,1)}function Jx(n){return ir(Bo(n*100),0,100)}const wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},R0=[..."0123456789ABCDEF"],KM=n=>R0[n&15],JM=n=>R0[(n&240)>>4]+R0[n&15],ou=n=>(n&240)>>4===(n&15),tC=n=>ou(n.r)&&ou(n.g)&&ou(n.b)&&ou(n.a);function eC(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&wi[n[1]]*17,g:255&wi[n[2]]*17,b:255&wi[n[3]]*17,a:t===5?wi[n[4]]*17:255}:(t===7||t===9)&&(e={r:wi[n[1]]<<4|wi[n[2]],g:wi[n[3]]<<4|wi[n[4]],b:wi[n[5]]<<4|wi[n[6]],a:t===9?wi[n[7]]<<4|wi[n[8]]:255})),e}const nC=(n,t)=>n<255?t(n):"";function iC(n){var t=tC(n)?KM:JM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+nC(n.a,t):void 0}const sC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function k2(n,t,e){const i=t*Math.min(e,1-e),r=(l,c=(l+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function rC(n,t,e){const i=(r,l=(r+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function aC(n,t,e){const i=k2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function lC(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function yg(n){const e=n.r/255,i=n.g/255,r=n.b/255,l=Math.max(e,i,r),c=Math.min(e,i,r),u=(l+c)/2;let h,f,m;return l!==c&&(m=l-c,f=u>.5?m/(2-l-c):m/(l+c),h=lC(e,i,r,m,l),h=h*60+.5),[h|0,f||0,u]}function vg(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(or)}function wg(n,t,e){return vg(k2,n,t,e)}function oC(n,t,e){return vg(aC,n,t,e)}function cC(n,t,e){return vg(rC,n,t,e)}function _2(n){return(n%360+360)%360}function uC(n){const t=sC.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?so(+t[5]):or(+t[5]));const r=_2(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=oC(r,l,c):t[1]==="hsv"?i=cC(r,l,c):i=wg(r,l,c),{r:i[0],g:i[1],b:i[2],a:e}}function hC(n,t){var e=yg(n);e[0]=_2(e[0]+t),e=wg(e),n.r=e[0],n.g=e[1],n.b=e[2]}function dC(n){if(!n)return;const t=yg(n),e=t[0],i=Jx(t[1]),r=Jx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ty={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ey={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fC(){const n={},t=Object.keys(ey),e=Object.keys(ty);let i,r,l,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<e.length;r++)l=e[r],u=u.replace(l,ty[l]);l=parseInt(ey[c],16),n[u]=[l>>16&255,l>>8&255,l&255]}return n}let cu;function gC(n){cu||(cu=fC(),cu.transparent=[0,0,0,0]);const t=cu[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const mC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pC(n){const t=mC.exec(n);let e=255,i,r,l;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?so(c):ir(c*255,0,255)}return i=+t[1],r=+t[3],l=+t[5],i=255&(t[2]?so(i):ir(i,0,255)),r=255&(t[4]?so(r):ir(r,0,255)),l=255&(t[6]?so(l):ir(l,0,255)),{r:i,g:r,b:l,a:e}}}function bC(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ca=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function xC(n,t,e){const i=Ca(ws(n.r)),r=Ca(ws(n.g)),l=Ca(ws(n.b));return{r:or(qf(i+e*(Ca(ws(t.r))-i))),g:or(qf(r+e*(Ca(ws(t.g))-r))),b:or(qf(l+e*(Ca(ws(t.b))-l))),a:n.a+e*(t.a-n.a)}}function uu(n,t,e){if(n){let i=yg(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=wg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function N2(n,t){return n&&Object.assign(t||{},n)}function ny(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=or(n[3]))):(t=N2(n,{r:0,g:0,b:0,a:1}),t.a=or(t.a)),t}function yC(n){return n.charAt(0)==="r"?pC(n):uC(n)}class _o{constructor(t){if(t instanceof _o)return t;const e=typeof t;let i;e==="object"?i=ny(t):e==="string"&&(i=eC(t)||gC(t)||yC(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=N2(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=ny(t)}rgbString(){return this._valid?bC(this._rgb):void 0}hexString(){return this._valid?iC(this._rgb):void 0}hslString(){return this._valid?dC(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let l;const c=e===l?.5:e,u=2*c-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-f,i.r=255&f*i.r+l*r.r+.5,i.g=255&f*i.g+l*r.g+.5,i.b=255&f*i.b+l*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=xC(this._rgb,t._rgb,e)),this}clone(){return new _o(this.rgb)}alpha(t){return this._rgb.a=or(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Bo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return uu(this._rgb,2,t),this}darken(t){return uu(this._rgb,2,-t),this}saturate(t){return uu(this._rgb,1,t),this}desaturate(t){return uu(this._rgb,1,-t),this}rotate(t){return hC(this._rgb,t),this}}function xs(){}const vC=(()=>{let n=0;return()=>n++})();function de(n){return n==null}function Je(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Tn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Wi(n,t){return Tn(n)?n:t}function At(n,t){return typeof n>"u"?t:n}const wC=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Lt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Kt(n,t,e,i){let r,l,c;if(Je(n))for(l=n.length,r=0;r<l;r++)t.call(e,n[r],r);else if(se(n))for(c=Object.keys(n),l=c.length,r=0;r<l;r++)t.call(e,n[c[r]],c[r])}function Gu(n,t){let e,i,r,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],l=t[e],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function Xu(n){if(Je(n))return n.map(Xu);if(se(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Xu(n[e[r]]);return t}return n}function j2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function SC(n,t,e,i){if(!j2(n))return;const r=t[n],l=e[n];se(r)&&se(l)?No(r,l,i):t[n]=Xu(l)}function No(n,t,e){const i=Je(t)?t:[t],r=i.length;if(!se(n))return n;e=e||{};const l=e.merger||SC;let c;for(let u=0;u<r;++u){if(c=i[u],!se(c))continue;const h=Object.keys(c);for(let f=0,m=h.length;f<m;++f)l(h[f],n,c,e)}return n}function uo(n,t){return No(n,t,{merger:kC})}function kC(n,t,e){if(!j2(n))return;const i=t[n],r=e[n];se(i)&&se(r)?uo(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xu(r))}const iy={"":n=>n,x:n=>n.x,y:n=>n.y};function _C(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function NC(n){const t=_C(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ha(n,t){return(iy[t]||(iy[t]=NC(t)))(n)}function Sg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const jo=n=>typeof n<"u",hr=n=>typeof n=="function",sy=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function jC(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const dn=Math.PI,Li=2*dn,MC=Li+dn,Qu=Number.POSITIVE_INFINITY,CC=dn/180,zi=dn/2,Or=dn/4,ry=dn*2/3,M2=Math.log10,Ni=Math.sign;function Fr(n,t,e){return Math.abs(n-t)<e}function ay(n){const t=Math.round(n);n=Fr(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(M2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function EC(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,l)=>r-l).pop(),t}function TC(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Mo(n){return!TC(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function DC(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function AC(n,t,e){let i,r,l;for(i=0,r=n.length;i<r;i++)l=n[i][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function Hr(n){return n*(dn/180)}function RC(n){return n*(180/dn)}function ly(n){if(!Tn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function OC(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let l=Math.atan2(i,e);return l<-.5*dn&&(l+=Li),{angle:l,distance:r}}function O0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function zC(n,t){return(n-t+MC)%Li-dn}function Zi(n){return(n%Li+Li)%Li}function C2(n,t,e,i){const r=Zi(n),l=Zi(t),c=Zi(e),u=Zi(l-r),h=Zi(c-r),f=Zi(r-l),m=Zi(r-c);return r===l||r===c||i&&l===c||u>h&&f<m}function ui(n,t,e){return Math.max(t,Math.min(e,n))}function LC(n){return ui(n,-32768,32767)}function sr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function kg(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,l;for(;i-r>1;)l=r+i>>1,e(l)?r=l:i=l;return{lo:r,hi:i}}const Vr=(n,t,e,i)=>kg(n,e,i?r=>{const l=n[r][t];return l<e||l===e&&n[r+1][t]===e}:r=>n[r][t]<e),PC=(n,t,e)=>kg(n,e,i=>n[i][t]>=e);function BC(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const E2=["push","pop","shift","splice","unshift"];function HC(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),E2.forEach(e=>{const i="_onData"+Sg(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const c=r.apply(this,l);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...l)}),c}})})}function oy(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(E2.forEach(l=>{delete n[l]}),delete n._chartjs)}function T2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const D2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function A2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,D2.call(window,()=>{i=!1,n.apply(t,e)}))}}function VC(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const _g=n=>n==="start"?"left":n==="end"?"right":"center",Cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,UC=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function FC(n,t,e){const i=t.length;let r=0,l=i;if(n._sorted){const{iScale:c,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:b,max:y,minDefined:v,maxDefined:k}=c.getUserBounds();if(v){if(r=Math.min(Vr(h,m,b).lo,e?i:Vr(t,m,c.getPixelForValue(b)).lo),f){const S=h.slice(0,r+1).reverse().findIndex(N=>!de(N[u.axis]));r-=Math.max(0,S)}r=ui(r,0,i-1)}if(k){let S=Math.max(Vr(h,c.axis,y,!0).hi+1,e?0:Vr(t,m,c.getPixelForValue(y),!0).hi+1);if(f){const N=h.slice(S-1).findIndex(j=>!de(j[u.axis]));S+=Math.max(0,N)}l=ui(S,r,i)-r}else l=i-r}return{start:r,count:l}}function IC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const l=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),l}const hu=n=>n===0||n===1,cy=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Li/e)),uy=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Li/e)+1,ho={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*zi)+1,easeOutSine:n=>Math.sin(n*zi),easeInOutSine:n=>-.5*(Math.cos(dn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>hu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>hu(n)?n:cy(n,.075,.3),easeOutElastic:n=>hu(n)?n:uy(n,.075,.3),easeInOutElastic(n){return hu(n)?n:n<.5?.5*cy(n*2,.1125,.45):.5+.5*uy(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ho.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ho.easeInBounce(n*2)*.5:ho.easeOutBounce(n*2-1)*.5+.5};function Ng(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function hy(n){return Ng(n)?n:new _o(n)}function $f(n){return Ng(n)?n:new _o(n).saturate(.5).darken(.1).hexString()}const YC=["x","y","borderWidth","radius","tension"],qC=["color","borderColor","backgroundColor"];function $C(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:qC},numbers:{type:"number",properties:YC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function WC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dy=new Map;function GC(n,t){t=t||{};const e=n+JSON.stringify(t);let i=dy.get(e);return i||(i=new Intl.NumberFormat(n,t),dy.set(e,i)),i}function R2(n,t,e){return GC(t,e).format(n)}const XC={values(n){return Je(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,l=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),l=QC(n,e)}const c=M2(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),R2(n,i,h)}};function QC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var O2={formatters:XC};function ZC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qr=Object.create(null),z0=Object.create(null);function fo(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const l=e[i];n=n[l]||(n[l]=Object.create(null))}return n}function Wf(n,t,e){return typeof t=="string"?No(fo(n,t),e):No(fo(n,""),t)}class KC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>$f(r.backgroundColor),this.hoverBorderColor=(i,r)=>$f(r.borderColor),this.hoverColor=(i,r)=>$f(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Wf(this,t,e)}get(t){return fo(this,t)}describe(t,e){return Wf(z0,t,e)}override(t,e){return Wf(qr,t,e)}route(t,e,i,r){const l=fo(this,t),c=fo(this,i),u="_"+e;Object.defineProperties(l,{[u]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=c[r];return se(h)?Object.assign({},f,h):At(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var pe=new KC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$C,WC,ZC]);function JC(n){return!n||de(n.size)||de(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function fy(n,t,e,i,r){let l=t[r];return l||(l=t[r]=n.measureText(r).width,e.push(r)),l>i&&(i=l),i}function zr(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gy(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function L0(n,t,e,i){z2(n,t,e,i,null)}function z2(n,t,e,i,r){let l,c,u,h,f,m,b,y;const v=t.pointStyle,k=t.rotation,S=t.radius;let N=(k||0)*CC;if(v&&typeof v=="object"&&(l=v.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,S,0,0,Li):n.arc(e,i,S,0,Li),n.closePath();break;case"triangle":m=r?r/2:S,n.moveTo(e+Math.sin(N)*m,i-Math.cos(N)*S),N+=ry,n.lineTo(e+Math.sin(N)*m,i-Math.cos(N)*S),N+=ry,n.lineTo(e+Math.sin(N)*m,i-Math.cos(N)*S),n.closePath();break;case"rectRounded":f=S*.516,h=S-f,c=Math.cos(N+Or)*h,b=Math.cos(N+Or)*(r?r/2-f:h),u=Math.sin(N+Or)*h,y=Math.sin(N+Or)*(r?r/2-f:h),n.arc(e-b,i-u,f,N-dn,N-zi),n.arc(e+y,i-c,f,N-zi,N),n.arc(e+b,i+u,f,N,N+zi),n.arc(e-y,i+c,f,N+zi,N+dn),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*S,m=r?r/2:h,n.rect(e-m,i-h,2*m,2*h);break}N+=Or;case"rectRot":b=Math.cos(N)*(r?r/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,y=Math.sin(N)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+y,i-c),n.lineTo(e+b,i+u),n.lineTo(e-y,i+c),n.closePath();break;case"crossRot":N+=Or;case"cross":b=Math.cos(N)*(r?r/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,y=Math.sin(N)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"star":b=Math.cos(N)*(r?r/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,y=Math.sin(N)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c),N+=Or,b=Math.cos(N)*(r?r/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,y=Math.sin(N)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"line":c=r?r/2:Math.cos(N)*S,u=Math.sin(N)*S,n.moveTo(e-c,i-u),n.lineTo(e+c,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:S),i+Math.sin(N)*S);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Va(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ho(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Vo(n){n.restore()}function t4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const l=(t.x+e.x)/2;n.lineTo(l,t.y),n.lineTo(l,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function e4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function n4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),de(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function i4(n,t,e,i,r){if(r.strikethrough||r.underline){const l=n.measureText(i),c=t-l.actualBoundingBoxLeft,u=t+l.actualBoundingBoxRight,h=e-l.actualBoundingBoxAscent,f=e+l.actualBoundingBoxDescent,m=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function s4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Co(n,t,e,i,r,l={}){const c=Je(t)?t:[t],u=l.strokeWidth>0&&l.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,n4(n,l),h=0;h<c.length;++h)f=c[h],l.backdrop&&s4(n,l.backdrop),u&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),de(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(f,e,i,l.maxWidth)),n.fillText(f,e,i,l.maxWidth),i4(n,e,i,f,l),i+=Number(r.lineHeight);n.restore()}function Zu(n,t){const{x:e,y:i,w:r,h:l,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*dn,dn,!0),n.lineTo(e,i+l-c.bottomLeft),n.arc(e+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,dn,zi,!0),n.lineTo(e+r-c.bottomRight,i+l),n.arc(e+r-c.bottomRight,i+l-c.bottomRight,c.bottomRight,zi,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-zi,!0),n.lineTo(e+c.topLeft,i)}const r4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function l4(n,t){const e=(""+n).match(r4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const o4=n=>+n||0;function L2(n,t){const e={},i=se(t),r=i?Object.keys(t):t,l=se(n)?i?c=>At(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=o4(l(c));return e}function P2(n){return L2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function La(n){return L2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mi(n){const t=P2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function En(n,t){n=n||{},t=t||pe.font;let e=At(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=At(n.style,t.style);i&&!(""+i).match(a4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:At(n.family,t.family),lineHeight:l4(At(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:At(n.weight,t.weight),string:""};return r.string=JC(r),r}function du(n,t,e,i){let r,l,c;for(r=0,l=n.length;r<l;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function c4(n,t,e){const{min:i,max:r}=n,l=wC(t,(r-i)/2),c=(u,h)=>e&&u===0?0:u+h;return{min:c(i,-Math.abs(l)),max:c(r,l)}}function Xr(n,t){return Object.assign(Object.create(n),t)}function jg(n,t=[""],e,i,r=()=>n[0]){const l=e||n;typeof i>"u"&&(i=U2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:r,override:u=>jg([u,...n],t,l,i)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return H2(u,h,()=>b4(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return py(u).includes(h)},ownKeys(u){return py(u)},set(u,h,f){const m=u._storage||(u._storage=r());return u[h]=m[h]=f,delete u._keys,!0}})}function Ua(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:B2(n,i),setContext:l=>Ua(n,l,e,i),override:l=>Ua(n.override(l),t,e,i)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,u){return H2(l,c,()=>h4(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,u){return n[c]=u,delete l[c],!0}})}function B2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:hr(e)?e:()=>e,isIndexable:hr(i)?i:()=>i}}const u4=(n,t)=>n?n+Sg(t):t,Mg=(n,t)=>se(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function H2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function h4(n,t,e){const{_proxy:i,_context:r,_subProxy:l,_descriptors:c}=n;let u=i[t];return hr(u)&&c.isScriptable(t)&&(u=d4(t,u,n,e)),Je(u)&&u.length&&(u=f4(t,u,n,c.isIndexable)),Mg(t,u)&&(u=Ua(u,r,l&&l[t],c)),u}function d4(n,t,e,i){const{_proxy:r,_context:l,_subProxy:c,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(l,c||i);return u.delete(n),Mg(n,h)&&(h=Cg(r._scopes,r,n,h)),h}function f4(n,t,e,i){const{_proxy:r,_context:l,_subProxy:c,_descriptors:u}=e;if(typeof l.index<"u"&&i(n))return t[l.index%t.length];if(se(t[0])){const h=t,f=r._scopes.filter(m=>m!==h);t=[];for(const m of h){const b=Cg(f,r,n,m);t.push(Ua(b,l,c&&c[n],u))}}return t}function V2(n,t,e){return hr(n)?n(t,e):n}const g4=(n,t)=>n===!0?t:typeof n=="string"?Ha(t,n):void 0;function m4(n,t,e,i,r){for(const l of t){const c=g4(e,l);if(c){n.add(c);const u=V2(c._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Cg(n,t,e,i){const r=t._rootScopes,l=V2(t._fallback,e,i),c=[...n,...r],u=new Set;u.add(i);let h=my(u,c,e,l||e,i);return h===null||typeof l<"u"&&l!==e&&(h=my(u,c,l,h,i),h===null)?!1:jg(Array.from(u),[""],r,l,()=>p4(t,e,i))}function my(n,t,e,i,r){for(;e;)e=m4(n,t,e,i,r);return e}function p4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Je(r)&&se(e)?e:r||{}}function b4(n,t,e,i){let r;for(const l of t)if(r=U2(u4(l,n),e),typeof r<"u")return Mg(n,r)?Cg(e,i,n,r):r}function U2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function py(n){let t=n._keys;return t||(t=n._keys=x4(n._scopes)),t}function x4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const y4=Number.EPSILON||1e-14,Fa=(n,t)=>t<n.length&&!n[t].skip&&n[t],F2=n=>n==="x"?"y":"x";function v4(n,t,e,i){const r=n.skip?t:n,l=t,c=e.skip?t:e,u=O0(l,r),h=O0(c,l);let f=u/(u+h),m=h/(u+h);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=i*f,y=i*m;return{previous:{x:l.x-b*(c.x-r.x),y:l.y-b*(c.y-r.y)},next:{x:l.x+y*(c.x-r.x),y:l.y+y*(c.y-r.y)}}}function w4(n,t,e){const i=n.length;let r,l,c,u,h,f=Fa(n,0);for(let m=0;m<i-1;++m)if(h=f,f=Fa(n,m+1),!(!h||!f)){if(Fr(t[m],0,y4)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],l=e[m+1]/t[m],u=Math.pow(r,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),e[m]=r*c*t[m],e[m+1]=l*c*t[m])}}function S4(n,t,e="x"){const i=F2(e),r=n.length;let l,c,u,h=Fa(n,0);for(let f=0;f<r;++f){if(c=u,u=h,h=Fa(n,f+1),!u)continue;const m=u[e],b=u[i];c&&(l=(m-c[e])/3,u[`cp1${e}`]=m-l,u[`cp1${i}`]=b-l*t[f]),h&&(l=(h[e]-m)/3,u[`cp2${e}`]=m+l,u[`cp2${i}`]=b+l*t[f])}}function k4(n,t="x"){const e=F2(t),i=n.length,r=Array(i).fill(0),l=Array(i);let c,u,h,f=Fa(n,0);for(c=0;c<i;++c)if(u=h,h=f,f=Fa(n,c+1),!!h){if(f){const m=f[t]-h[t];r[c]=m!==0?(f[e]-h[e])/m:0}l[c]=u?f?Ni(r[c-1])!==Ni(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}w4(n,r,l),S4(n,l,t)}function fu(n,t,e){return Math.max(Math.min(n,e),t)}function _4(n,t){let e,i,r,l,c,u=Va(n[0],t);for(e=0,i=n.length;e<i;++e)c=l,l=u,u=e<i-1&&Va(n[e+1],t),l&&(r=n[e],c&&(r.cp1x=fu(r.cp1x,t.left,t.right),r.cp1y=fu(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=fu(r.cp2x,t.left,t.right),r.cp2y=fu(r.cp2y,t.top,t.bottom)))}function N4(n,t,e,i,r){let l,c,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")k4(n,r);else{let f=i?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)u=n[l],h=v4(f,u,n[Math.min(l+1,c-(i?0:1))%c],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&_4(n,e)}function Eg(){return typeof window<"u"&&typeof document<"u"}function Tg(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ku(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const ph=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function j4(n,t){return ph(n).getPropertyValue(t)}const M4=["top","right","bottom","left"];function Ir(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const l=M4[r];i[l]=parseFloat(n[t+"-"+l+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const C4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function E4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:l}=i;let c=!1,u,h;if(C4(r,l,n.target))u=r,h=l;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,c=!0}return{x:u,y:h,box:c}}function Ki(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=ph(e),l=r.boxSizing==="border-box",c=Ir(r,"padding"),u=Ir(r,"border","width"),{x:h,y:f,box:m}=E4(n,e),b=c.left+(m&&u.left),y=c.top+(m&&u.top);let{width:v,height:k}=t;return l&&(v-=c.width+u.width,k-=c.height+u.height),{x:Math.round((h-b)/v*e.width/i),y:Math.round((f-y)/k*e.height/i)}}function T4(n,t,e){let i,r;if(t===void 0||e===void 0){const l=n&&Tg(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const c=l.getBoundingClientRect(),u=ph(l),h=Ir(u,"border","width"),f=Ir(u,"padding");t=c.width-f.width-h.width,e=c.height-f.height-h.height,i=Ku(u.maxWidth,l,"clientWidth"),r=Ku(u.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:i||Qu,maxHeight:r||Qu}}const rr=n=>Math.round(n*10)/10;function D4(n,t,e,i){const r=ph(n),l=Ir(r,"margin"),c=Ku(r.maxWidth,n,"clientWidth")||Qu,u=Ku(r.maxHeight,n,"clientHeight")||Qu,h=T4(n,t,e);let{width:f,height:m}=h;if(r.boxSizing==="content-box"){const y=Ir(r,"border","width"),v=Ir(r,"padding");f-=v.width+y.width,m-=v.height+y.height}return f=Math.max(0,f-l.width),m=Math.max(0,i?f/i:m-l.height),f=rr(Math.min(f,c,h.maxWidth)),m=rr(Math.min(m,u,h.maxHeight)),f&&!m&&(m=rr(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,f=rr(Math.floor(m*i))),{width:f,height:m}}function by(n,t,e){const i=t||1,r=rr(n.height*i),l=rr(n.width*i);n.height=rr(n.height),n.width=rr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==l?(n.currentDevicePixelRatio=i,c.height=r,c.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const A4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Eg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function xy(n,t){const e=j4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Br(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function R4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function O4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},l={x:t.cp1x,y:t.cp1y},c=Br(n,r,e),u=Br(r,l,e),h=Br(l,t,e),f=Br(c,u,e),m=Br(u,h,e);return Br(f,m,e)}const z4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},L4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Pa(n,t,e){return n?z4(t,e):L4()}function I2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Y2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function q2(n){return n==="angle"?{between:C2,compare:zC,normalize:Zi}:{between:sr,compare:(t,e)=>t-e,normalize:t=>t}}function yy({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function P4(n,t,e){const{property:i,start:r,end:l}=e,{between:c,normalize:u}=q2(i),h=t.length;let{start:f,end:m,loop:b}=n,y,v;if(b){for(f+=h,m+=h,y=0,v=h;y<v&&c(u(t[f%h][i]),r,l);++y)f--,m--;f%=h,m%=h}return m<f&&(m+=h),{start:f,end:m,loop:b,style:n.style}}function $2(n,t,e){if(!e)return[n];const{property:i,start:r,end:l}=e,c=t.length,{compare:u,between:h,normalize:f}=q2(i),{start:m,end:b,loop:y,style:v}=P4(n,t,e),k=[];let S=!1,N=null,j,E,D;const U=()=>h(r,D,j)&&u(r,D)!==0,A=()=>u(l,j)===0||h(l,D,j),F=()=>S||U(),H=()=>!S||A();for(let X=m,P=m;X<=b;++X)E=t[X%c],!E.skip&&(j=f(E[i]),j!==D&&(S=h(j,r,l),N===null&&F()&&(N=u(j,r)===0?X:P),N!==null&&H()&&(k.push(yy({start:N,end:X,loop:y,count:c,style:v})),N=null),P=X,D=j));return N!==null&&k.push(yy({start:N,end:b,loop:y,count:c,style:v})),k}function W2(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const l=$2(i[r],n.points,t);l.length&&e.push(...l)}return e}function B4(n,t,e,i){let r=0,l=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(l+=r);l>r&&n[l%t].skip;)l--;return l%=t,{start:r,end:l}}function H4(n,t,e,i){const r=n.length,l=[];let c=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%r];f.skip||f.stop?u.skip||(i=!1,l.push({start:t%r,end:(h-1)%r,loop:i}),t=c=f.stop?h:null):(c=h,u.skip&&(t=h)),u=f}return c!==null&&l.push({start:t%r,end:c%r,loop:i}),l}function V4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const l=!!n._loop,{start:c,end:u}=B4(e,r,l,i);if(i===!0)return vy(n,[{start:c,end:u,loop:l}],e,t);const h=u<c?u+r:u,f=!!n._fullLoop&&c===0&&u===r-1;return vy(n,H4(e,c,h,f),e,t)}function vy(n,t,e,i){return!i||!i.setContext||!e?t:U4(n,t,e,i)}function U4(n,t,e,i){const r=n._chart.getContext(),l=wy(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,h=e.length,f=[];let m=l,b=t[0].start,y=b;function v(k,S,N,j){const E=u?-1:1;if(k!==S){for(k+=h;e[k%h].skip;)k-=E;for(;e[S%h].skip;)S+=E;k%h!==S%h&&(f.push({start:k%h,end:S%h,loop:N,style:j}),m=j,b=S%h)}}for(const k of t){b=u?b:k.start;let S=e[b%h],N;for(y=b+1;y<=k.end;y++){const j=e[y%h];N=wy(i.setContext(Xr(r,{type:"segment",p0:S,p1:j,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:c}))),F4(N,m)&&v(b,y-1,k.loop,m),S=j,m=N}b<y-1&&v(b,y-1,k.loop,m)}return f}function wy(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function F4(n,t){if(!t)return!1;const e=[],i=function(r,l){return Ng(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function gu(n,t,e){return n.options.clip?n[e]:t[e]}function I4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:gu(e,t,"left"),right:gu(e,t,"right"),top:gu(i,t,"top"),bottom:gu(i,t,"bottom")}:t}function G2(n,t){const e=t._clip;if(e.disabled)return!1;const i=I4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Y4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const l=e.listeners[r],c=e.duration;l.forEach(u=>u({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=D2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(l[c]=l[l.length-1],l.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),l.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ys=new Y4;const Sy="transparent",q4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=hy(n||Sy),r=i.valid&&hy(t||Sy);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class $4{constructor(t,e,i,r){const l=e[i];r=du([t.to,r,l,t.from]);const c=du([t.from,l,r]);this._active=!0,this._fn=t.fn||q4[t.type||typeof c],this._easing=ho[t.easing]||ho.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=du([t.to,e,r,t.from]),this._from=du([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=l;return}h=e/i%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(l,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class X2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!se(t))return;const e=Object.keys(pe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const l=t[r];if(!se(l))return;const c={};for(const u of e)c[u]=l[u];(Je(l.properties)&&l.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,e){const i=e.options,r=G4(t,i);if(!r)return[];const l=this._createAnimations(r,i);return i.$shared&&W4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),l}_createAnimations(t,e){const i=this._properties,r=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[f];let b=l[f];const y=i.get(f);if(b)if(y&&b.active()){b.update(y,m,u);continue}else b.cancel();if(!y||!y.duration){t[f]=m;continue}l[f]=b=new $4(y,t,f,m),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ys.add(this._chart,i),!0}}function W4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const l=n[i[r]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function G4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ky(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:i?l:r,end:i?r:l}}function X4(n,t,e){if(e===!1)return!1;const i=ky(n,e),r=ky(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Q4(n){let t,e,i,r;return se(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function Q2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,l;for(r=0,l=i.length;r<l;++r)e.push(i[r].index);return e}function _y(n,t,e,i={}){const r=n.keys,l=i.mode==="single";let c,u,h,f;if(t===null)return;let m=!1;for(c=0,u=r.length;c<u;++c){if(h=+r[c],h===e){if(m=!0,i.all)continue;break}f=n.values[h],Tn(f)&&(l||t===0||Ni(t)===Ni(f))&&(t+=f)}return!m&&!i.all?0:t}function Z4(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let h,f,m;for(h=0,f=c.length;h<f;++h)m=c[h],u[h]={[r]:m,[l]:n[m]};return u}function Gf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function K4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function J4(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function tE(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Ny(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const l=n[r.index];if(e&&l>0||!e&&l<0)return r.index}return null}function jy(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:u}=i,h=l.axis,f=c.axis,m=K4(l,c,i),b=t.length;let y;for(let v=0;v<b;++v){const k=t[v],{[h]:S,[f]:N}=k,j=k._stacks||(k._stacks={});y=j[f]=tE(r,m,S),y[u]=N,y._top=Ny(y,c,!0,i.type),y._bottom=Ny(y,c,!1,i.type);const E=y._visualValues||(y._visualValues={});E[u]=N}}function Xf(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function eE(n,t){return Xr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function nE(n,t,e){return Xr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Xl(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const l=r._stacks;if(!l||l[i]===void 0||l[i][e]===void 0)return;delete l[i][e],l[i]._visualValues!==void 0&&l[i]._visualValues[e]!==void 0&&delete l[i]._visualValues[e]}}}const Qf=n=>n==="reset"||n==="none",My=(n,t)=>t?n:Object.assign({},n),iE=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Q2(e,!0),values:null};class Dg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,y,v,k)=>b==="x"?y:b==="r"?k:v,l=e.xAxisID=At(i.xAxisID,Xf(t,"x")),c=e.yAxisID=At(i.yAxisID,Xf(t,"y")),u=e.rAxisID=At(i.rAxisID,Xf(t,"r")),h=e.indexAxis,f=e.iAxisID=r(h,l,c,u),m=e.vAxisID=r(h,c,l,u);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oy(this._data,this),t._stacked&&Xl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(se(e)){const r=this._cachedMeta;this._data=Z4(e,r)}else if(i!==e){if(i){oy(i,this);const r=this._cachedMeta;Xl(r),r._parsed=[]}e&&Object.isExtensible(e)&&HC(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const l=e._stacked;e._stacked=Gf(e.vScale,e),e.stack!==i.stack&&(r=!0,Xl(e),e.stack=i.stack),this._resyncElements(t),(r||l!==e._stacked)&&(jy(this,e._parsed),e._stacked=Gf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:l,_stacked:c}=i,u=l.axis;let h=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],m,b,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{Je(r[t])?y=this.parseArrayData(i,r,t,e):se(r[t])?y=this.parseObjectData(i,r,t,e):y=this.parsePrimitiveData(i,r,t,e);const v=()=>b[u]===null||f&&b[u]<f[u];for(m=0;m<e;++m)i._parsed[m+t]=b=y[m],h&&(v()&&(h=!1),f=b);i._sorted=h}c&&jy(this,y)}parsePrimitiveData(t,e,i,r){const{iScale:l,vScale:c}=t,u=l.axis,h=c.axis,f=l.getLabels(),m=l===c,b=new Array(r);let y,v,k;for(y=0,v=r;y<v;++y)k=y+i,b[y]={[u]:m||l.parse(f[k],k),[h]:c.parse(e[k],k)};return b}parseArrayData(t,e,i,r){const{xScale:l,yScale:c}=t,u=new Array(r);let h,f,m,b;for(h=0,f=r;h<f;++h)m=h+i,b=e[m],u[h]={x:l.parse(b[0],m),y:c.parse(b[1],m)};return u}parseObjectData(t,e,i,r){const{xScale:l,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let m,b,y,v;for(m=0,b=r;m<b;++m)y=m+i,v=e[y],f[m]={x:l.parse(Ha(v,u),y),y:c.parse(Ha(v,h),y)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,l=this._cachedMeta,c=e[t.axis],u={keys:Q2(r,!0),values:e._stacks[t.axis]._visualValues};return _y(u,c,l.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const l=i[e.axis];let c=l===null?NaN:l;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,c=_y(r,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,l=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),h=iE(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=J4(u);let y,v;function k(){v=r[y];const S=v[u.axis];return!Tn(v[t.axis])||m>S||b<S}for(y=0;y<c&&!(!k()&&(this.updateRangeFromParsed(f,t,v,h),l));++y);if(l){for(y=c-1;y>=0;--y)if(!k()){this.updateRangeFromParsed(f,t,v,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,l,c;for(r=0,l=e.length;r<l;++r)c=e[r][t.axis],Tn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,l=this.getParsed(t);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Q4(At(this.options.clip,X4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],l=e.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,l,u,h),m=u;m<u+h;++m){const b=r[m];b.hidden||(b.active&&f?c.push(b):b.draw(t,l))}for(m=0;m<c.length;++m)c[m].draw(t,l)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=nE(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=r.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=eE(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=i,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",l=this._cachedDataOpts,c=t+"-"+e,u=l[c],h=this.enableOptionSharing&&jo(i);if(u)return My(u,h);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],y=f.getOptionScopes(this.getDataset(),m),v=Object.keys(pe.elements[t]),k=()=>this.getContext(i,r,e),S=f.resolveNamedOptions(y,v,k,b);return S.$shared&&(S.$shared=h,l[c]=Object.freeze(My(S,h))),S}_resolveAnimations(t,e,i){const r=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,u=l[c];if(u)return u;let h;if(r.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),b);h=m.createResolver(y,this.getContext(t,i,e))}const f=new X2(r,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Qf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(e,l)||l!==r;return this.updateSharedOptions(l,e,i),{sharedOptions:l,includeOptions:c}}updateElement(t,e,i,r){Qf(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Qf(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const l=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,l=e.length,c=Math.min(l,r);c&&this.parse(0,c),l>r?this._insertElements(r,l-r,t):l<r&&this._removeElements(l,r-l)}_insertElements(t,e,i=!0){const r=this._cachedMeta,l=r.data,c=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=c;u--)f[u]=f[u-e]};for(h(l),u=t;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(l,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Xl(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function sE(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,l=e.length;r<l;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=T2(i.sort((r,l)=>r-l))}return n._cache.$bar}function rE(n){const t=n.iScale,e=sE(t,n.type);let i=t._length,r,l,c,u;const h=()=>{c===32767||c===-32768||(jo(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,l=e.length;r<l;++r)c=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,l=t.ticks.length;r<l;++r)c=t.getPixelForTick(r),h();return i}function aE(n,t,e,i){const r=e.barThickness;let l,c;return de(r)?(l=t.min*e.categoryPercentage,c=e.barPercentage):(l=r*i,c=1),{chunk:l/i,ratio:c,start:t.pixels[n]-l/2}}function lE(n,t,e,i){const r=t.pixels,l=r[n];let c=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;c===null&&(c=l-(u===null?t.end-t.start:u-l)),u===null&&(u=l+l-c);const f=l-(l-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/i,ratio:e.barPercentage,start:f}}function oE(n,t,e,i){const r=e.parse(n[0],i),l=e.parse(n[1],i),c=Math.min(r,l),u=Math.max(r,l);let h=c,f=u;Math.abs(c)>Math.abs(u)&&(h=u,f=c),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:r,end:l,min:c,max:u}}function Z2(n,t,e,i){return Je(n)?oE(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Cy(n,t,e,i){const r=n.iScale,l=n.vScale,c=r.getLabels(),u=r===l,h=[];let f,m,b,y;for(f=e,m=e+i;f<m;++f)y=t[f],b={},b[r.axis]=u||r.parse(c[f],f),h.push(Z2(y,b,l,f));return h}function Zf(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function cE(n,t,e){return n!==0?Ni(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function uE(n){let t,e,i,r,l;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",l="start"):(r="start",l="end"),{start:e,end:i,reverse:t,top:r,bottom:l}}function hE(n,t,e,i){let r=t.borderSkipped;const l={};if(!r){n.borderSkipped=l;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:f,bottom:m}=uE(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=m:(l[Ey(m,c,u,h)]=!0,r=f)),l[Ey(r,c,u,h)]=!0,n.borderSkipped=l}function Ey(n,t,e,i){return i?(n=dE(n,t,e),n=Ty(n,e,t)):n=Ty(n,t,e),n}function dE(n,t,e){return n===t?e:n===e?t:n}function Ty(n,t,e){return n==="start"?t:n==="end"?e:n}function fE(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Ag extends Dg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Cy(t,e,i,r)}parseArrayData(t,e,i,r){return Cy(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:l,vScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=l.axis==="x"?u:h,m=c.axis==="x"?u:h,b=[];let y,v,k,S;for(y=i,v=i+r;y<v;++y)S=e[y],k={},k[l.axis]=l.parse(Ha(S,f),y),b.push(Z2(Ha(S,m),k,c,y));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const l=i._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,l=this.getParsed(t),c=l._custom,u=Zf(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const l=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:y}=this._getSharedOptions(e,r);for(let v=e;v<e+i;v++){const k=this.getParsed(v),S=l||de(k[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),N=this._calculateBarIndexPixels(v,m),j=(k._stacks||{})[u.axis],E={horizontal:f,base:S.base,enableBorderRadius:!j||Zf(k._custom)||c===j._top||c===j._bottom,x:f?S.head:N.center,y:f?N.center:S.head,height:f?N.size:Math.abs(S.size),width:f?Math.abs(S.size):N.size};y&&(E.options=b||this.resolveDataElementOptions(v,t[v].active?"active":r));const D=E.options||t[v].options;hE(E,D,j,c),fE(E,D,m.ratio),this.updateElement(t[v],v,E,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=m=>{const b=m._parsed.find(v=>v[i.axis]===h),y=b&&b[m.vScale.axis];if(de(y)||isNaN(y))return!0};for(const m of r)if(!(e!==void 0&&f(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[At(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),l=e!==void 0?r.indexOf(e):-1;return l===-1?r.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let l,c;for(l=0,c=e.data.length;l<c;++l)r.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const u=t.barThickness;return{min:u||rE(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:l,minBarLength:c}}=this,u=l||0,h=this.getParsed(t),f=h._custom,m=Zf(f);let b=h[e.axis],y=0,v=i?this.applyStack(e,h,i):b,k,S;v!==b&&(y=v-b,v=b),m&&(b=f.barStart,v=f.barEnd-f.barStart,b!==0&&Ni(b)!==Ni(f.barEnd)&&(y=0),y+=b);const N=!de(l)&&!m?l:y;let j=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?k=e.getPixelForValue(y+v):k=j,S=k-j,Math.abs(S)<c){S=cE(S,e,u)*c,b===u&&(j-=S/2);const E=e.getPixelForDecimal(0),D=e.getPixelForDecimal(1),U=Math.min(E,D),A=Math.max(E,D);j=Math.max(Math.min(j,A),U),k=j+S,i&&!m&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(k)-e.getValueForPixel(j))}if(j===e.getPixelForValue(u)){const E=Ni(S)*e.getLineWidthForValue(u)/2;j+=E,S-=E}return{size:S,base:j,head:k,center:k+S/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,l=r.skipNull,c=At(r.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const m=l?this._getStackCount(t):e.stackCount,b=r.barThickness==="flex"?lE(t,e,r,m*f):aE(t,e,r,m*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(At(y,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0)+v;u=b.start+b.chunk*k+b.chunk/2,h=Math.min(c,b.chunk*b.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(c,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let l=0;for(;l<r;++l)this.getParsed(l)[e.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}class gE extends Dg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:l}=e,c=this.chart._animationsDisabled;let{start:u,count:h}=FC(e,r,c);this._drawStart=u,this._drawCount=h,IC(e)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:f},t),this.updateElements(r,u,h,t)}updateElements(t,e,i,r){const l=r==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(e,r),y=c.axis,v=u.axis,{spanGaps:k,segment:S}=this.options,N=Mo(k)?k:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||l||r==="none",E=e+i,D=t.length;let U=e>0&&this.getParsed(e-1);for(let A=0;A<D;++A){const F=t[A],H=j?F:{};if(A<e||A>=E){H.skip=!0;continue}const X=this.getParsed(A),P=de(X[v]),et=H[y]=c.getPixelForValue(X[y],A),Q=H[v]=l||P?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,X,h):X[v],A);H.skip=isNaN(et)||isNaN(Q)||P,H.stop=A>0&&Math.abs(X[y]-U[y])>N,S&&(H.parsed=X,H.raw=f.data[A]),b&&(H.options=m||this.resolveDataElementOptions(A,F.active?"active":r)),j||this.updateElement(F,A,H,r),U=X}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const l=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,l,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Lr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rg{static override(t){Object.assign(Rg.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Lr()}parse(){return Lr()}format(){return Lr()}add(){return Lr()}diff(){return Lr()}startOf(){return Lr()}endOf(){return Lr()}}var mE={_date:Rg};function pE(n,t,e,i){const{controller:r,data:l,_sorted:c}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&l.length){const f=u._reversePixels?PC:Vr;if(i){if(r._sharedOptions){const m=l[0],b=typeof m.getRange=="function"&&m.getRange(t);if(b){const y=f(l,t,e-b),v=f(l,t,e+b);return{lo:y.lo,hi:v.hi}}}}else{const m=f(l,t,e);if(h){const{vScale:b}=r._cachedMeta,{_parsed:y}=n,v=y.slice(0,m.lo+1).reverse().findIndex(S=>!de(S[b.axis]));m.lo-=Math.max(0,v);const k=y.slice(m.hi).findIndex(S=>!de(S[b.axis]));m.hi+=Math.max(0,k)}return m}}return{lo:0,hi:l.length-1}}function bh(n,t,e,i,r){const l=n.getSortedVisibleDatasetMetas(),c=e[t];for(let u=0,h=l.length;u<h;++u){const{index:f,data:m}=l[u],{lo:b,hi:y}=pE(l[u],t,c,r);for(let v=b;v<=y;++v){const k=m[v];k.skip||i(k,f,v)}}}function bE(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const l=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Kf(n,t,e,i,r){const l=[];return!r&&!n.isPointInArea(t)||bh(n,e,t,function(u,h,f){!r&&!Va(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&l.push({element:u,datasetIndex:h,index:f})},!0),l}function xE(n,t,e,i){let r=[];function l(c,u,h){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:b}=OC(c,{x:t.x,y:t.y});C2(b,f,m)&&r.push({element:c,datasetIndex:u,index:h})}return bh(n,e,t,l),r}function yE(n,t,e,i,r,l){let c=[];const u=bE(e);let h=Number.POSITIVE_INFINITY;function f(m,b,y){const v=m.inRange(t.x,t.y,r);if(i&&!v)return;const k=m.getCenterPoint(r);if(!(!!l||n.isPointInArea(k))&&!v)return;const N=u(t,k);N<h?(c=[{element:m,datasetIndex:b,index:y}],h=N):N===h&&c.push({element:m,datasetIndex:b,index:y})}return bh(n,e,t,f),c}function Jf(n,t,e,i,r,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!i?xE(n,t,e,r):yE(n,t,e,i,r,l)}function Dy(n,t,e,i,r){const l=[],c=e==="x"?"inXRange":"inYRange";let u=!1;return bh(n,e,t,(h,f,m)=>{h[c]&&h[c](t[e],r)&&(l.push({element:h,datasetIndex:f,index:m}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:l}var vE={modes:{index(n,t,e,i){const r=Ki(t,n),l=e.axis||"x",c=e.includeInvisible||!1,u=e.intersect?Kf(n,r,l,i,c):Jf(n,r,l,!1,i,c),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=u[0].index,b=f.data[m];b&&!b.skip&&h.push({element:b,datasetIndex:f.index,index:m})}),h):[]},dataset(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;let u=e.intersect?Kf(n,r,l,i,c):Jf(n,r,l,!1,i,c);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:h,index:m})}return u},point(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Kf(n,r,l,i,c)},nearest(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Jf(n,r,l,e.intersect,i,c)},x(n,t,e,i){const r=Ki(t,n);return Dy(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ki(t,n);return Dy(n,r,"y",e.intersect,i)}}};const K2=["left","top","right","bottom"];function Ql(n,t){return n.filter(e=>e.pos===t)}function Ay(n,t){return n.filter(e=>K2.indexOf(e.pos)===-1&&e.box.axis===t)}function Zl(n,t){return n.sort((e,i)=>{const r=t?i:e,l=t?e:i;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function wE(n){const t=[];let e,i,r,l,c,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:l,options:{stack:c,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&l+c,stackWeight:u});return t}function SE(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:l}=e;if(!i||!K2.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function kE(n,t){const e=SE(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let l,c,u;for(l=0,c=n.length;l<c;++l){u=n[l];const{fullSize:h}=u.box,f=e[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:h&&t.availableHeight)}return e}function _E(n){const t=wE(n),e=Zl(t.filter(f=>f.box.fullSize),!0),i=Zl(Ql(t,"left"),!0),r=Zl(Ql(t,"right")),l=Zl(Ql(t,"top"),!0),c=Zl(Ql(t,"bottom")),u=Ay(t,"x"),h=Ay(t,"y");return{fullSize:e,leftAndTop:i.concat(l),rightAndBottom:r.concat(h).concat(c).concat(u),chartArea:Ql(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:l.concat(c).concat(u)}}function Ry(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function J2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function NE(n,t,e,i){const{pos:r,box:l}=e,c=n.maxPadding;if(!se(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?l.height:l.width),e.size=b.size/b.count,n[r]+=e.size}l.getPadding&&J2(c,l.getPadding());const u=Math.max(0,t.outerWidth-Ry(c,n,"left","right")),h=Math.max(0,t.outerHeight-Ry(c,n,"top","bottom")),f=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:m}:{same:m,other:f}}function jE(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function ME(n,t){const e=t.maxPadding;function i(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return i(n?["left","right"]:["top","bottom"])}function ro(n,t,e,i){const r=[];let l,c,u,h,f,m;for(l=0,c=n.length,f=0;l<c;++l){u=n[l],h=u.box,h.update(u.width||t.w,u.height||t.h,ME(u.horizontal,t));const{same:b,other:y}=NE(t,e,u,i);f|=b&&r.length,m=m||y,h.fullSize||r.push(u)}return f&&ro(r,t,e,i)||m}function mu(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Oy(n,t,e,i){const r=e.padding;let{x:l,y:c}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){const b=t.w*m,y=f.size||h.height;jo(f.start)&&(c=f.start),h.fullSize?mu(h,r.left,c,e.outerWidth-r.right-r.left,y):mu(h,t.left+f.placed,c,b,y),f.start=c,f.placed+=b,c=h.bottom}else{const b=t.h*m,y=f.size||h.width;jo(f.start)&&(l=f.start),h.fullSize?mu(h,l,r.top,y,e.outerHeight-r.bottom-r.top):mu(h,l,t.top+f.placed,y,b),f.start=l,f.placed+=b,l=h.right}}t.x=l,t.y=c}var _i={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Mi(n.options.layout.padding),l=Math.max(t-r.width,0),c=Math.max(e-r.height,0),u=_E(n.boxes),h=u.vertical,f=u.horizontal;Kt(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const m=h.reduce((S,N)=>N.box.options&&N.box.options.display===!1?S:S+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},r);J2(y,Mi(i));const v=Object.assign({maxPadding:y,w:l,h:c,x:r.left,y:r.top},r),k=kE(h.concat(f),b);ro(u.fullSize,v,b,k),ro(h,v,b,k),ro(f,v,b,k)&&ro(h,v,b,k),jE(v),Oy(u.leftAndTop,v,b,k),v.x+=v.w,v.y+=v.h,Oy(u.rightAndBottom,v,b,k),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Kt(u.chartArea,S=>{const N=S.box;Object.assign(N,n.chartArea),N.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class tw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class CE extends tw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Pu="$chartjs",EE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zy=n=>n===null||n==="";function TE(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Pu]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zy(r)){const l=xy(n,"width");l!==void 0&&(n.width=l)}if(zy(i))if(n.style.height==="")n.height=n.width/(t||2);else{const l=xy(n,"height");l!==void 0&&(n.height=l)}return n}const ew=A4?{passive:!0}:!1;function DE(n,t,e){n&&n.addEventListener(t,e,ew)}function AE(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ew)}function RE(n,t){const e=EE[n.type]||n.type,{x:i,y:r}=Ki(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ju(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function OE(n,t,e){const i=n.canvas,r=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Ju(u.addedNodes,i),c=c&&!Ju(u.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function zE(n,t,e){const i=n.canvas,r=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Ju(u.removedNodes,i),c=c&&!Ju(u.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Eo=new Map;let Ly=0;function nw(){const n=window.devicePixelRatio;n!==Ly&&(Ly=n,Eo.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function LE(n,t){Eo.size||window.addEventListener("resize",nw),Eo.set(n,t)}function PE(n){Eo.delete(n),Eo.size||window.removeEventListener("resize",nw)}function BE(n,t,e){const i=n.canvas,r=i&&Tg(i);if(!r)return;const l=A2((u,h)=>{const f=r.clientWidth;e(u,h),f<r.clientWidth&&e()},window),c=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,m=h.contentRect.height;f===0&&m===0||l(f,m)});return c.observe(r),LE(n,l),c}function t0(n,t,e){e&&e.disconnect(),t==="resize"&&PE(n)}function HE(n,t,e){const i=n.canvas,r=A2(l=>{n.ctx!==null&&e(RE(l,n))},n);return DE(i,t,r),r}class VE extends tw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(TE(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Pu])return!1;const i=e[Pu].initial;["height","width"].forEach(l=>{const c=i[l];de(c)?e.removeAttribute(l):e.setAttribute(l,c)});const r=i.style||{};return Object.keys(r).forEach(l=>{e.style[l]=r[l]}),e.width=e.width,delete e[Pu],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:OE,detach:zE,resize:BE}[e]||HE;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:t0,detach:t0,resize:t0}[e]||AE)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return D4(t,e,i,r)}isAttached(t){const e=t&&Tg(t);return!!(e&&e.isConnected)}}function UE(n){return!Eg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?CE:VE}class fr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Mo(this.x)&&Mo(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(l=>{r[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),r}}function FE(n,t){const e=n.options.ticks,i=IE(n),r=Math.min(e.maxTicksLimit||i,i),l=e.major.enabled?qE(t):[],c=l.length,u=l[0],h=l[c-1],f=[];if(c>r)return $E(t,f,l,c/r),f;const m=YE(l,t,r);if(c>0){let b,y;const v=c>1?Math.round((h-u)/(c-1)):null;for(pu(t,f,m,de(v)?0:u-v,u),b=0,y=c-1;b<y;b++)pu(t,f,m,l[b],l[b+1]);return pu(t,f,m,h,de(v)?t.length:h+v),f}return pu(t,f,m),f}function IE(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function YE(n,t,e){const i=WE(n),r=t.length/e;if(!i)return Math.max(r,1);const l=EC(i);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>r)return h}return Math.max(r,1)}function qE(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $E(n,t,e,i){let r=0,l=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===l&&(t.push(n[c]),r++,l=e[r*i])}function pu(n,t,e,i,r){const l=At(i,0),c=Math.min(At(r,n.length),n.length);let u=0,h,f,m;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),m=l;m<0;)u++,m=Math.round(l+u*e);for(f=Math.max(l,0);f<c;f++)f===m&&(t.push(n[f]),u++,m=Math.round(l+u*e))}function WE(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const GE=n=>n==="left"?"right":n==="right"?"left":n,Py=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,By=(n,t)=>Math.min(t||n,n);function Hy(n,t){const e=[],i=n.length/t,r=n.length;let l=0;for(;l<r;l+=i)e.push(n[Math.floor(l)]);return e}function XE(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),l=n._startPixel,c=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(h-l,c-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<t?f:-f,h<l-u||h>c+u)))return h}function QE(n,t){Kt(n,e=>{const i=e.gc,r=i.length/2;let l;if(r>t){for(l=0;l<r;++l)delete e.data[i[l]];i.splice(0,r)}})}function Kl(n){return n.drawTicks?n.tickLength:0}function Vy(n,t){if(!n.display)return 0;const e=En(n.font,t),i=Mi(n.padding);return(Je(n.text)?n.text.length:1)*e.lineHeight+i.height}function ZE(n,t){return Xr(n,{scale:t,type:"scale"})}function KE(n,t,e){return Xr(n,{tick:e,index:t,type:"tick"})}function JE(n,t,e){let i=_g(n);return(e&&t!=="right"||!e&&t==="right")&&(i=GE(i)),i}function t3(n,t,e,i){const{top:r,left:l,bottom:c,right:u,chart:h}=n,{chartArea:f,scales:m}=h;let b=0,y,v,k;const S=c-r,N=u-l;if(n.isHorizontal()){if(v=Cn(i,l,u),se(e)){const j=Object.keys(e)[0],E=e[j];k=m[j].getPixelForValue(E)+S-t}else e==="center"?k=(f.bottom+f.top)/2+S-t:k=Py(n,e,t);y=u-l}else{if(se(e)){const j=Object.keys(e)[0],E=e[j];v=m[j].getPixelForValue(E)-N+t}else e==="center"?v=(f.left+f.right)/2-N+t:v=Py(n,e,t);k=Cn(i,c,r),b=e==="left"?-zi:zi}return{titleX:v,titleY:k,maxWidth:y,rotation:b}}class tl extends fr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Wi(t,Number.POSITIVE_INFINITY),e=Wi(e,Number.NEGATIVE_INFINITY),i=Wi(i,Number.POSITIVE_INFINITY),r=Wi(r,Number.NEGATIVE_INFINITY),{min:Wi(t,i),max:Wi(e,r),minDefined:Tn(t),maxDefined:Tn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:l}=this.getUserBounds(),c;if(r&&l)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)c=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),l||(i=Math.max(i,c.max));return e=l&&e>i?i:e,i=r&&e>i?e:i,{min:Wi(e,Wi(i,e)),max:Wi(i,Wi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c4(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Hy(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=FE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Lt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,l;for(i=0,r=t.length;i<r;i++)l=t[i],l.label=Lt(e.callback,[l.value,i,t],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=By(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,l=e.maxRotation;let c=r,u,h,f;if(!this._isVisible()||!e.display||r>=l||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),b=m.widest.width,y=m.highest.height,v=ui(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),b+6>u&&(u=v/(i-(t.offset?.5:1)),h=this.maxHeight-Kl(t.grid)-e.padding-Vy(t.title,this.chart.options.font),f=Math.sqrt(b*b+y*y),c=RC(Math.min(Math.asin(ui((m.highest.height+6)/u,-1,1)),Math.asin(ui(h/f,-1,1))-Math.asin(ui(y/f,-1,1)))),c=Math.max(r,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=Vy(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Kl(l)+h):(t.height=this.maxHeight,t.width=Kl(l)+h),i.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:y}=this._getLabelSizes(),v=i.padding*2,k=Hr(this.labelRotation),S=Math.cos(k),N=Math.sin(k);if(u){const j=i.mirror?0:N*b.width+S*y.height;t.height=Math.min(this.maxHeight,t.height+j+v)}else{const j=i.mirror?0:S*b.width+N*y.height;t.width=Math.min(this.maxWidth,t.width+j+v)}this._calculatePadding(f,m,N,S)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;h?f?(y=r*t.width,v=i*e.height):(y=i*t.height,v=r*e.width):l==="start"?v=e.width:l==="end"?y=t.width:l!=="inner"&&(y=t.width/2,v=e.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-b+c)*this.width/(this.width-b),0)}else{let m=e.height/2,b=t.height/2;l==="start"?(m=0,b=t.height):l==="end"&&(m=e.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)de(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Hy(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(e/By(e,i));let f=0,m=0,b,y,v,k,S,N,j,E,D,U,A;for(b=0;b<e;b+=h){if(k=t[b].label,S=this._resolveTickFontOptions(b),r.font=N=S.string,j=l[N]=l[N]||{data:{},gc:[]},E=S.lineHeight,D=U=0,!de(k)&&!Je(k))D=fy(r,j.data,j.gc,D,k),U=E;else if(Je(k))for(y=0,v=k.length;y<v;++y)A=k[y],!de(A)&&!Je(A)&&(D=fy(r,j.data,j.gc,D,A),U+=E);c.push(D),u.push(U),f=Math.max(D,f),m=Math.max(U,m)}QE(l,e);const F=c.indexOf(f),H=u.indexOf(m),X=P=>({width:c[P]||0,height:u[P]||0});return{first:X(0),last:X(e-1),widest:X(F),highest:X(H),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return LC(this._alignToPixels?zr(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=KE(this.getContext(),t,i))}return this.$context||(this.$context=ZE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Hr(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:l,position:c,border:u}=r,h=l.offset,f=this.isHorizontal(),b=this.ticks.length+(h?1:0),y=Kl(l),v=[],k=u.setContext(this.getContext()),S=k.display?k.width:0,N=S/2,j=function(V){return zr(i,V,S)};let E,D,U,A,F,H,X,P,et,Q,J,it;if(c==="top")E=j(this.bottom),H=this.bottom-y,P=E-N,Q=j(t.top)+N,it=t.bottom;else if(c==="bottom")E=j(this.top),Q=t.top,it=j(t.bottom)-N,H=E+N,P=this.top+y;else if(c==="left")E=j(this.right),F=this.right-y,X=E-N,et=j(t.left)+N,J=t.right;else if(c==="right")E=j(this.left),et=t.left,J=j(t.right)-N,F=E+N,X=this.left+y;else if(e==="x"){if(c==="center")E=j((t.top+t.bottom)/2+.5);else if(se(c)){const V=Object.keys(c)[0],Y=c[V];E=j(this.chart.scales[V].getPixelForValue(Y))}Q=t.top,it=t.bottom,H=E+N,P=H+y}else if(e==="y"){if(c==="center")E=j((t.left+t.right)/2);else if(se(c)){const V=Object.keys(c)[0],Y=c[V];E=j(this.chart.scales[V].getPixelForValue(Y))}F=E-N,X=F-y,et=t.left,J=t.right}const st=At(r.ticks.maxTicksLimit,b),ut=Math.max(1,Math.ceil(b/st));for(D=0;D<b;D+=ut){const V=this.getContext(D),Y=l.setContext(V),ot=u.setContext(V),ft=Y.lineWidth,bt=Y.color,O=ot.dash||[],L=ot.dashOffset,$=Y.tickWidth,lt=Y.tickColor,xt=Y.tickBorderDash||[],gt=Y.tickBorderDashOffset;U=XE(this,D,h),U!==void 0&&(A=zr(i,U,ft),f?F=X=et=J=A:H=P=Q=it=A,v.push({tx1:F,ty1:H,tx2:X,ty2:P,x1:et,y1:Q,x2:J,y2:it,width:ft,color:bt,borderDash:O,borderDashOffset:L,tickWidth:$,tickColor:lt,tickBorderDash:xt,tickBorderDashOffset:gt}))}return this._ticksLength=b,this._borderValue=E,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:l}=i,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:m,mirror:b}=l,y=Kl(i.grid),v=y+m,k=b?-m:v,S=-Hr(this.labelRotation),N=[];let j,E,D,U,A,F,H,X,P,et,Q,J,it="middle";if(r==="top")F=this.bottom-k,H=this._getXAxisLabelAlignment();else if(r==="bottom")F=this.top+k,H=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(y);H=ut.textAlign,A=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(y);H=ut.textAlign,A=ut.x}else if(e==="x"){if(r==="center")F=(t.top+t.bottom)/2+v;else if(se(r)){const ut=Object.keys(r)[0],V=r[ut];F=this.chart.scales[ut].getPixelForValue(V)+v}H=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")A=(t.left+t.right)/2-v;else if(se(r)){const ut=Object.keys(r)[0],V=r[ut];A=this.chart.scales[ut].getPixelForValue(V)}H=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(h==="start"?it="top":h==="end"&&(it="bottom"));const st=this._getLabelSizes();for(j=0,E=u.length;j<E;++j){D=u[j],U=D.label;const ut=l.setContext(this.getContext(j));X=this.getPixelForTick(j)+l.labelOffset,P=this._resolveTickFontOptions(j),et=P.lineHeight,Q=Je(U)?U.length:1;const V=Q/2,Y=ut.color,ot=ut.textStrokeColor,ft=ut.textStrokeWidth;let bt=H;c?(A=X,H==="inner"&&(j===E-1?bt=this.options.reverse?"left":"right":j===0?bt=this.options.reverse?"right":"left":bt="center"),r==="top"?f==="near"||S!==0?J=-Q*et+et/2:f==="center"?J=-st.highest.height/2-V*et+et:J=-st.highest.height+et/2:f==="near"||S!==0?J=et/2:f==="center"?J=st.highest.height/2-V*et:J=st.highest.height-Q*et,b&&(J*=-1),S!==0&&!ut.showLabelBackdrop&&(A+=et/2*Math.sin(S))):(F=X,J=(1-Q)*et/2);let O;if(ut.showLabelBackdrop){const L=Mi(ut.backdropPadding),$=st.heights[j],lt=st.widths[j];let xt=J-L.top,gt=0-L.left;switch(it){case"middle":xt-=$/2;break;case"bottom":xt-=$;break}switch(H){case"center":gt-=lt/2;break;case"right":gt-=lt;break;case"inner":j===E-1?gt-=lt:j>0&&(gt-=lt/2);break}O={left:gt,top:xt,width:lt+L.width,height:$+L.height,color:ut.backdropColor}}N.push({label:U,font:P,textOffset:J,options:{rotation:S,color:Y,strokeColor:ot,strokeWidth:ft,textAlign:bt,textBaseline:it,translation:[A,F],backdrop:O}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Hr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:l}}=this.options,c=this._getLabelSizes(),u=t+l,h=c.widest.width;let f,m;return e==="left"?r?(m=this.right+l,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m+=h)):(m=this.right-u,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m=this.left)):e==="right"?r?(m=this.left+l,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m-=h)):(m=this.left+u,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(l=>l.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const u=(h,f,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(l=0,c=r.length;l<c;++l){const h=r[l];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,b,y;this.isHorizontal()?(f=zr(t,this.left,c)-c/2,m=zr(t,this.right,u)+u/2,b=y=h):(b=zr(t,this.top,c)-c/2,y=zr(t,this.bottom,u)+u/2,f=m=h),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(f,b),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ho(i,r);const l=this.getLabelItems(t);for(const c of l){const u=c.options,h=c.font,f=c.label,m=c.textOffset;Co(i,f,0,m,h,u)}r&&Vo(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const l=En(i.font),c=Mi(i.padding),u=i.align;let h=l.lineHeight/2;e==="bottom"||e==="center"||se(e)?(h+=c.bottom,Je(i.text)&&(h+=l.lineHeight*(i.text.length-1))):h+=c.top;const{titleX:f,titleY:m,maxWidth:b,rotation:y}=t3(this,h,e,u);Co(t,i.text,0,0,l,{color:i.color,maxWidth:b,rotation:y,textAlign:JE(u,e,r),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=At(t.grid&&t.grid.z,-1),r=At(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==tl.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let l,c;for(l=0,c=e.length;l<c;++l){const u=e[l];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return En(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class bu{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;i3(e)&&(i=this.register(e));const r=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in r||(r[l]=t,e3(t,c,i),this.override&&pe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in pe[r]&&(delete pe[r][i],this.override&&delete qr[i])}}function e3(n,t,e){const i=No(Object.create(null),[e?pe.get(e):{},pe.get(t),n.defaults]);pe.set(t,i),n.defaultRoutes&&n3(t,n.defaultRoutes),n.descriptors&&pe.describe(t,n.descriptors)}function n3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),l=[n].concat(i).join("."),c=t[e].split("."),u=c.pop(),h=c.join(".");pe.route(l,r,h,u)})}function i3(n){return"id"in n&&"defaults"in n}class s3{constructor(){this.controllers=new bu(Dg,"datasets",!0),this.elements=new bu(fr,"elements"),this.plugins=new bu(Object,"plugins"),this.scales=new bu(tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const l=i||this._getRegistryForType(r);i||l.isForType(r)||l===this.plugins&&r.id?this._exec(t,l,r):Kt(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,e,i){const r=Sg(t);Lt(i["before"+r],[],i),e[t](i),Lt(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Qi=new s3;class r3{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(l,t,e,i);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const l of t){const c=l.plugin,u=c[i],h=[e,r,l.options];if(Lt(u,h,c)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=At(i.options&&i.options.plugins,{}),l=a3(i);return r===!1&&!e?[]:o3(t,l,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function a3(n){const t={},e=[],i=Object.keys(Qi.plugins.items);for(let l=0;l<i.length;l++)e.push(Qi.getPlugin(i[l]));const r=n.plugins||[];for(let l=0;l<r.length;l++){const c=r[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function l3(n,t){return!t&&n===!1?null:n===!0?{}:n}function o3(n,{plugins:t,localIds:e},i,r){const l=[],c=n.getContext();for(const u of t){const h=u.id,f=l3(i[h],r);f!==null&&l.push({plugin:u,options:c3(n.config,{plugin:u,local:e[h]},f,c)})}return l}function c3(n,{plugin:t,local:e},i,r){const l=n.pluginScopeKeys(t),c=n.getOptionScopes(i,l);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function P0(n,t){const e=pe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function u3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function h3(n,t){return n===t?"_index_":"_value_"}function Uy(n){if(n==="x"||n==="y"||n==="r")return n}function d3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function B0(n,...t){if(Uy(n))return n;for(const e of t){const i=e.axis||d3(e.position)||n.length>1&&Uy(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Fy(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function f3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Fy(n,"x",e[0])||Fy(n,"y",e[0])}return{}}function g3(n,t){const e=qr[n.type]||{scales:{}},i=t.scales||{},r=P0(n.type,t),l=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!se(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=B0(c,u,f3(c,n),pe.scales[u.type]),f=h3(h,r),m=e.scales||{};l[c]=uo(Object.create(null),[{axis:h},u,m[h],m[f]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,h=c.indexAxis||P0(u,t),m=(qr[u]||{}).scales||{};Object.keys(m).forEach(b=>{const y=u3(b,h),v=c[y+"AxisID"]||y;l[v]=l[v]||Object.create(null),uo(l[v],[{axis:y},i[v],m[b]])})}),Object.keys(l).forEach(c=>{const u=l[c];uo(u,[pe.scales[u.type],pe.scale])}),l}function iw(n){const t=n.options||(n.options={});t.plugins=At(t.plugins,{}),t.scales=g3(n,t)}function sw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function m3(n){return n=n||{},n.data=sw(n.data),iw(n),n}const Iy=new Map,rw=new Set;function xu(n,t){let e=Iy.get(n);return e||(e=t(),Iy.set(n,e),rw.add(e)),e}const Jl=(n,t,e)=>{const i=Ha(t,e);i!==void 0&&n.add(i)};class p3{constructor(t){this._config=m3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return xu(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return xu(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return xu(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:l}=this,c=this._cachedScopes(t,i),u=c.get(e);if(u)return u;const h=new Set;e.forEach(m=>{t&&(h.add(t),m.forEach(b=>Jl(h,t,b))),m.forEach(b=>Jl(h,r,b)),m.forEach(b=>Jl(h,qr[l]||{},b)),m.forEach(b=>Jl(h,pe,b)),m.forEach(b=>Jl(h,z0,b))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),rw.has(e)&&c.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,qr[e]||{},pe.datasets[e]||{},{type:e},pe,z0]}resolveNamedOptions(t,e,i,r=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=Yy(this._resolverCache,t,r);let h=c;if(x3(c,e)){l.$shared=!1,i=hr(i)?i():i;const f=this.createResolver(t,i,u);h=Ua(c,i,f)}for(const f of e)l[f]=h[f];return l}createResolver(t,e,i=[""],r){const{resolver:l}=Yy(this._resolverCache,t,i);return se(e)?Ua(l,e,void 0,r):l}}function Yy(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let l=i.get(r);return l||(l={resolver:jg(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,l)),l}const b3=n=>se(n)&&Object.getOwnPropertyNames(n).some(t=>hr(n[t]));function x3(n,t){const{isScriptable:e,isIndexable:i}=B2(n);for(const r of t){const l=e(r),c=i(r),u=(c||l)&&n[r];if(l&&(hr(u)||b3(u))||c&&Je(u))return!0}return!1}var y3="4.5.1";const v3=["top","bottom","left","right","chartArea"];function qy(n,t){return n==="top"||n==="bottom"||v3.indexOf(n)===-1&&t==="x"}function $y(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Wy(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Lt(e&&e.onComplete,[n],t)}function w3(n){const t=n.chart,e=t.options.animation;Lt(e&&e.onProgress,[n],t)}function aw(n){return Eg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Bu={},Gy=n=>{const t=aw(n);return Object.values(Bu).filter(e=>e.canvas===t).pop()};function S3(n,t,e){const i=Object.keys(n);for(const r of i){const l=+r;if(l>=t){const c=n[r];delete n[r],(e>0||l>t)&&(n[l+e]=c)}}}function k3(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ms=class{static defaults=pe;static instances=Bu;static overrides=qr;static registry=Qi;static version=y3;static getChart=Gy;static register(...t){Qi.add(...t),Xy()}static unregister(...t){Qi.remove(...t),Xy()}constructor(t,e){const i=this.config=new p3(e),r=aw(t),l=Gy(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||UE(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),h=u&&u.canvas,f=h&&h.height,m=h&&h.width;if(this.id=vC(),this.ctx=u,this.canvas=h,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VC(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Bu[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ys.listen(this,"complete",Wy),ys.listen(this,"progress",w3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:l}=this;return de(t)?e&&l?l:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():by(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gy(this.canvas,this.ctx),this}stop(){return ys.stop(this),this}resize(t,e){ys.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,l),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,by(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Lt(i.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Kt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const u=e[c],h=B0(c,u),f=h==="r",m=h==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Kt(l,c=>{const u=c.options,h=u.id,f=B0(h,u),m=At(u.type,c.dtype);(u.position===void 0||qy(u.position,f)!==qy(c.dposition))&&(u.position=c.dposition),r[h]=!0;let b=null;if(h in i&&i[h].type===m)b=i[h];else{const y=Qi.getScale(m);b=new y({id:h,type:m,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(u,t)}),Kt(r,(c,u)=>{c||delete i[u]}),Kt(i,c=>{_i.configure(this,c,c.options),_i.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,l)=>r.index-l.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($y("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const l=e[i];let c=this.getDatasetMeta(i);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=l.indexAxis||P0(u,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const h=Qi.getController(u),{datasetElementType:f,dataElementType:m}=pe.datasets[u];Object.assign(h,{dataElementType:Qi.getElement(m),datasetElementType:f&&Qi.getElement(f)}),c.controller=new h(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Kt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),y=!r&&l.indexOf(b)===-1;b.buildOrUpdateElements(y),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Kt(l,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($y("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Kt(this.scales,t=>{_i.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!sy(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:l}of e){const c=i==="_removeElements"?-l:l;S3(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=l=>new Set(t.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let l=1;l<e;l++)if(!sy(r,i(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_i.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Kt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,hr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ys.has(this)?this.attached&&!ys.running(this)&&ys.start(this):(this.draw(),Wy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,l;for(r=0,l=e.length;r<l;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=G2(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ho(e,r),t.controller.draw(),r&&Vo(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Va(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const l=vE.modes[e];return typeof l=="function"?l(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(l=>l&&l._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Xr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,r);jo(e)?(l.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(l,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ys.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gy(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Bu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};Kt(this.options.events,l=>i(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},r=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},l=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():c()}unbindEvents(){Kt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Kt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let l,c,u,h;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){c=t[u];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!Gu(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,l=(h,f)=>h.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=l(e,t),u=i?t:l(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const l=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(l||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:l}=this,c=e,u=this._getActiveElements(t,r,i,c),h=jC(t),f=k3(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Lt(l.onHover,[t,u,this],this),h&&Lt(l.onClick,[t,u,this],this));const m=!Gu(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,m}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,r)}};function Xy(){return Kt(Ms.instances,n=>n._plugins.invalidate())}function lw(n,t,e=t){n.lineCap=At(e.borderCapStyle,t.borderCapStyle),n.setLineDash(At(e.borderDash,t.borderDash)),n.lineDashOffset=At(e.borderDashOffset,t.borderDashOffset),n.lineJoin=At(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=At(e.borderWidth,t.borderWidth),n.strokeStyle=At(e.borderColor,t.borderColor)}function _3(n,t,e){n.lineTo(e.x,e.y)}function N3(n){return n.stepped?t4:n.tension||n.cubicInterpolationMode==="monotone"?e4:_3}function ow(n,t,e={}){const i=n.length,{start:r=0,end:l=i-1}=e,{start:c,end:u}=t,h=Math.max(r,c),f=Math.min(l,u),m=r<c&&l<c||r>u&&l>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!m?i+f-h:f-h}}function j3(n,t,e,i){const{points:r,options:l}=t,{count:c,start:u,loop:h,ilen:f}=ow(r,e,i),m=N3(l);let{move:b=!0,reverse:y}=i||{},v,k,S;for(v=0;v<=f;++v)k=r[(u+(y?f-v:v))%c],!k.skip&&(b?(n.moveTo(k.x,k.y),b=!1):m(n,S,k,y,l.stepped),S=k);return h&&(k=r[(u+(y?f:0))%c],m(n,S,k,y,l.stepped)),!!h}function M3(n,t,e,i){const r=t.points,{count:l,start:c,ilen:u}=ow(r,e,i),{move:h=!0,reverse:f}=i||{};let m=0,b=0,y,v,k,S,N,j;const E=U=>(c+(f?u-U:U))%l,D=()=>{S!==N&&(n.lineTo(m,N),n.lineTo(m,S),n.lineTo(m,j))};for(h&&(v=r[E(0)],n.moveTo(v.x,v.y)),y=0;y<=u;++y){if(v=r[E(y)],v.skip)continue;const U=v.x,A=v.y,F=U|0;F===k?(A<S?S=A:A>N&&(N=A),m=(b*m+U)/++b):(D(),n.lineTo(U,A),k=F,b=0,S=N=A),j=A}D()}function H0(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?M3:j3}function C3(n){return n.stepped?R4:n.tension||n.cubicInterpolationMode==="monotone"?O4:Br}function E3(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),lw(n,t.options),n.stroke(r)}function T3(n,t,e,i){const{segments:r,options:l}=t,c=H0(t);for(const u of r)lw(n,l,u.style),n.beginPath(),c(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const D3=typeof Path2D=="function";function A3(n,t,e,i){D3&&!t.options.segment?E3(n,t,e,i):T3(n,t,e,i)}class gr extends fr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;N4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=V4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],l=this.points,c=W2(this,{property:e,start:r,end:r});if(!c.length)return;const u=[],h=C3(i);let f,m;for(f=0,m=c.length;f<m;++f){const{start:b,end:y}=c[f],v=l[b],k=l[y];if(v===k){u.push(v);continue}const S=Math.abs((r-v[e])/(k[e]-v[e])),N=h(v,k,S,i.stepped);N[e]=t[e],u.push(N)}return u.length===1?u[0]:u}pathSegment(t,e,i){return H0(this)(t,this,e,i)}path(t,e,i){const r=this.segments,l=H0(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)c&=l(t,this,u,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),A3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Qy(n,t,e,i){const r=n.options,{[e]:l}=n.getProps([e],i);return Math.abs(t-l)<r.radius+r.hitRadius}class Uo extends fr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Qy(this,t,"x",e)}inYRange(t,e){return Qy(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Va(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,L0(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function cw(n,t){const{x:e,y:i,base:r,width:l,height:c}=n.getProps(["x","y","base","width","height"],t);let u,h,f,m,b;return n.horizontal?(b=c/2,u=Math.min(e,r),h=Math.max(e,r),f=i-b,m=i+b):(b=l/2,u=e-b,h=e+b,f=Math.min(i,r),m=Math.max(i,r)),{left:u,top:f,right:h,bottom:m}}function ar(n,t,e,i){return n?0:ui(t,e,i)}function R3(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,l=P2(i);return{t:ar(r.top,l.top,0,e),r:ar(r.right,l.right,0,t),b:ar(r.bottom,l.bottom,0,e),l:ar(r.left,l.left,0,t)}}function O3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,l=La(r),c=Math.min(t,e),u=n.borderSkipped,h=i||se(r);return{topLeft:ar(!h||u.top||u.left,l.topLeft,0,c),topRight:ar(!h||u.top||u.right,l.topRight,0,c),bottomLeft:ar(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:ar(!h||u.bottom||u.right,l.bottomRight,0,c)}}function z3(n){const t=cw(n),e=t.right-t.left,i=t.bottom-t.top,r=R3(n,e/2,i/2),l=O3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:l},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function e0(n,t,e,i){const r=t===null,l=e===null,u=n&&!(r&&l)&&cw(n,i);return u&&(r||sr(t,u.left,u.right))&&(l||sr(e,u.top,u.bottom))}function L3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function P3(n,t){n.rect(t.x,t.y,t.w,t.h)}function n0(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,l=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+l,h:n.h+c,radius:n.radius}}class uw extends fr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:l,outer:c}=z3(this),u=L3(c.radius)?Zu:P3;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),u(t,n0(c,e,l)),t.clip(),u(t,n0(l,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,n0(l,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return e0(this,t,e,i)}inXRange(t,e){return e0(this,t,null,e)}inYRange(t,e){return e0(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+r)/2:e,y:l?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function B3(n,t,e){const i=n.segments,r=n.points,l=t.points,c=[];for(const u of i){let{start:h,end:f}=u;f=xh(h,f,r);const m=V0(e,r[h],r[f],u.loop);if(!t.segments){c.push({source:u,target:m,start:r[h],end:r[f]});continue}const b=W2(t,m);for(const y of b){const v=V0(e,l[y.start],l[y.end],y.loop),k=$2(u,r,v);for(const S of k)c.push({source:S,target:y,start:{[e]:Zy(m,v,"start",Math.max)},end:{[e]:Zy(m,v,"end",Math.min)}})}}return c}function V0(n,t,e,i){if(i)return;let r=t[n],l=e[n];return n==="angle"&&(r=Zi(r),l=Zi(l)),{property:n,start:r,end:l}}function H3(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,l=[];return t.segments.forEach(({start:c,end:u})=>{u=xh(c,u,r);const h=r[c],f=r[u];i!==null?(l.push({x:h.x,y:i}),l.push({x:f.x,y:i})):e!==null&&(l.push({x:e,y:h.y}),l.push({x:e,y:f.y}))}),l}function xh(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Zy(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function hw(n,t){let e=[],i=!1;return Je(n)?(i=!0,e=n):e=H3(n,t),e.length?new gr({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ky(n){return n&&n.fill!==!1}function V3(n,t,e){let r=n[t].fill;const l=[t];let c;if(!e)return r;for(;r!==!1&&l.indexOf(r)===-1;){if(!Tn(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;l.push(r),r=c.fill}return!1}function U3(n,t,e){const i=q3(n);if(se(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Tn(r)&&Math.floor(r)===r?F3(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function F3(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function I3(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:se(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Y3(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:se(n)?i=n.value:i=t.getBaseValue(),i}function q3(n){const t=n.options,e=t.fill;let i=At(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function $3(n){const{scale:t,index:e,line:i}=n,r=[],l=i.segments,c=i.points,u=W3(t,e);u.push(hw({x:null,y:t.bottom},i));for(let h=0;h<l.length;h++){const f=l[h];for(let m=f.start;m<=f.end;m++)G3(r,c[m],u)}return new gr({points:r,options:{}})}function W3(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const l=i[r];if(l.index===t)break;l.hidden||e.unshift(l.dataset)}return e}function G3(n,t,e){const i=[];for(let r=0;r<e.length;r++){const l=e[r],{first:c,last:u,point:h}=X3(l,t,"x");if(!(!h||c&&u)){if(c)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function X3(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],l=n.segments,c=n.points;let u=!1,h=!1;for(let f=0;f<l.length;f++){const m=l[f],b=c[m.start][e],y=c[m.end][e];if(sr(r,b,y)){u=r===b,h=r===y;break}}return{first:u,last:h,point:i}}class dw{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:l,radius:c}=this;return e=e||{start:0,end:Li},t.arc(r,l,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,l=t.angle;return{x:e+Math.cos(l)*r,y:i+Math.sin(l)*r,angle:l}}}function Q3(n){const{chart:t,fill:e,line:i}=n;if(Tn(e))return Z3(t,e);if(e==="stack")return $3(n);if(e==="shape")return!0;const r=K3(n);return r instanceof dw?r:hw(r,i)}function Z3(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function K3(n){return(n.scale||{}).getPointPositionForValue?tT(n):J3(n)}function J3(n){const{scale:t={},fill:e}=n,i=I3(e,t);if(Tn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function tT(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,l=i.reverse?t.max:t.min,c=Y3(e,t,l),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,l);return new dw({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(c)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,c));return u}function i0(n,t,e){const i=Q3(t),{chart:r,index:l,line:c,scale:u,axis:h}=t,f=c.options,m=f.fill,b=f.backgroundColor,{above:y=b,below:v=b}=m||{},k=r.getDatasetMeta(l),S=G2(r,k);i&&c.points.length&&(Ho(n,e),eT(n,{line:c,target:i,above:y,below:v,area:e,scale:u,axis:h,clip:S}),Vo(n))}function eT(n,t){const{line:e,target:i,above:r,below:l,area:c,scale:u,clip:h}=t,f=e._loop?"angle":t.axis;n.save();let m=l;l!==r&&(f==="x"?(Jy(n,i,c.top),s0(n,{line:e,target:i,color:r,scale:u,property:f,clip:h}),n.restore(),n.save(),Jy(n,i,c.bottom)):f==="y"&&(tv(n,i,c.left),s0(n,{line:e,target:i,color:l,scale:u,property:f,clip:h}),n.restore(),n.save(),tv(n,i,c.right),m=r)),s0(n,{line:e,target:i,color:m,scale:u,property:f,clip:h}),n.restore()}function Jy(n,t,e){const{segments:i,points:r}=t;let l=!0,c=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,m=r[h],b=r[xh(h,f,r)];l?(n.moveTo(m.x,m.y),l=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),c=!!t.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function tv(n,t,e){const{segments:i,points:r}=t;let l=!0,c=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,m=r[h],b=r[xh(h,f,r)];l?(n.moveTo(m.x,m.y),l=!1):(n.lineTo(e,m.y),n.lineTo(m.x,m.y)),c=!!t.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function s0(n,t){const{line:e,target:i,property:r,color:l,scale:c,clip:u}=t,h=B3(e,i,r);for(const{source:f,target:m,start:b,end:y}of h){const{style:{backgroundColor:v=l}={}}=f,k=i!==!0;n.save(),n.fillStyle=v,nT(n,c,u,k&&V0(r,b,y)),n.beginPath();const S=!!e.pathSegment(n,f);let N;if(k){S?n.closePath():ev(n,i,y,r);const j=!!i.pathSegment(n,m,{move:S,reverse:!0});N=S&&j,N||ev(n,i,b,r)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function nT(n,t,e,i){const r=t.chart.chartArea,{property:l,start:c,end:u}=i||{};if(l==="x"||l==="y"){let h,f,m,b;l==="x"?(h=c,f=r.top,m=u,b=r.bottom):(h=r.left,f=c,m=r.right,b=u),n.beginPath(),e&&(h=Math.max(h,e.left),m=Math.min(m,e.right),f=Math.max(f,e.top),b=Math.min(b,e.bottom)),n.rect(h,f,m-h,b-f),n.clip()}}function ev(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Og={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let l,c,u,h;for(c=0;c<i;++c)l=n.getDatasetMeta(c),u=l.dataset,h=null,u&&u.options&&u instanceof gr&&(h={visible:n.isDatasetVisible(c),index:c,fill:U3(u,c,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=h,r.push(h);for(c=0;c<i;++c)h=r[c],!(!h||h.fill===!1)&&(h.fill=V3(r,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let c=r.length-1;c>=0;--c){const u=r[c].$filler;u&&(u.line.updateControlPoints(l,u.axis),i&&u.fill&&i0(n.ctx,u,l))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const l=i[r].$filler;Ky(l)&&i0(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Ky(i)||e.drawTime!=="beforeDatasetDraw"||i0(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nv=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},iT=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class iv extends fr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Lt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=En(i.font),l=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=nv(i,l);let f,m;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,l,u,h)+10):(m=this.maxHeight,f=this._fitCols(c,r,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+u;let b=t;l.textAlign="left",l.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((k,S)=>{const N=i+e/2+l.measureText(k.text).width;(S===0||f[f.length-1]+N+2*u>c)&&(b+=m,f[f.length-(S>0?0:1)]=0,v+=m,y++),h[S]={left:0,top:v,row:y,width:N,height:r},f[f.length-1]+=N+u}),b}_fitCols(t,e,i,r){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-t;let b=u,y=0,v=0,k=0,S=0;return this.legendItems.forEach((N,j)=>{const{itemWidth:E,itemHeight:D}=sT(i,e,l,N,r);j>0&&v+D+2*u>m&&(b+=y+u,f.push({width:y,height:v}),k+=y+u,S++,y=v=0),h[j]={left:k,top:v,col:S,width:E,height:D},y=Math.max(y,E),v+=D+u}),b+=y,f.push({width:y,height:v}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:l}}=this,c=Pa(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=Cn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=Cn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+r}else{let u=0,h=Cn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=Cn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ho(t,this),this._draw(),Vo(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:l,labels:c}=t,u=pe.color,h=Pa(t.rtl,this.left,this.width),f=En(c.font),{padding:m}=c,b=f.size,y=b/2;let v;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:k,boxHeight:S,itemHeight:N}=nv(c,b),j=function(F,H,X){if(isNaN(k)||k<=0||isNaN(S)||S<0)return;r.save();const P=At(X.lineWidth,1);if(r.fillStyle=At(X.fillStyle,u),r.lineCap=At(X.lineCap,"butt"),r.lineDashOffset=At(X.lineDashOffset,0),r.lineJoin=At(X.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=At(X.strokeStyle,u),r.setLineDash(At(X.lineDash,[])),c.usePointStyle){const et={radius:S*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:P},Q=h.xPlus(F,k/2),J=H+y;z2(r,et,Q,J,c.pointStyleWidth&&k)}else{const et=H+Math.max((b-S)/2,0),Q=h.leftForLtr(F,k),J=La(X.borderRadius);r.beginPath(),Object.values(J).some(it=>it!==0)?Zu(r,{x:Q,y:et,w:k,h:S,radius:J}):r.rect(Q,et,k,S),r.fill(),P!==0&&r.stroke()}r.restore()},E=function(F,H,X){Co(r,X.text,F,H+N/2,f,{strikethrough:X.hidden,textAlign:h.textAlign(X.textAlign)})},D=this.isHorizontal(),U=this._computeTitleHeight();D?v={x:Cn(l,this.left+m,this.right-i[0]),y:this.top+m+U,line:0}:v={x:this.left+m,y:Cn(l,this.top+U+m,this.bottom-e[0].height),line:0},I2(this.ctx,t.textDirection);const A=N+m;this.legendItems.forEach((F,H)=>{r.strokeStyle=F.fontColor,r.fillStyle=F.fontColor;const X=r.measureText(F.text).width,P=h.textAlign(F.textAlign||(F.textAlign=c.textAlign)),et=k+y+X;let Q=v.x,J=v.y;h.setWidth(this.width),D?H>0&&Q+et+m>this.right&&(J=v.y+=A,v.line++,Q=v.x=Cn(l,this.left+m,this.right-i[v.line])):H>0&&J+A>this.bottom&&(Q=v.x=Q+e[v.line].width+m,v.line++,J=v.y=Cn(l,this.top+U+m,this.bottom-e[v.line].height));const it=h.x(Q);if(j(it,J,F),Q=UC(P,Q+k+y,D?Q+et:this.right,t.rtl),E(h.x(Q),J,F),D)v.x+=et+m;else if(typeof F.text!="string"){const st=f.lineHeight;v.y+=fw(F,st)+m}else v.y+=A}),Y2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=En(e.font),r=Mi(e.padding);if(!e.display)return;const l=Pa(t.rtl,this.left,this.width),c=this.ctx,u=e.position,h=i.size/2,f=r.top+h;let m,b=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+f,b=Cn(t.align,b,this.right-y);else{const k=this.columnSizes.reduce((S,N)=>Math.max(S,N.height),0);m=f+Cn(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const v=Cn(u,b,b+y);c.textAlign=l.textAlign(_g(u)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Co(c,e.text,v,m,i)}_computeTitleHeight(){const t=this.options.title,e=En(t.font),i=Mi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,l;if(sr(t,this.left,this.right)&&sr(e,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(r=l[i],sr(t,r.left,r.left+r.width)&&sr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!lT(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,l=iT(r,i);r&&!l&&Lt(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!l&&Lt(e.onHover,[t,i,this],this)}else i&&Lt(e.onClick,[t,i,this],this)}}function sT(n,t,e,i,r){const l=rT(i,n,t,e),c=aT(r,i,t.lineHeight);return{itemWidth:l,itemHeight:c}}function rT(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+i.measureText(r).width}function aT(n,t,e){let i=n;return typeof t.text!="string"&&(i=fw(t,e)),i}function fw(n,t){const e=n.text?n.text.length:0;return t*e}function lT(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Fo={id:"legend",_element:iv,start(n,t,e){const i=n.legend=new iv({ctx:n.ctx,options:e,chart:n});_i.configure(n,i,e),_i.addBox(n,i)},stop(n){_i.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;_i.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:l,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),m=Mi(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class gw extends fr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Je(i.text)?i.text.length:1;this._padding=Mi(i.padding);const l=r*En(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:l,options:c}=this,u=c.align;let h=0,f,m,b;return this.isHorizontal()?(m=Cn(u,i,l),b=e+t,f=l-i):(c.position==="left"?(m=i+t,b=Cn(u,r,e),h=dn*-.5):(m=l-t,b=Cn(u,e,r),h=dn*.5),f=r-e),{titleX:m,titleY:b,maxWidth:f,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=En(e.font),l=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(l);Co(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:f,textAlign:_g(e.align),textBaseline:"middle",translation:[c,u]})}}function oT(n,t){const e=new gw({ctx:n.ctx,options:t,chart:n});_i.configure(n,e,t),_i.addBox(n,e),n.titleBlock=e}var Io={id:"title",_element:gw,start(n,t,e){oT(n,e)},stop(n){const t=n.titleBlock;_i.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;_i.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ao={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,l=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=n.length;l<c;++l){const h=n[l].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),m=O0(t,f);m<r&&(r=m,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Xi(n,t){return t&&(Je(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function cT(n,t){const{element:e,datasetIndex:i,index:r}=t,l=n.getDatasetMeta(i).controller,{label:c,value:u}=l.getLabelAndValue(r);return{chart:n,label:c,parsed:l.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:l.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function sv(n,t){const e=n.chart.ctx,{body:i,footer:r,title:l}=n,{boxWidth:c,boxHeight:u}=t,h=En(t.bodyFont),f=En(t.titleFont),m=En(t.footerFont),b=l.length,y=r.length,v=i.length,k=Mi(t.padding);let S=k.height,N=0,j=i.reduce((U,A)=>U+A.before.length+A.lines.length+A.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,b&&(S+=b*f.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),j){const U=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=v*U+(j-v)*h.lineHeight+(j-1)*t.bodySpacing}y&&(S+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let E=0;const D=function(U){N=Math.max(N,e.measureText(U).width+E)};return e.save(),e.font=f.string,Kt(n.title,D),e.font=h.string,Kt(n.beforeBody.concat(n.afterBody),D),E=t.displayColors?c+2+t.boxPadding:0,Kt(i,U=>{Kt(U.before,D),Kt(U.lines,D),Kt(U.after,D)}),E=0,e.font=m.string,Kt(n.footer,D),e.restore(),N+=k.width,{width:N,height:S}}function uT(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function hT(n,t,e,i){const{x:r,width:l}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+l+c>t.width||n==="right"&&r-l-c<0)return!0}function dT(n,t,e,i){const{x:r,width:l}=e,{width:c,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=l/2?f="left":r>=c-l/2&&(f="right"),hT(f,n,t,e)&&(f="center"),f}function rv(n,t,e){const i=e.yAlign||t.yAlign||uT(n,e);return{xAlign:e.xAlign||t.xAlign||dT(n,t,e,i),yAlign:i}}function fT(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function gT(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function av(n,t,e,i){const{caretSize:r,caretPadding:l,cornerRadius:c}=n,{xAlign:u,yAlign:h}=e,f=r+l,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:v}=La(c);let k=fT(t,u);const S=gT(t,h,f);return h==="center"?u==="left"?k+=f:u==="right"&&(k-=f):u==="left"?k-=Math.max(m,y)+r:u==="right"&&(k+=Math.max(b,v)+r),{x:ui(k,0,i.width-t.width),y:ui(S,0,i.height-t.height)}}function yu(n,t,e){const i=Mi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function lv(n){return Xi([],vs(n))}function mT(n,t,e){return Xr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ov(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const mw={beforeTitle:xs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:xs,beforeBody:xs,beforeLabel:xs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return de(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:xs,afterBody:xs,beforeFooter:xs,footer:xs,afterFooter:xs};function qn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?mw[t].call(e,i):r}class cv extends fr{static positioners=ao;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,l=new X2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=mT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=qn(i,"beforeTitle",this,t),l=qn(i,"title",this,t),c=qn(i,"afterTitle",this,t);let u=[];return u=Xi(u,vs(r)),u=Xi(u,vs(l)),u=Xi(u,vs(c)),u}getBeforeBody(t,e){return lv(qn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Kt(t,l=>{const c={before:[],lines:[],after:[]},u=ov(i,l);Xi(c.before,vs(qn(u,"beforeLabel",this,l))),Xi(c.lines,qn(u,"label",this,l)),Xi(c.after,vs(qn(u,"afterLabel",this,l))),r.push(c)}),r}getAfterBody(t,e){return lv(qn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=qn(i,"beforeFooter",this,t),l=qn(i,"footer",this,t),c=qn(i,"afterFooter",this,t);let u=[];return u=Xi(u,vs(r)),u=Xi(u,vs(l)),u=Xi(u,vs(c)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],l=[],c=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(cT(this.chart,e[h]));return t.filter&&(u=u.filter((m,b,y)=>t.filter(m,b,y,i))),t.itemSort&&(u=u.sort((m,b)=>t.itemSort(m,b,i))),Kt(u,m=>{const b=ov(t.callbacks,m);r.push(qn(b,"labelColor",this,m)),l.push(qn(b,"labelPointStyle",this,m)),c.push(qn(b,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let l,c=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const u=ao[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const h=this._size=sv(this,i),f=Object.assign({},u,h),m=rv(this.chart,i,f),b=av(i,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:b.x,y:b.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const l=this.getCaretPosition(t,i,r);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:l}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:b}=La(u),{x:y,y:v}=t,{width:k,height:S}=e;let N,j,E,D,U,A;return l==="center"?(U=v+S/2,r==="left"?(N=y,j=N-c,D=U+c,A=U-c):(N=y+k,j=N+c,D=U-c,A=U+c),E=N):(r==="left"?j=y+Math.max(h,m)+c:r==="right"?j=y+k-Math.max(f,b)-c:j=this.caretX,l==="top"?(D=v,U=D-c,N=j-c,E=j+c):(D=v+S,U=D+c,N=j+c,E=j-c),A=D),{x1:N,x2:j,x3:E,y1:D,y2:U,y3:A}}drawTitle(t,e,i){const r=this.title,l=r.length;let c,u,h;if(l){const f=Pa(i.rtl,this.x,this.width);for(t.x=yu(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",c=En(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,h=0;h<l;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===l&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,l){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=l,m=En(l.bodyFont),b=yu(this,"left",l),y=r.x(b),v=h<m.lineHeight?(m.lineHeight-h)/2:0,k=e.y+v;if(l.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},N=r.leftForLtr(y,f)+f/2,j=k+h/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,L0(t,S,N,j),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,L0(t,S,N,j)}else{t.lineWidth=se(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const S=r.leftForLtr(y,f),N=r.leftForLtr(r.xPlus(y,1),f-2),j=La(c.borderRadius);Object.values(j).some(E=>E!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Zu(t,{x:S,y:k,w:f,h,radius:j}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Zu(t,{x:N,y:k+1,w:f-2,h:h-2,radius:j}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(S,k,f,h),t.strokeRect(S,k,f,h),t.fillStyle=c.backgroundColor,t.fillRect(N,k+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:m}=i,b=En(i.bodyFont);let y=b.lineHeight,v=0;const k=Pa(i.rtl,this.x,this.width),S=function(X){e.fillText(X,k.x(t.x+v),t.y+y/2),t.y+=y+l},N=k.textAlign(c);let j,E,D,U,A,F,H;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=yu(this,N,i),e.fillStyle=i.bodyColor,Kt(this.beforeBody,S),v=u&&N!=="right"?c==="center"?f/2+m:f+2+m:0,U=0,F=r.length;U<F;++U){for(j=r[U],E=this.labelTextColors[U],e.fillStyle=E,Kt(j.before,S),D=j.lines,u&&D.length&&(this._drawColorBox(e,t,U,k,i),y=Math.max(b.lineHeight,h)),A=0,H=D.length;A<H;++A)S(D[A]),y=b.lineHeight;Kt(j.after,S)}v=0,y=b.lineHeight,Kt(this.afterBody,S),t.y-=l}drawFooter(t,e,i){const r=this.footer,l=r.length;let c,u;if(l){const h=Pa(i.rtl,this.x,this.width);for(t.x=yu(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",c=En(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,u=0;u<l;++u)e.fillText(r[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=t,{width:f,height:m}=i,{topLeft:b,topRight:y,bottomLeft:v,bottomRight:k}=La(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+b,h),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-y,h),e.quadraticCurveTo(u+f,h,u+f,h+y),c==="center"&&l==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,h+m-k),e.quadraticCurveTo(u+f,h+m,u+f-k,h+m),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+v,h+m),e.quadraticCurveTo(u,h+m,u,h+m-v),c==="center"&&l==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,h+b),e.quadraticCurveTo(u,h,u+b,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,l=i&&i.y;if(r||l){const c=ao[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=sv(this,t),h=Object.assign({},c,this._size),f=rv(e,t,h),m=av(t,h,f,e);(r._to!==m.x||l._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Mi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(l,t,r,e),I2(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),Y2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),l=!Gu(i,r),c=this._positionChanged(r,e);(l||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,i),u=this._positionChanged(c,t),h=e||!Gu(c,l)||u;return h&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const l=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:l}=this,c=ao[l.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Yo={id:"tooltip",_element:cv,positioners:ao,afterInit(n,t,e){e&&(n.tooltip=new cv({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pT=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function bT(n,t,e,i){const r=n.indexOf(t);if(r===-1)return pT(n,t,e,i);const l=n.lastIndexOf(t);return r!==l?e:r}const xT=(n,t)=>n===null?null:ui(Math.round(n),0,t);function uv(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class qo extends tl{static id="category";static defaults={ticks:{callback:uv}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:l}of e)i[r]===l&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(de(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:bT(i,t,At(e,t),this._addedLabels),xT(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return uv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function yT(n,t){const e=[],{bounds:r,step:l,min:c,max:u,precision:h,count:f,maxTicks:m,maxDigits:b,includeBounds:y}=n,v=l||1,k=m-1,{min:S,max:N}=t,j=!de(c),E=!de(u),D=!de(f),U=(N-S)/(b+1);let A=ay((N-S)/k/v)*v,F,H,X,P;if(A<1e-14&&!j&&!E)return[{value:S},{value:N}];P=Math.ceil(N/A)-Math.floor(S/A),P>k&&(A=ay(P*A/k/v)*v),de(h)||(F=Math.pow(10,h),A=Math.ceil(A*F)/F),r==="ticks"?(H=Math.floor(S/A)*A,X=Math.ceil(N/A)*A):(H=S,X=N),j&&E&&l&&DC((u-c)/l,A/1e3)?(P=Math.round(Math.min((u-c)/A,m)),A=(u-c)/P,H=c,X=u):D?(H=j?c:H,X=E?u:X,P=f-1,A=(X-H)/P):(P=(X-H)/A,Fr(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const et=Math.max(ly(A),ly(H));F=Math.pow(10,de(h)?et:h),H=Math.round(H*F)/F,X=Math.round(X*F)/F;let Q=0;for(j&&(y&&H!==c?(e.push({value:c}),H<c&&Q++,Fr(Math.round((H+Q*A)*F)/F,c,hv(c,U,n))&&Q++):H<c&&Q++);Q<P;++Q){const J=Math.round((H+Q*A)*F)/F;if(E&&J>u)break;e.push({value:J})}return E&&y&&X!==u?e.length&&Fr(e[e.length-1].value,u,hv(u,U,n))?e[e.length-1].value=u:e.push({value:u}):(!E||X===u)&&e.push({value:X}),e}function hv(n,t,{horizontal:e,minRotation:i}){const r=Hr(i),l=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/l,c)}class vT extends tl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return de(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:l}=this;const c=h=>r=e?r:h,u=h=>l=i?l:h;if(t){const h=Ni(r),f=Ni(l);h<0&&f<0?u(0):h>0&&f>0&&c(0)}if(r===l){let h=l===0?1:Math.abs(l*.05);u(l+h),t||c(r-h)}this.min=r,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=yT(r,l);return t.bounds==="ticks"&&AC(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return R2(t,this.chart.options.locale,this.options.ticks.format)}}class $o extends vT{static id="linear";static defaults={ticks:{callback:O2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Tn(t)?t:0,this.max=Tn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Hr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const yh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gn=Object.keys(yh);function dv(n,t){return n-t}function fv(n,t){if(de(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:l}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Tn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Mo(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,r)),+c)}function gv(n,t,e,i){const r=Gn.length;for(let l=Gn.indexOf(n);l<r-1;++l){const c=yh[Gn[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(u*c.size))<=i)return Gn[l]}return Gn[r-1]}function wT(n,t,e,i,r){for(let l=Gn.length-1;l>=Gn.indexOf(e);l--){const c=Gn[l];if(yh[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Gn[e?Gn.indexOf(e):0]}function ST(n){for(let t=Gn.indexOf(n)+1,e=Gn.length;t<e;++t)if(yh[Gn[t]].common)return Gn[t]}function mv(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=kg(e,t),l=e[i]>=t?e[i]:e[r];n[l]=!0}}function kT(n,t,e,i){const r=n._adapter,l=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,h;for(u=l;u<=c;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function pv(n,t,e){const i=[],r={},l=t.length;let c,u;for(c=0;c<l;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return l===0||!e?i:kT(n,i,r,e)}class bv extends tl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new mE._date(t.adapters.date);r.init(e),uo(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:fv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!c||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Tn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),l=Tn(l)&&!isNaN(l)?l:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,c=this.max,u=BC(r,l,c);return this._unit=e.unit||(i.autoSkip?gv(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):wT(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ST(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),pv(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,l;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?i=l:i=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ui(e,0,c),i=ui(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,l=r.time,c=l.unit||gv(l.minUnit,e,i,this._getLabelCapacity(e)),u=At(r.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,f=Mo(h)||h===!0,m={};let b=e,y,v;if(f&&(b=+t.startOf(b,"isoWeek",h)),b=+t.startOf(b,f?"day":c),t.diff(i,e,c)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+c);const k=r.ticks.source==="data"&&this.getDataTimestamps();for(y=b,v=0;y<i;y=+t.add(y,u,c),v++)mv(m,y,k);return(y===i||r.bounds==="ticks"||v===1)&&mv(m,y,k),Object.keys(m).sort(dv).map(S=>+S)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,l=this._unit,c=e||r[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const l=this.options,c=l.ticks.callback;if(c)return Lt(c,[t,e,i],this);const u=l.time.displayFormats,h=this._unit,f=this._majorUnit,m=h&&u[h],b=f&&u[f],y=i[e],v=f&&b&&y&&y.major;return this._adapter.format(t,r||(v?b:m))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Hr(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*l+u*c,h:i*c+u*l}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,l=this._tickFormatFunction(t,0,pv(this,[t],this._majorUnit),r),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(fv(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return T2(t.sort(dv))}}function vu(n,t,e){let i=0,r=n.length-1,l,c,u,h;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Vr(n,"pos",t)),{pos:l,time:u}=n[i],{pos:c,time:h}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Vr(n,"time",t)),{time:l,pos:u}=n[i],{time:c,pos:h}=n[r]);const f=c-l;return f?u+(h-u)*(t-l)/f:u}class mR extends bv{static id="timeseries";static defaults=bv.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vu(e,this.min),this._tableRange=vu(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],l=[];let c,u,h,f,m;for(c=0,u=t.length;c<u;++c)f=t[c],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)m=r[c+1],h=r[c-1],f=r[c],Math.round((m+h)/2)!==f&&l.push({time:f,pos:c/(u-1)});return l}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,l)=>r-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(vu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return vu(this._table,i*this._tableRange+this._minPos,!0)}}const pw="label";function xv(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function _T(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function bw(n,t){n.labels=t}function xw(n,t,e=pw){const i=[];n.datasets=t.map(r=>{const l=n.datasets.find(c=>c[e]===r[e]);return!l||!r.data||i.includes(l)?{...r}:(i.push(l),Object.assign(l,r),l)})}function NT(n,t=pw){const e={labels:[],datasets:[]};return bw(e,n.labels),xw(e,n.datasets,t),e}function jT(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:l,type:c,data:u,options:h,plugins:f=[],fallbackContent:m,updateMode:b,...y}=n,v=_.useRef(null),k=_.useRef(null),S=()=>{v.current&&(k.current=new Ms(v.current,{type:c,data:NT(u,l),options:h&&{...h},plugins:f}),xv(t,k.current))},N=()=>{xv(t,null),k.current&&(k.current.destroy(),k.current=null)};return _.useEffect(()=>{!r&&k.current&&h&&_T(k.current,h)},[r,h]),_.useEffect(()=>{!r&&k.current&&bw(k.current.config.data,u.labels)},[r,u.labels]),_.useEffect(()=>{!r&&k.current&&u.datasets&&xw(k.current.config.data,u.datasets,l)},[r,u.datasets]),_.useEffect(()=>{k.current&&(r?(N(),setTimeout(S)):k.current.update(b))},[r,h,u.labels,u.datasets,b]),_.useEffect(()=>{k.current&&(N(),setTimeout(S))},[c]),_.useEffect(()=>(S(),()=>N()),[]),g.jsx("canvas",{ref:v,role:"img",height:e,width:i,...y,children:m})}const yw=_.forwardRef(jT);function vw(n,t){return Ms.register(t),_.forwardRef((e,i)=>g.jsx(yw,{...e,ref:i,type:n}))}const To=vw("line",gE),MT=vw("bar",Ag);function CT(n,t){const{x:e,y:i,base:r,width:l,height:c}=n.getProps(["x","low","high","width","height"],t);let u,h,f,m,b;return n.horizontal?(b=c/2,u=Math.min(e,r),h=Math.max(e,r),f=i-b,m=i+b):(b=l/2,u=e-b,h=e+b,f=Math.min(i,r),m=Math.max(i,r)),{left:u,top:f,right:h,bottom:m}}function r0(n,t,e,i){const r=t===null,l=e===null,c=!n||r&&l?!1:CT(n,i);return c&&(r||t>=c.left&&t<=c.right)&&(l||e>=c.top&&e<=c.bottom)}class th extends uw{static defaults={backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}};height(){return this.base-this.y}inRange(t,e,i){return r0(this,t,e,i)}inXRange(t,e){return r0(this,t,null,e)}inYRange(t,e){return r0(this,null,t,e)}getRange(t){return t==="x"?this.width/2:this.height/2}getCenterPoint(t){const{x:e,low:i,high:r}=this.getProps(["x","low","high"],t);return{x:e,y:(r+i)/2}}tooltipPosition(t){const{x:e,open:i,close:r}=this.getProps(["x","open","close"],t);return{x:e,y:(i+r)/2}}}const Ea=Ms.defaults;class ET extends th{static id="ohlc";static defaults={...th.defaults,lineWidth:2,armLength:null,armLengthRatio:.8};draw(t){const e=this,{x:i,open:r,high:l,low:c,close:u}=e,h=At(e.armLengthRatio,Ea.elements.ohlc.armLengthRatio);let f=At(e.armLength,Ea.elements.ohlc.armLength);f===null&&(f=e.width*h*.5),u<r?t.strokeStyle=At(e.options.borderColors?e.options.borderColors.up:void 0,Ea.elements.ohlc.borderColors.up):u>r?t.strokeStyle=At(e.options.borderColors?e.options.borderColors.down:void 0,Ea.elements.ohlc.borderColors.down):t.strokeStyle=At(e.options.borderColors?e.options.borderColors.unchanged:void 0,Ea.elements.ohlc.borderColors.unchanged),t.lineWidth=At(e.lineWidth,Ea.elements.ohlc.lineWidth),t.beginPath(),t.moveTo(i,l),t.lineTo(i,c),t.moveTo(i-f,r),t.lineTo(i,r),t.moveTo(i+f,u),t.lineTo(i,u),t.stroke()}}class eh extends Ag{static overrides={label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(t){const e=t.parsed;if(!de(e.y))return pe.plugins.tooltip.callbacks.label(t);const{o:i,h:r,l,c}=e;return`O: ${i}  H: ${r}  L: ${l}  C: ${c}`}}}}};getLabelAndValue(t){const e=this,i=e.getParsed(t),r=e._cachedMeta.iScale.axis,{o:l,h:c,l:u,c:h}=i,f=`O: ${l}  H: ${c}  L: ${u}  C: ${h}`;return{label:`${e._cachedMeta.iScale.getLabelForValue(i[r])}`,value:f}}getUserBounds(t){const{min:e,max:i,minDefined:r,maxDefined:l}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}getMinMax(t){const e=this._cachedMeta,i=e._parsed,r=e.iScale.axis,l=this._getOtherScale(t),{min:c,max:u}=this.getUserBounds(l);if(i.length<2)return{min:0,max:1};if(t===e.iScale)return{min:i[0][r],max:i[i.length-1][r]};const h=i.filter(({x:b})=>b>=c&&b<u);let f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;for(let b=0;b<h.length;b++){const y=h[b];f=Math.min(f,y.l),m=Math.max(m,y.h)}return{min:f,max:m}}calculateElementProperties(t,e,i,r){const l=this,c=l._cachedMeta.vScale,u=c.getBasePixel(),h=l._calculateBarIndexPixels(t,e,r),f=l.chart.data.datasets[l.index].data[t],m=c.getPixelForValue(f.o),b=c.getPixelForValue(f.h),y=c.getPixelForValue(f.l),v=c.getPixelForValue(f.c);return{base:i?u:y,x:h.center,y:(y+b)/2,width:h.size,open:m,high:b,low:y,close:v}}draw(){const t=this,e=t.chart,i=t._cachedMeta.data;Ho(e.ctx,e.chartArea);for(let r=0;r<i.length;++r)i[r].draw(t._ctx);Vo(e.ctx)}}class pR extends eh{static id="ohlc";static defaults={...eh.defaults,dataElementType:ET.id,datasets:{barPercentage:1,categoryPercentage:1}};updateElements(t,e,i,r){const l=r==="reset",c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let f=e;f<e+i;f++){const m=u||this.resolveDataElementOptions(f,r),b=this.calculateElementProperties(f,c,l,m);h&&(b.options=m),this.updateElement(t[f],f,b,r)}}}class ww extends th{static id="candlestick";static defaults={...th.defaults,borderWidth:1};draw(t){const e=this,{x:i,open:r,high:l,low:c,close:u}=e;let h=e.options.borderColors;typeof h=="string"&&(h={up:h,down:h,unchanged:h});let f;u<r?(f=At(h?h.up:void 0,pe.elements.candlestick.borderColors.up),t.fillStyle=At(e.options.backgroundColors?e.options.backgroundColors.up:void 0,pe.elements.candlestick.backgroundColors.up)):u>r?(f=At(h?h.down:void 0,pe.elements.candlestick.borderColors.down),t.fillStyle=At(e.options.backgroundColors?e.options.backgroundColors.down:void 0,pe.elements.candlestick.backgroundColors.down)):(f=At(h?h.unchanged:void 0,pe.elements.candlestick.borderColors.unchanged),t.fillStyle=At(e.backgroundColors?e.backgroundColors.unchanged:void 0,pe.elements.candlestick.backgroundColors.unchanged)),t.lineWidth=At(e.options.borderWidth,pe.elements.candlestick.borderWidth),t.strokeStyle=f,t.beginPath(),t.moveTo(i,l),t.lineTo(i,Math.min(r,u)),t.moveTo(i,c),t.lineTo(i,Math.max(r,u)),t.stroke(),t.fillRect(i-e.width/2,u,e.width,r-u),t.strokeRect(i-e.width/2,u,e.width,r-u),t.closePath()}}class TT extends eh{static id="candlestick";static defaults={...eh.defaults,dataElementType:ww.id};static defaultRoutes=Ag.defaultRoutes;updateElements(t,e,i,r){const l=r==="reset",c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let f=e;f<e+i;f++){const m=u||this.resolveDataElementOptions(f,r),b=this.calculateElementProperties(f,c,l,m);h&&(b.options=m),this.updateElement(t[f],f,b,r)}}}Ms.register(qo,$o,Uo,gr,uw,Io,Yo,Fo,Og,TT,ww);function DT({chartType:n,candlestickData:t,chartData:e,symbol:i,currentInterval:r,lineChartOptions:l,candlestickChartOptions:c}){if(n==="candlestick")try{if(!t||!t.datasets||!t.datasets[0]||!t.datasets[0].data||t.datasets[0].data.length===0)throw new Error("Candlestick data not available");if(!t.datasets[0].data.every(h=>h&&typeof h=="object"&&"o"in h&&"h"in h&&"l"in h&&"c"in h&&!isNaN(Number(h.o))&&!isNaN(Number(h.h))&&!isNaN(Number(h.l))&&!isNaN(Number(h.c))))throw new Error("Invalid candlestick data structure");return g.jsx(yw,{type:"candlestick",data:t,options:c},`candlestick-${i}-${r}`)}catch(u){return console.error("Candlestick chart error:",u),e&&e.datasets&&e.datasets[0]?g.jsx(To,{data:e,options:l},`line-fallback-${i}-${r}`):g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:"Unable to display candlestick chart. Showing line chart instead."})})}return e&&e.datasets&&e.datasets[0]?g.jsx(To,{data:e,options:l},`line-${i}-${r}`):null}function AT(){const[n,t]=_.useState("QQQ"),[e,i]=_.useState("1D"),[r,l]=_.useState(null),[c,u]=_.useState(null),[h,f]=_.useState(null),[m,b]=_.useState(!1),[y,v]=_.useState(null),[k,S]=_.useState(null),[N,j]=_.useState(null),[E,D]=_.useState([]),[U,A]=_.useState(!1),[F,H]=_.useState("line"),X=_.useRef(null),P=_.useRef(null),et=_.useRef(null),Q=_.useRef(null),J=_.useRef(null),it=_.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(L){return L.parsed.y!==null&&L.parsed.y!==void 0?`${L.dataset.label}: $${L.parsed.y.toFixed(2)}`:""}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(L){return L!=null&&!isNaN(L)?"$"+L.toFixed(2):""},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),st=_.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(L){const $=L.parsed.y;return $>=1e6?`Volume: ${($/1e6).toFixed(2)}M`:$>=1e3?`Volume: ${($/1e3).toFixed(2)}K`:`Volume: ${$}`}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(L){return L>=1e6?(L/1e6).toFixed(1)+"M":L>=1e3?(L/1e3).toFixed(1)+"K":L},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),ut=_.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(L){const $=L.raw;return $&&typeof $=="object"&&"o"in $&&"h"in $&&"l"in $&&"c"in $?[`Open: $${$.o.toFixed(2)}`,`High: $${$.h.toFixed(2)}`,`Low: $${$.l.toFixed(2)}`,`Close: $${$.c.toFixed(2)}`]:""}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(L){return L!=null&&!isNaN(L)?"$"+L.toFixed(2):""},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),V=_.useCallback(async()=>{if(!n||!n.trim()){v("Please enter a stock symbol");return}const L=r;b(!0),v(null);try{const $=new Promise((ae,Vt)=>setTimeout(()=>Vt(new Error("Request timeout. Please try again.")),2e4)),lt=Wu(n.toUpperCase().trim(),e),xt=await Promise.race([lt,$]);if(!xt)throw new Error("No data received from API");if(!xt.data||!Array.isArray(xt.data))throw new Error("Invalid data format: data.data is not an array");if(xt.data.length===0)throw new Error("No chart data available for this symbol");const gt=xt.data.filter(ae=>{if(!ae||!ae.timestamp)return!1;const Vt=ae.close;return Vt!=null&&!isNaN(Vt)&&Vt>0});if(gt.length===0)throw new Error("No valid price data available. All data points are invalid.");gt.sort((ae,Vt)=>ae.timestamp-Vt.timestamp);const ht=gt.map(ae=>{try{const Vt=new Date(ae.timestamp);return isNaN(Vt.getTime())?"":e==="1H"?Vt.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}):Vt.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"America/New_York"})}catch{return""}}).filter(ae=>ae!==""),Tt=gt.map(ae=>{const Vt=Number(ae.close);return isNaN(Vt)?null:Vt}).filter(ae=>ae!==null),wt=gt.map(ae=>{const Vt=Number(ae.volume)||0;return isNaN(Vt)?0:Vt}),kt=Math.min(ht.length,Tt.length,wt.length),ct=ht.slice(0,kt),vt=Tt.slice(0,kt),yt=wt.slice(0,kt);if(vt.length===0)throw new Error("No valid price data to display after processing");const St=vt[0],zt=vt[vt.length-1],Ht=zt-St,Bt=St!==0?Ht/St*100:0,Oe={labels:ct,datasets:[{label:`${n.toUpperCase()} Price`,data:vt,borderColor:Ht>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)",backgroundColor:Ht>=0?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4,borderWidth:2}],currentPrice:xt.currentPrice||zt,change:Ht,changePercent:Bt},fn={labels:ct,datasets:[{label:"Volume",data:yt,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},_e=gt.slice(0,kt).map((ae,Vt)=>{const Zn=Number(ae.open)||Number(ae.close)||0,Kn=Number(ae.high)||Number(ae.close)||0,tn=Number(ae.low)||Number(ae.close)||0,Ne=Number(ae.close)||0;return{x:Vt,o:Zn,h:Kn,l:tn,c:Ne}}),re={labels:ct,datasets:[{label:`${n.toUpperCase()} Candlestick`,data:_e}]};et.current=Oe,Q.current=fn,J.current=re,l(Oe),u(fn),f(re),j(e),S(new Date);const Dn=`${n.toUpperCase()}-${e}`;D(ae=>{const Vt=ae.filter(Kn=>Kn!==Dn),Zn=[Dn,...Vt].slice(0,5);return localStorage.setItem("tradingRecentSearches",JSON.stringify(Zn)),Zn})}catch($){const lt=$.message||"Failed to load chart data. Please check the symbol and try again.";v(lt),L||(l(null),u(null),f(null))}finally{b(!1)}},[n,e]);_.useEffect(()=>{const L=localStorage.getItem("tradingRecentSearches");if(L)try{D(JSON.parse(L))}catch{}},[]),_.useEffect(()=>{n==="QQQ"&&!r&&V()},[]),_.useEffect(()=>{F==="candlestick"&&(!h||!h.datasets||!h.datasets[0]||!h.datasets[0].data||h.datasets[0].data.length===0)&&(console.warn("Candlestick data not available, resetting to line chart"),H("line"))},[F,h]);const Y=()=>{n&&n.trim()&&(V(),A(!1))},ot=()=>{n&&n.trim()&&V()},ft=L=>{L!==e&&(i(L),n&&n.trim()&&r&&setTimeout(()=>{V()},100))},bt=L=>{const[$,lt]=L.split("-");t($),i(lt),A(!1),setTimeout(()=>{V()},100)},O=L=>{L.key==="Enter"&&Y()};return _.useEffect(()=>()=>{X.current&&clearInterval(X.current)},[]),g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Charts"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real-time stock market data and analysis"})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Stock Symbol"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{ref:P,type:"text",id:"symbol",value:n,onChange:L=>{const $=L.target.value.toUpperCase();t($),A($.length===0&&E.length>0)},onKeyDown:O,onFocus:()=>{E.length>0&&!n&&A(!0)},onBlur:()=>{setTimeout(()=>A(!1),200)},placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),n&&g.jsx("button",{type:"button",onClick:()=>{t(""),A(!1),P.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),U&&E.length>0&&!m&&g.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[g.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Recent Searches"}),E.map(L=>{const[$,lt]=L.split("-");return g.jsxs("button",{type:"button",onClick:()=>bt(L),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center justify-between transition-colors",children:[g.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:$}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:lt})]},L)})]})]})]}),g.jsxs("div",{className:"w-full lg:w-auto",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Interval"}),g.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsx("button",{type:"button",onClick:()=>ft("1D"),className:`px-6 py-2 rounded-md font-medium transition-all ${e==="1D"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Day"}),g.jsx("button",{type:"button",onClick:()=>ft("1H"),className:`px-6 py-2 rounded-md font-medium transition-all ${e==="1H"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Hour"})]})]}),g.jsx("div",{className:"w-full lg:w-auto",children:g.jsx("button",{type:"button",onClick:Y,disabled:m||!n||!n.trim(),className:"w-full lg:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:m?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Loading..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),g.jsx("span",{children:"Search"})]})})})]}),y&&g.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:y}),g.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:"Please check the symbol and try again"})]})]})}),(r||m)&&g.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[g.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Current Price"}),g.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:m&&!r?g.jsx("span",{className:"text-gray-400",children:"Loading..."}):`$${r?.currentPrice?.toFixed(2)||"N/A"}`})]}),g.jsxs("div",{className:`rounded-lg p-4 border ${!r||r.change>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[g.jsx("p",{className:"text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Change"}),g.jsx("p",{className:`text-xl font-bold ${!r||r.change>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:m&&!r?g.jsx("span",{className:"text-gray-400",children:"--"}):r?`${r.change>=0?"+":""}$${r.change.toFixed(2)}`:"--"})]}),g.jsxs("div",{className:`rounded-lg p-4 border ${!r||r.changePercent>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[g.jsx("p",{className:"text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Change %"}),g.jsx("p",{className:`text-xl font-bold ${!r||r.changePercent>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:m&&!r?g.jsx("span",{className:"text-gray-400",children:"--"}):r?`${r.changePercent>=0?"+":""}${r.changePercent.toFixed(2)}%`:"--"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[g.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Interval"}),g.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N||"N/A"})]})]}),(k||r)&&g.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{children:k?`Last updated: ${k.toLocaleString("en-US",{timeZone:"America/New_York"})}`:"Ready to load data"})]}),r&&g.jsxs("button",{type:"button",onClick:ot,disabled:m,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[g.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Refresh"})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Price Chart"}),n&&N&&g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[n.toUpperCase()," - ",N," interval"]})]}),r&&g.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsx("button",{type:"button",onClick:()=>{try{H("line")}catch(L){console.error("Error switching to line chart:",L)}},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${F==="line"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Line"}),g.jsx("button",{type:"button",onClick:L=>{L.preventDefault(),L.stopPropagation();try{if(h&&h.datasets&&h.datasets[0]&&h.datasets[0].data&&h.datasets[0].data.length>0){const $=h.datasets[0].data[0];$&&"o"in $&&"h"in $&&"l"in $&&"c"in $?H("candlestick"):(console.warn("Candlestick data structure invalid, staying on line chart"),H("line"))}else console.warn("Candlestick data not available, staying on line chart"),H("line")}catch($){console.error("Error switching to candlestick chart:",$),H("line")}},disabled:!h||!h.datasets||!h.datasets[0]||!h.datasets[0].data||h.datasets[0].data.length===0,className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${F==="candlestick"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Candlestick"})]})]}),g.jsx("div",{className:"h-[500px] relative",children:r&&r.labels&&r.labels.length>0&&r.datasets&&r.datasets[0]&&r.datasets[0].data&&r.datasets[0].data.length>0?g.jsxs(g.Fragment,{children:[m&&g.jsx("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-800/90 z-10 flex items-center justify-center backdrop-blur-sm",children:g.jsx("div",{className:"text-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),g.jsx(DT,{chartType:F,candlestickData:h,chartData:r,symbol:n,currentInterval:N,lineChartOptions:it.current,candlestickChartOptions:ut.current})]}):m?g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading chart data..."}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]})}):g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-2",children:"No chart data available"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Please try searching again or check the symbol"})]})})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Trading Volume"}),n&&g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[n.toUpperCase()," trading volume over time"]})]}),g.jsx("div",{className:"h-[350px] relative",children:c&&c.labels&&c.labels.length>0?g.jsxs(g.Fragment,{children:[m&&g.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 z-10 flex items-center justify-center",children:g.jsx("div",{className:"text-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),g.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:g.jsx(MT,{data:c,options:st.current})})]}):g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No volume data available"})})})]})]})}var a0={exports:{}};var yv;function RT(){return yv||(yv=1,(function(n){(function(t,e,i,r){var l=["","webkit","Moz","MS","ms","o"],c=e.createElement("div"),u="function",h=Math.round,f=Math.abs,m=Date.now;function b(M,T,R){return setTimeout(D(M,R),T)}function y(M,T,R){return Array.isArray(M)?(v(M,R[T],R),!0):!1}function v(M,T,R){var K;if(M)if(M.forEach)M.forEach(T,R);else if(M.length!==r)for(K=0;K<M.length;)T.call(R,M[K],K,M),K++;else for(K in M)M.hasOwnProperty(K)&&T.call(R,M[K],K,M)}function k(M,T,R){var K="DEPRECATED METHOD: "+T+`
`+R+` AT 
`;return function(){var dt=new Error("get-stack-trace"),Nt=dt&&dt.stack?dt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Wt=t.console&&(t.console.warn||t.console.log);return Wt&&Wt.call(t.console,K,Nt),M.apply(this,arguments)}}var S;typeof Object.assign!="function"?S=function(T){if(T===r||T===null)throw new TypeError("Cannot convert undefined or null to object");for(var R=Object(T),K=1;K<arguments.length;K++){var dt=arguments[K];if(dt!==r&&dt!==null)for(var Nt in dt)dt.hasOwnProperty(Nt)&&(R[Nt]=dt[Nt])}return R}:S=Object.assign;var N=k(function(T,R,K){for(var dt=Object.keys(R),Nt=0;Nt<dt.length;)(!K||K&&T[dt[Nt]]===r)&&(T[dt[Nt]]=R[dt[Nt]]),Nt++;return T},"extend","Use `assign`."),j=k(function(T,R){return N(T,R,!0)},"merge","Use `assign`.");function E(M,T,R){var K=T.prototype,dt;dt=M.prototype=Object.create(K),dt.constructor=M,dt._super=K,R&&S(dt,R)}function D(M,T){return function(){return M.apply(T,arguments)}}function U(M,T){return typeof M==u?M.apply(T&&T[0]||r,T):M}function A(M,T){return M===r?T:M}function F(M,T,R){v(et(T),function(K){M.addEventListener(K,R,!1)})}function H(M,T,R){v(et(T),function(K){M.removeEventListener(K,R,!1)})}function X(M,T){for(;M;){if(M==T)return!0;M=M.parentNode}return!1}function P(M,T){return M.indexOf(T)>-1}function et(M){return M.trim().split(/\s+/g)}function Q(M,T,R){if(M.indexOf&&!R)return M.indexOf(T);for(var K=0;K<M.length;){if(R&&M[K][R]==T||!R&&M[K]===T)return K;K++}return-1}function J(M){return Array.prototype.slice.call(M,0)}function it(M,T,R){for(var K=[],dt=[],Nt=0;Nt<M.length;){var Wt=M[Nt][T];Q(dt,Wt)<0&&K.push(M[Nt]),dt[Nt]=Wt,Nt++}return K=K.sort(function(an,We){return an[T]>We[T]}),K}function st(M,T){for(var R,K,dt=T[0].toUpperCase()+T.slice(1),Nt=0;Nt<l.length;){if(R=l[Nt],K=R?R+dt:T,K in M)return K;Nt++}return r}var ut=1;function V(){return ut++}function Y(M){var T=M.ownerDocument||M;return T.defaultView||T.parentWindow||t}var ot=/mobile|tablet|ip(ad|hone|od)|android/i,ft="ontouchstart"in t,bt=st(t,"PointerEvent")!==r,O=ft&&ot.test(navigator.userAgent),L="touch",$="pen",lt="mouse",xt="kinect",gt=25,ht=1,Tt=2,wt=4,kt=8,ct=1,vt=2,yt=4,St=8,zt=16,Ht=vt|yt,Bt=St|zt,Oe=Ht|Bt,fn=["x","y"],_e=["clientX","clientY"];function re(M,T){var R=this;this.manager=M,this.callback=T,this.element=M.element,this.target=M.options.inputTarget,this.domHandler=function(K){U(M.options.enable,[M])&&R.handler(K)},this.init()}re.prototype={handler:function(){},init:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(Y(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&H(this.element,this.evEl,this.domHandler),this.evTarget&&H(this.target,this.evTarget,this.domHandler),this.evWin&&H(Y(this.element),this.evWin,this.domHandler)}};function Dn(M){var T,R=M.options.inputClass;return R?T=R:bt?T=Pt:O?T=be:ft?T=nn:T=Ci,new T(M,ae)}function ae(M,T,R){var K=R.pointers.length,dt=R.changedPointers.length,Nt=T&ht&&K-dt===0,Wt=T&(wt|kt)&&K-dt===0;R.isFirst=!!Nt,R.isFinal=!!Wt,Nt&&(M.session={}),R.eventType=T,Vt(M,R),M.emit("hammer.input",R),M.recognize(R),M.session.prevInput=R}function Vt(M,T){var R=M.session,K=T.pointers,dt=K.length;R.firstInput||(R.firstInput=tn(T)),dt>1&&!R.firstMultiple?R.firstMultiple=tn(T):dt===1&&(R.firstMultiple=!1);var Nt=R.firstInput,Wt=R.firstMultiple,$e=Wt?Wt.center:Nt.center,an=T.center=Ne(K);T.timeStamp=m(),T.deltaTime=T.timeStamp-Nt.timeStamp,T.angle=Te($e,an),T.distance=He($e,an),Zn(R,T),T.offsetDirection=vn(T.deltaX,T.deltaY);var We=cn(T.deltaTime,T.deltaX,T.deltaY);T.overallVelocityX=We.x,T.overallVelocityY=We.y,T.overallVelocity=f(We.x)>f(We.y)?We.x:We.y,T.scale=Wt?en(Wt.pointers,K):1,T.rotation=Wt?di(Wt.pointers,K):0,T.maxPointers=R.prevInput?T.pointers.length>R.prevInput.maxPointers?T.pointers.length:R.prevInput.maxPointers:T.pointers.length,Kn(R,T);var Ge=M.element;X(T.srcEvent.target,Ge)&&(Ge=T.srcEvent.target),T.target=Ge}function Zn(M,T){var R=T.center,K=M.offsetDelta||{},dt=M.prevDelta||{},Nt=M.prevInput||{};(T.eventType===ht||Nt.eventType===wt)&&(dt=M.prevDelta={x:Nt.deltaX||0,y:Nt.deltaY||0},K=M.offsetDelta={x:R.x,y:R.y}),T.deltaX=dt.x+(R.x-K.x),T.deltaY=dt.y+(R.y-K.y)}function Kn(M,T){var R=M.lastInterval||T,K=T.timeStamp-R.timeStamp,dt,Nt,Wt,$e;if(T.eventType!=kt&&(K>gt||R.velocity===r)){var an=T.deltaX-R.deltaX,We=T.deltaY-R.deltaY,Ge=cn(K,an,We);Nt=Ge.x,Wt=Ge.y,dt=f(Ge.x)>f(Ge.y)?Ge.x:Ge.y,$e=vn(an,We),M.lastInterval=T}else dt=R.velocity,Nt=R.velocityX,Wt=R.velocityY,$e=R.direction;T.velocity=dt,T.velocityX=Nt,T.velocityY=Wt,T.direction=$e}function tn(M){for(var T=[],R=0;R<M.pointers.length;)T[R]={clientX:h(M.pointers[R].clientX),clientY:h(M.pointers[R].clientY)},R++;return{timeStamp:m(),pointers:T,center:Ne(T),deltaX:M.deltaX,deltaY:M.deltaY}}function Ne(M){var T=M.length;if(T===1)return{x:h(M[0].clientX),y:h(M[0].clientY)};for(var R=0,K=0,dt=0;dt<T;)R+=M[dt].clientX,K+=M[dt].clientY,dt++;return{x:h(R/T),y:h(K/T)}}function cn(M,T,R){return{x:T/M||0,y:R/M||0}}function vn(M,T){return M===T?ct:f(M)>=f(T)?M<0?vt:yt:T<0?St:zt}function He(M,T,R){R||(R=fn);var K=T[R[0]]-M[R[0]],dt=T[R[1]]-M[R[1]];return Math.sqrt(K*K+dt*dt)}function Te(M,T,R){R||(R=fn);var K=T[R[0]]-M[R[0]],dt=T[R[1]]-M[R[1]];return Math.atan2(dt,K)*180/Math.PI}function di(M,T){return Te(T[1],T[0],_e)+Te(M[1],M[0],_e)}function en(M,T){return He(T[0],T[1],_e)/He(M[0],M[1],_e)}var wn={mousedown:ht,mousemove:Tt,mouseup:wt},Ve="mousedown",mr="mousemove mouseup";function Ci(){this.evEl=Ve,this.evWin=mr,this.pressed=!1,re.apply(this,arguments)}E(Ci,re,{handler:function(T){var R=wn[T.type];R&ht&&T.button===0&&(this.pressed=!0),R&Tt&&T.which!==1&&(R=wt),this.pressed&&(R&wt&&(this.pressed=!1),this.callback(this.manager,R,{pointers:[T],changedPointers:[T],pointerType:lt,srcEvent:T}))}});var pr={pointerdown:ht,pointermove:Tt,pointerup:wt,pointercancel:kt,pointerout:kt},q={2:L,3:$,4:lt,5:xt},Yt="pointerdown",_t="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Yt="MSPointerDown",_t="MSPointerMove MSPointerUp MSPointerCancel");function Pt(){this.evEl=Yt,this.evWin=_t,re.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E(Pt,re,{handler:function(T){var R=this.store,K=!1,dt=T.type.toLowerCase().replace("ms",""),Nt=pr[dt],Wt=q[T.pointerType]||T.pointerType,$e=Wt==L,an=Q(R,T.pointerId,"pointerId");Nt&ht&&(T.button===0||$e)?an<0&&(R.push(T),an=R.length-1):Nt&(wt|kt)&&(K=!0),!(an<0)&&(R[an]=T,this.callback(this.manager,Nt,{pointers:R,changedPointers:[T],pointerType:Wt,srcEvent:T}),K&&R.splice(an,1))}});var Xt={touchstart:ht,touchmove:Tt,touchend:wt,touchcancel:kt},ue="touchstart",ze="touchstart touchmove touchend touchcancel";function Ue(){this.evTarget=ue,this.evWin=ze,this.started=!1,re.apply(this,arguments)}E(Ue,re,{handler:function(T){var R=Xt[T.type];if(R===ht&&(this.started=!0),!!this.started){var K=Ut.call(this,T,R);R&(wt|kt)&&K[0].length-K[1].length===0&&(this.started=!1),this.callback(this.manager,R,{pointers:K[0],changedPointers:K[1],pointerType:L,srcEvent:T})}}});function Ut(M,T){var R=J(M.touches),K=J(M.changedTouches);return T&(wt|kt)&&(R=it(R.concat(K),"identifier")),[R,K]}var An={touchstart:ht,touchmove:Tt,touchend:wt,touchcancel:kt},Ot="touchstart touchmove touchend touchcancel";function be(){this.evTarget=Ot,this.targetIds={},re.apply(this,arguments)}E(be,re,{handler:function(T){var R=An[T.type],K=Sn.call(this,T,R);K&&this.callback(this.manager,R,{pointers:K[0],changedPointers:K[1],pointerType:L,srcEvent:T})}});function Sn(M,T){var R=J(M.touches),K=this.targetIds;if(T&(ht|Tt)&&R.length===1)return K[R[0].identifier]=!0,[R,R];var dt,Nt,Wt=J(M.changedTouches),$e=[],an=this.target;if(Nt=R.filter(function(We){return X(We.target,an)}),T===ht)for(dt=0;dt<Nt.length;)K[Nt[dt].identifier]=!0,dt++;for(dt=0;dt<Wt.length;)K[Wt[dt].identifier]&&$e.push(Wt[dt]),T&(wt|kt)&&delete K[Wt[dt].identifier],dt++;if($e.length)return[it(Nt.concat($e),"identifier"),$e]}var Rn=2500,kn=25;function nn(){re.apply(this,arguments);var M=D(this.handler,this);this.touch=new be(this.manager,M),this.mouse=new Ci(this.manager,M),this.primaryTouch=null,this.lastTouches=[]}E(nn,re,{handler:function(T,R,K){var dt=K.pointerType==L,Nt=K.pointerType==lt;if(!(Nt&&K.sourceCapabilities&&K.sourceCapabilities.firesTouchEvents)){if(dt)sn.call(this,R,K);else if(Nt&&xe.call(this,K))return;this.callback(T,R,K)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function sn(M,T){M&ht?(this.primaryTouch=T.changedPointers[0].identifier,Ft.call(this,T)):M&(wt|kt)&&Ft.call(this,T)}function Ft(M){var T=M.changedPointers[0];if(T.identifier===this.primaryTouch){var R={x:T.clientX,y:T.clientY};this.lastTouches.push(R);var K=this.lastTouches,dt=function(){var Nt=K.indexOf(R);Nt>-1&&K.splice(Nt,1)};setTimeout(dt,Rn)}}function xe(M){for(var T=M.srcEvent.clientX,R=M.srcEvent.clientY,K=0;K<this.lastTouches.length;K++){var dt=this.lastTouches[K],Nt=Math.abs(T-dt.x),Wt=Math.abs(R-dt.y);if(Nt<=kn&&Wt<=kn)return!0}return!1}var le=st(c.style,"touchAction"),fe=le!==r,Jn="compute",ts="auto",Cs="manipulation",Ei="none",Ti="pan-x",_n="pan-y",Vi=Ui();function Le(M,T){this.manager=M,this.set(T)}Le.prototype={set:function(M){M==Jn&&(M=this.compute()),fe&&this.manager.element.style&&Vi[M]&&(this.manager.element.style[le]=M),this.actions=M.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var M=[];return v(this.manager.recognizers,function(T){U(T.options.enable,[T])&&(M=M.concat(T.getTouchAction()))}),De(M.join(" "))},preventDefaults:function(M){var T=M.srcEvent,R=M.offsetDirection;if(this.manager.session.prevented){T.preventDefault();return}var K=this.actions,dt=P(K,Ei)&&!Vi[Ei],Nt=P(K,_n)&&!Vi[_n],Wt=P(K,Ti)&&!Vi[Ti];if(dt){var $e=M.pointers.length===1,an=M.distance<2,We=M.deltaTime<250;if($e&&an&&We)return}if(!(Wt&&Nt)&&(dt||Nt&&R&Ht||Wt&&R&Bt))return this.preventSrc(T)},preventSrc:function(M){this.manager.session.prevented=!0,M.preventDefault()}};function De(M){if(P(M,Ei))return Ei;var T=P(M,Ti),R=P(M,_n);return T&&R?Ei:T||R?T?Ti:_n:P(M,Cs)?Cs:ts}function Ui(){if(!fe)return!1;var M={},T=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(R){M[R]=T?t.CSS.supports("touch-action",R):!0}),M}var Bn=1,$t=2,Di=4,ti=8,rn=ti,Nn=16,Ae=32;function jn(M){this.options=S({},this.defaults,M||{}),this.id=V(),this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=Bn,this.simultaneous={},this.requireFail=[]}jn.prototype={defaults:{},set:function(M){return S(this.options,M),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(M){if(y(M,"recognizeWith",this))return this;var T=this.simultaneous;return M=Et(M,this),T[M.id]||(T[M.id]=M,M.recognizeWith(this)),this},dropRecognizeWith:function(M){return y(M,"dropRecognizeWith",this)?this:(M=Et(M,this),delete this.simultaneous[M.id],this)},requireFailure:function(M){if(y(M,"requireFailure",this))return this;var T=this.requireFail;return M=Et(M,this),Q(T,M)===-1&&(T.push(M),M.requireFailure(this)),this},dropRequireFailure:function(M){if(y(M,"dropRequireFailure",this))return this;M=Et(M,this);var T=Q(this.requireFail,M);return T>-1&&this.requireFail.splice(T,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(M){return!!this.simultaneous[M.id]},emit:function(M){var T=this,R=this.state;function K(dt){T.manager.emit(dt,M)}R<ti&&K(T.options.event+Es(R)),K(T.options.event),M.additionalEvent&&K(M.additionalEvent),R>=ti&&K(T.options.event+Es(R))},tryEmit:function(M){if(this.canEmit())return this.emit(M);this.state=Ae},canEmit:function(){for(var M=0;M<this.requireFail.length;){if(!(this.requireFail[M].state&(Ae|Bn)))return!1;M++}return!0},recognize:function(M){var T=S({},M);if(!U(this.options.enable,[this,T])){this.reset(),this.state=Ae;return}this.state&(rn|Nn|Ae)&&(this.state=Bn),this.state=this.process(T),this.state&($t|Di|ti|Nn)&&this.tryEmit(T)},process:function(M){},getTouchAction:function(){},reset:function(){}};function Es(M){return M&Nn?"cancel":M&ti?"end":M&Di?"move":M&$t?"start":""}function mt(M){return M==zt?"down":M==St?"up":M==vt?"left":M==yt?"right":""}function Et(M,T){var R=T.manager;return R?R.get(M):M}function Mt(){jn.apply(this,arguments)}E(Mt,jn,{defaults:{pointers:1},attrTest:function(M){var T=this.options.pointers;return T===0||M.pointers.length===T},process:function(M){var T=this.state,R=M.eventType,K=T&($t|Di),dt=this.attrTest(M);return K&&(R&kt||!dt)?T|Nn:K||dt?R&wt?T|ti:T&$t?T|Di:$t:Ae}});function ee(){Mt.apply(this,arguments),this.pX=null,this.pY=null}E(ee,Mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oe},getTouchAction:function(){var M=this.options.direction,T=[];return M&Ht&&T.push(_n),M&Bt&&T.push(Ti),T},directionTest:function(M){var T=this.options,R=!0,K=M.distance,dt=M.direction,Nt=M.deltaX,Wt=M.deltaY;return dt&T.direction||(T.direction&Ht?(dt=Nt===0?ct:Nt<0?vt:yt,R=Nt!=this.pX,K=Math.abs(M.deltaX)):(dt=Wt===0?ct:Wt<0?St:zt,R=Wt!=this.pY,K=Math.abs(M.deltaY))),M.direction=dt,R&&K>T.threshold&&dt&T.direction},attrTest:function(M){return Mt.prototype.attrTest.call(this,M)&&(this.state&$t||!(this.state&$t)&&this.directionTest(M))},emit:function(M){this.pX=M.deltaX,this.pY=M.deltaY;var T=mt(M.direction);T&&(M.additionalEvent=this.options.event+T),this._super.emit.call(this,M)}});function Fe(){Mt.apply(this,arguments)}E(Fe,Mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ei]},attrTest:function(M){return this._super.attrTest.call(this,M)&&(Math.abs(M.scale-1)>this.options.threshold||this.state&$t)},emit:function(M){if(M.scale!==1){var T=M.scale<1?"in":"out";M.additionalEvent=this.options.event+T}this._super.emit.call(this,M)}});function es(){jn.apply(this,arguments),this._timer=null,this._input=null}E(es,jn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ts]},process:function(M){var T=this.options,R=M.pointers.length===T.pointers,K=M.distance<T.threshold,dt=M.deltaTime>T.time;if(this._input=M,!K||!R||M.eventType&(wt|kt)&&!dt)this.reset();else if(M.eventType&ht)this.reset(),this._timer=b(function(){this.state=rn,this.tryEmit()},T.time,this);else if(M.eventType&wt)return rn;return Ae},reset:function(){clearTimeout(this._timer)},emit:function(M){this.state===rn&&(M&&M.eventType&wt?this.manager.emit(this.options.event+"up",M):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function Fi(){Mt.apply(this,arguments)}E(Fi,Mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ei]},attrTest:function(M){return this._super.attrTest.call(this,M)&&(Math.abs(M.rotation)>this.options.threshold||this.state&$t)}});function ei(){Mt.apply(this,arguments)}E(ei,Mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ht|Bt,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(M){var T=this.options.direction,R;return T&(Ht|Bt)?R=M.overallVelocity:T&Ht?R=M.overallVelocityX:T&Bt&&(R=M.overallVelocityY),this._super.attrTest.call(this,M)&&T&M.offsetDirection&&M.distance>this.options.threshold&&M.maxPointers==this.options.pointers&&f(R)>this.options.velocity&&M.eventType&wt},emit:function(M){var T=mt(M.offsetDirection);T&&this.manager.emit(this.options.event+T,M),this.manager.emit(this.options.event,M)}});function Ts(){jn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}E(Ts,jn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Cs]},process:function(M){var T=this.options,R=M.pointers.length===T.pointers,K=M.distance<T.threshold,dt=M.deltaTime<T.time;if(this.reset(),M.eventType&ht&&this.count===0)return this.failTimeout();if(K&&dt&&R){if(M.eventType!=wt)return this.failTimeout();var Nt=this.pTime?M.timeStamp-this.pTime<T.interval:!0,Wt=!this.pCenter||He(this.pCenter,M.center)<T.posThreshold;this.pTime=M.timeStamp,this.pCenter=M.center,!Wt||!Nt?this.count=1:this.count+=1,this._input=M;var $e=this.count%T.taps;if($e===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=rn,this.tryEmit()},T.interval,this),$t):rn}return Ae},failTimeout:function(){return this._timer=b(function(){this.state=Ae},this.options.interval,this),Ae},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ni(M,T){return T=T||{},T.recognizers=A(T.recognizers,ni.defaults.preset),new br(M,T)}ni.VERSION="2.0.7",ni.defaults={domEvents:!1,touchAction:Jn,enable:!0,inputTarget:null,inputClass:null,preset:[[Fi,{enable:!1}],[Fe,{enable:!1},["rotate"]],[ei,{direction:Ht}],[ee,{direction:Ht},["swipe"]],[Ts],[Ts,{event:"doubletap",taps:2},["tap"]],[es]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var jh=1,On=2;function br(M,T){this.options=S({},ni.defaults,T||{}),this.options.inputTarget=this.options.inputTarget||M,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=M,this.input=Dn(this),this.touchAction=new Le(this,this.options.touchAction),nl(this,!0),v(this.options.recognizers,function(R){var K=this.add(new R[0](R[1]));R[2]&&K.recognizeWith(R[2]),R[3]&&K.requireFailure(R[3])},this)}br.prototype={set:function(M){return S(this.options,M),M.touchAction&&this.touchAction.update(),M.inputTarget&&(this.input.destroy(),this.input.target=M.inputTarget,this.input.init()),this},stop:function(M){this.session.stopped=M?On:jh},recognize:function(M){var T=this.session;if(!T.stopped){this.touchAction.preventDefaults(M);var R,K=this.recognizers,dt=T.curRecognizer;(!dt||dt&&dt.state&rn)&&(dt=T.curRecognizer=null);for(var Nt=0;Nt<K.length;)R=K[Nt],T.stopped!==On&&(!dt||R==dt||R.canRecognizeWith(dt))?R.recognize(M):R.reset(),!dt&&R.state&($t|Di|ti)&&(dt=T.curRecognizer=R),Nt++}},get:function(M){if(M instanceof jn)return M;for(var T=this.recognizers,R=0;R<T.length;R++)if(T[R].options.event==M)return T[R];return null},add:function(M){if(y(M,"add",this))return this;var T=this.get(M.options.event);return T&&this.remove(T),this.recognizers.push(M),M.manager=this,this.touchAction.update(),M},remove:function(M){if(y(M,"remove",this))return this;if(M=this.get(M),M){var T=this.recognizers,R=Q(T,M);R!==-1&&(T.splice(R,1),this.touchAction.update())}return this},on:function(M,T){if(M!==r&&T!==r){var R=this.handlers;return v(et(M),function(K){R[K]=R[K]||[],R[K].push(T)}),this}},off:function(M,T){if(M!==r){var R=this.handlers;return v(et(M),function(K){T?R[K]&&R[K].splice(Q(R[K],T),1):delete R[K]}),this}},emit:function(M,T){this.options.domEvents&&il(M,T);var R=this.handlers[M]&&this.handlers[M].slice();if(!(!R||!R.length)){T.type=M,T.preventDefault=function(){T.srcEvent.preventDefault()};for(var K=0;K<R.length;)R[K](T),K++}},destroy:function(){this.element&&nl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function nl(M,T){var R=M.element;if(R.style){var K;v(M.options.cssProps,function(dt,Nt){K=st(R.style,Nt),T?(M.oldCssProps[K]=R.style[K],R.style[K]=dt):R.style[K]=M.oldCssProps[K]||""}),T||(M.oldCssProps={})}}function il(M,T){var R=e.createEvent("Event");R.initEvent(M,!0,!0),R.gesture=T,T.target.dispatchEvent(R)}S(ni,{INPUT_START:ht,INPUT_MOVE:Tt,INPUT_END:wt,INPUT_CANCEL:kt,STATE_POSSIBLE:Bn,STATE_BEGAN:$t,STATE_CHANGED:Di,STATE_ENDED:ti,STATE_RECOGNIZED:rn,STATE_CANCELLED:Nn,STATE_FAILED:Ae,DIRECTION_NONE:ct,DIRECTION_LEFT:vt,DIRECTION_RIGHT:yt,DIRECTION_UP:St,DIRECTION_DOWN:zt,DIRECTION_HORIZONTAL:Ht,DIRECTION_VERTICAL:Bt,DIRECTION_ALL:Oe,Manager:br,Input:re,TouchAction:Le,TouchInput:be,MouseInput:Ci,PointerEventInput:Pt,TouchMouseInput:nn,SingleTouchInput:Ue,Recognizer:jn,AttrRecognizer:Mt,Tap:Ts,Pan:ee,Swipe:ei,Pinch:Fe,Rotate:Fi,Press:es,on:F,off:H,each:v,merge:j,extend:N,assign:S,inherit:E,bindFn:D,prefixed:st});var Ds=typeof t<"u"?t:typeof self<"u"?self:{};Ds.Hammer=ni,n.exports?n.exports=ni:t[i]=ni})(window,document,"Hammer")})(a0)),a0.exports}var OT=RT();const go=T1(OT);const Do=n=>n&&n.enabled&&n.modifierKey,Sw=(n,t)=>n&&t[n+"Key"],zg=(n,t)=>n&&!t[n+"Key"];function dr(n,t,e){return n===void 0?!0:typeof n=="string"?n.indexOf(t)!==-1:typeof n=="function"?n({chart:e}).indexOf(t)!==-1:!1}function l0(n,t){return typeof n=="function"&&(n=n({chart:t})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function zT(n,t){let e;return function(){return clearTimeout(e),e=setTimeout(n,t),t}}function LT({x:n,y:t},e){const i=e.scales,r=Object.keys(i);for(let l=0;l<r.length;l++){const c=i[r[l]];if(t>=c.top&&t<=c.bottom&&n>=c.left&&n<=c.right)return c}return null}function kw(n,t,e){const{mode:i="xy",scaleMode:r,overScaleMode:l}=n||{},c=LT(t,e),u=l0(i,e),h=l0(r,e);if(l){const m=l0(l,e);for(const b of["x","y"])m[b]&&(h[b]=u[b],u[b]=!1)}if(c&&h[c.axis])return[c];const f=[];return Kt(e.scales,function(m){u[m.axis]&&f.push(m)}),f}const U0=new WeakMap;function Re(n){let t=U0.get(n);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},U0.set(n,t)),t}function PT(n){U0.delete(n)}function _w(n,t,e,i){const r=Math.max(0,Math.min(1,(n-t)/e||0)),l=1-r;return{min:i*r,max:i*l}}function Nw(n,t){const e=n.isHorizontal()?t.x:t.y;return n.getValueForPixel(e)}function jw(n,t,e){const i=n.max-n.min,r=i*(t-1),l=Nw(n,e);return _w(l,n.min,i,r)}function BT(n,t,e){const i=Nw(n,e);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),l=Math.log10(n.max),c=Math.log10(i),u=l-r,h=u*(t-1),f=_w(c,r,u,h);return{min:Math.pow(10,r+f.min),max:Math.pow(10,l-f.max)}}function HT(n,t){return t&&(t[n.id]||t[n.axis])||{}}function vv(n,t,e,i,r){let l=e[i];if(l==="original"){const c=n.originalScaleLimits[t.id][i];l=At(c.options,c.scale)}return At(l,r)}function VT(n,t,e){const i=n.getValueForPixel(t),r=n.getValueForPixel(e);return{min:Math.min(i,r),max:Math.max(i,r)}}function UT(n,{min:t,max:e,minLimit:i,maxLimit:r},l){const c=(n-e+t)/2;t-=c,e+=c;const u=l.min.options??l.min.scale,h=l.max.options??l.max.scale,f=n/1e6;return Fr(t,u,f)&&(t=u),Fr(e,h,f)&&(e=h),t<i?(t=i,e=Math.min(i+n,r)):e>r&&(e=r,t=Math.max(r-n,i)),{min:t,max:e}}function Qr(n,{min:t,max:e},i,r=!1){const l=Re(n.chart),{options:c}=n,u=HT(n,i),{minRange:h=0}=u,f=vv(l,n,u,"min",-1/0),m=vv(l,n,u,"max",1/0);if(r==="pan"&&(t<f||e>m))return!0;const b=n.max-n.min,y=r?Math.max(e-t,h):b;if(r&&y===h&&b<=h)return!0;const v=UT(y,{min:t,max:e,minLimit:f,maxLimit:m},l.originalScaleLimits[n.id]);return c.min=v.min,c.max=v.max,l.updatedScaleLimits[n.id]=v,n.parse(v.min)!==n.min||n.parse(v.max)!==n.max}function FT(n,t,e,i){const r=jw(n,t,e),l={min:n.min+r.min,max:n.max-r.max};return Qr(n,l,i,!0)}function IT(n,t,e,i){const r=BT(n,t,e);return Qr(n,r,i,!0)}function YT(n,t,e,i){Qr(n,VT(n,t,e),i,!0)}const wv=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function qT(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}function $T(n,t,e,i){const r=jw(n,t,e);n.min===n.max&&t<1&&qT(n);const l={min:n.min+wv(r.min),max:n.max-wv(r.max)};return Qr(n,l,i,!0)}function WT(n){return n.isHorizontal()?n.width:n.height}function GT(n,t,e){const r=n.getLabels().length-1;let{min:l,max:c}=n;const u=Math.max(c-l,1),h=Math.round(WT(n)/Math.max(u,10)),f=Math.round(Math.abs(t/h));let m;return t<-h?(c=Math.min(c+f,r),l=u===1?c:c-u,m=c===r):t>h&&(l=Math.max(0,l-f),c=u===1?l:l+u,m=l===0),Qr(n,{min:l,max:c},e)||m}const XT={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function Mw(n,t,e,i=!1){const{min:r,max:l,options:c}=n,u=c.time&&c.time.round,h=XT[u]||0,f=n.getValueForPixel(n.getPixelForValue(r+h)-t),m=n.getValueForPixel(n.getPixelForValue(l+h)-t);return isNaN(f)||isNaN(m)?!0:Qr(n,{min:f,max:m},e,i?"pan":!1)}function Sv(n,t,e){return Mw(n,t,e,!0)}const F0={category:$T,default:FT,logarithmic:IT},I0={default:YT},Y0={category:GT,default:Mw,logarithmic:Sv,timeseries:Sv};function QT(n,t,e){const{id:i,options:{min:r,max:l}}=n;if(!t[i]||!e[i])return!0;const c=e[i];return c.min!==r||c.max!==l}function kv(n,t){Kt(n,(e,i)=>{t[i]||delete n[i]})}function el(n,t){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:r}=t;return Kt(e,function(l){QT(l,i,r)&&(i[l.id]={min:{scale:l.min,options:l.options.min},max:{scale:l.max,options:l.options.max}})}),kv(i,e),kv(r,e),i}function _v(n,t,e,i){const r=F0[n.type]||F0.default;Lt(r,[n,t,e,i])}function Nv(n,t,e,i){const r=I0[n.type]||I0.default;Lt(r,[n,t,e,i])}function ZT(n){const t=n.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Lg(n,t,e="none",i="api"){const{x:r=1,y:l=1,focalPoint:c=ZT(n)}=typeof t=="number"?{x:t,y:t}:t,u=Re(n),{options:{limits:h,zoom:f}}=u;el(n,u);const m=r!==1,b=l!==1,y=kw(f,c,n);Kt(y||n.scales,function(v){v.isHorizontal()&&m?_v(v,r,c,h):!v.isHorizontal()&&b&&_v(v,l,c,h)}),n.update(e),Lt(f.onZoom,[{chart:n,trigger:i}])}function Cw(n,t,e,i="none",r="api"){const l=Re(n),{options:{limits:c,zoom:u}}=l,{mode:h="xy"}=u;el(n,l);const f=dr(h,"x",n),m=dr(h,"y",n);Kt(n.scales,function(b){b.isHorizontal()&&f?Nv(b,t.x,e.x,c):!b.isHorizontal()&&m&&Nv(b,t.y,e.y,c)}),n.update(i),Lt(u.onZoom,[{chart:n,trigger:r}])}function KT(n,t,e,i="none",r="api"){const l=Re(n);el(n,l);const c=n.scales[t];Qr(c,e,void 0,!0),n.update(i),Lt(l.options.zoom?.onZoom,[{chart:n,trigger:r}])}function JT(n,t="default"){const e=Re(n),i=el(n,e);Kt(n.scales,function(r){const l=r.options;i[r.id]?(l.min=i[r.id].min.options,l.max=i[r.id].max.options):(delete l.min,delete l.max),delete e.updatedScaleLimits[r.id]}),n.update(t),Lt(e.options.zoom.onZoomComplete,[{chart:n}])}function t5(n,t){const e=n.originalScaleLimits[t];if(!e)return;const{min:i,max:r}=e;return At(r.options,r.scale)-At(i.options,i.scale)}function e5(n){const t=Re(n);let e=1,i=1;return Kt(n.scales,function(r){const l=t5(t,r.id);if(l){const c=Math.round(l/(r.max-r.min)*100)/100;e=Math.min(e,c),i=Math.max(i,c)}}),e<1?e:i}function jv(n,t,e,i){const{panDelta:r}=i,l=r[n.id]||0;Ni(l)===Ni(t)&&(t+=l);const c=Y0[n.type]||Y0.default;Lt(c,[n,t,e])?r[n.id]=0:r[n.id]=t}function Ew(n,t,e,i="none"){const{x:r=0,y:l=0}=typeof t=="number"?{x:t,y:t}:t,c=Re(n),{options:{pan:u,limits:h}}=c,{onPan:f}=u||{};el(n,c);const m=r!==0,b=l!==0;Kt(e||n.scales,function(y){y.isHorizontal()&&m?jv(y,r,h,c):!y.isHorizontal()&&b&&jv(y,l,h,c)}),n.update(i),Lt(f,[{chart:n}])}function Tw(n){const t=Re(n);el(n,t);const e={};for(const i of Object.keys(n.scales)){const{min:r,max:l}=t.originalScaleLimits[i]||{min:{},max:{}};e[i]={min:r.scale,max:l.scale}}return e}function n5(n){const t=Re(n),e={};for(const i of Object.keys(n.scales))e[i]=t.updatedScaleLimits[i];return e}function i5(n){const t=Tw(n);for(const e of Object.keys(n.scales)){const{min:i,max:r}=t[e];if(i!==void 0&&n.scales[e].min!==i||r!==void 0&&n.scales[e].max!==r)return!0}return!1}function Mv(n){const t=Re(n);return t.panning||t.dragging}const Cv=(n,t,e)=>Math.min(e,Math.max(t,n));function Wn(n,t){const{handlers:e}=Re(n),i=e[t];i&&i.target&&(i.target.removeEventListener(t,i),delete e[t])}function mo(n,t,e,i){const{handlers:r,options:l}=Re(n),c=r[e];if(c&&c.target===t)return;Wn(n,e),r[e]=h=>i(n,h,l),r[e].target=t;const u=e==="wheel"?!1:void 0;t.addEventListener(e,r[e],{passive:u})}function s5(n,t){const e=Re(n);e.dragStart&&(e.dragging=!0,e.dragEnd=t,n.update("none"))}function r5(n,t){const e=Re(n);!e.dragStart||t.key!=="Escape"||(Wn(n,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,n.update("none"))}function q0(n,t){if(n.target!==t.canvas){const e=t.canvas.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}return Ki(n,t)}function Dw(n,t,e){const{onZoomStart:i,onZoomRejected:r}=e;if(i){const l=q0(t,n);if(Lt(i,[{chart:n,event:t,point:l}])===!1)return Lt(r,[{chart:n,event:t}]),!1}}function a5(n,t){if(n.legend){const l=Ki(t,n);if(Va(l,n.legend))return}const e=Re(n),{pan:i,zoom:r={}}=e.options;if(t.button!==0||Sw(Do(i),t)||zg(Do(r.drag),t))return Lt(r.onZoomRejected,[{chart:n,event:t}]);Dw(n,t,r)!==!1&&(e.dragStart=t,mo(n,n.canvas.ownerDocument,"mousemove",s5),mo(n,window.document,"keydown",r5))}function l5({begin:n,end:t},e){let i=t.x-n.x,r=t.y-n.y;const l=Math.abs(i/r);l>e?i=Math.sign(i)*Math.abs(r*e):l<e&&(r=Math.sign(r)*Math.abs(i/e)),t.x=n.x+i,t.y=n.y+r}function Ev(n,t,e,{min:i,max:r,prop:l}){n[i]=Cv(Math.min(e.begin[l],e.end[l]),t[i],t[r]),n[r]=Cv(Math.max(e.begin[l],e.end[l]),t[i],t[r])}function o5(n,t,e){const i={begin:q0(t.dragStart,n),end:q0(t.dragEnd,n)};if(e){const r=n.chartArea.width/n.chartArea.height;l5(i,r)}return i}function Aw(n,t,e,i){const r=dr(t,"x",n),l=dr(t,"y",n),{top:c,left:u,right:h,bottom:f,width:m,height:b}=n.chartArea,y={top:c,left:u,right:h,bottom:f},v=o5(n,e,i&&r&&l);r&&Ev(y,n.chartArea,v,{min:"left",max:"right",prop:"x"}),l&&Ev(y,n.chartArea,v,{min:"top",max:"bottom",prop:"y"});const k=y.right-y.left,S=y.bottom-y.top;return{...y,width:k,height:S,zoomX:r&&k?1+(m-k)/m:1,zoomY:l&&S?1+(b-S)/b:1}}function c5(n,t){const e=Re(n);if(!e.dragStart)return;Wn(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:l=0,maintainAspectRatio:c}}=e.options.zoom,u=Aw(n,i,{dragStart:e.dragStart,dragEnd:t},c),h=dr(i,"x",n)?u.width:0,f=dr(i,"y",n)?u.height:0,m=Math.sqrt(h*h+f*f);if(e.dragStart=e.dragEnd=null,m<=l){e.dragging=!1,n.update("none");return}Cw(n,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),e.dragging=!1,e.filterNextClick=!0,Lt(r,[{chart:n}])}function u5(n,t,e){if(zg(Do(e.wheel),t)){Lt(e.onZoomRejected,[{chart:n,event:t}]);return}if(Dw(n,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function h5(n,t){const{handlers:{onZoomComplete:e},options:{zoom:i}}=Re(n);if(!u5(n,t,i))return;const r=t.target.getBoundingClientRect(),l=i.wheel.speed,c=t.deltaY>=0?2-1/(1-l):1+l,u={x:c,y:c,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};Lg(n,u,"zoom","wheel"),Lt(e,[{chart:n}])}function d5(n,t,e,i){e&&(Re(n).handlers[t]=zT(()=>Lt(e,[{chart:n}]),i))}function f5(n,t){const e=n.canvas,{wheel:i,drag:r,onZoomComplete:l}=t.zoom;i.enabled?(mo(n,e,"wheel",h5),d5(n,"onZoomComplete",l,250)):Wn(n,"wheel"),r.enabled?(mo(n,e,"mousedown",a5),mo(n,e.ownerDocument,"mouseup",c5)):(Wn(n,"mousedown"),Wn(n,"mousemove"),Wn(n,"mouseup"),Wn(n,"keydown"))}function g5(n){Wn(n,"mousedown"),Wn(n,"mousemove"),Wn(n,"mouseup"),Wn(n,"wheel"),Wn(n,"click"),Wn(n,"keydown")}function m5(n,t){return function(e,i){const{pan:r,zoom:l={}}=t.options;if(!r||!r.enabled)return!1;const c=i&&i.srcEvent;return c&&!t.panning&&i.pointerType==="mouse"&&(zg(Do(r),c)||Sw(Do(l.drag),c))?(Lt(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function p5(n,t){const e=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY),r=e/i;let l,c;return r>.3&&r<1.7?l=c=!0:e>i?l=!0:c=!0,{x:l,y:c}}function Rw(n,t,e){if(t.scale){const{center:i,pointers:r}=e,l=1/t.scale*e.scale,c=e.target.getBoundingClientRect(),u=p5(r[0],r[1]),h=t.options.zoom.mode,f={x:u.x&&dr(h,"x",n)?l:1,y:u.y&&dr(h,"y",n)?l:1,focalPoint:{x:i.x-c.left,y:i.y-c.top}};Lg(n,f,"zoom","pinch"),t.scale=e.scale}}function b5(n,t,e){if(t.options.zoom.pinch.enabled){const i=Ki(e,n);Lt(t.options.zoom.onZoomStart,[{chart:n,event:e,point:i}])===!1?(t.scale=null,Lt(t.options.zoom.onZoomRejected,[{chart:n,event:e}])):t.scale=1}}function x5(n,t,e){t.scale&&(Rw(n,t,e),t.scale=null,Lt(t.options.zoom.onZoomComplete,[{chart:n}]))}function Ow(n,t,e){const i=t.delta;i&&(t.panning=!0,Ew(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function y5(n,t,e){const{enabled:i,onPanStart:r,onPanRejected:l}=t.options.pan;if(!i)return;const c=e.target.getBoundingClientRect(),u={x:e.center.x-c.left,y:e.center.y-c.top};if(Lt(r,[{chart:n,event:e,point:u}])===!1)return Lt(l,[{chart:n,event:e}]);t.panScales=kw(t.options.pan,u,n),t.delta={x:0,y:0},Ow(n,t,e)}function v5(n,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,Lt(t.options.pan.onPanComplete,[{chart:n}]))}const $0=new WeakMap;function Tv(n,t){const e=Re(n),i=n.canvas,{pan:r,zoom:l}=t,c=new go.Manager(i);l&&l.pinch.enabled&&(c.add(new go.Pinch),c.on("pinchstart",u=>b5(n,e,u)),c.on("pinch",u=>Rw(n,e,u)),c.on("pinchend",u=>x5(n,e,u))),r&&r.enabled&&(c.add(new go.Pan({threshold:r.threshold,enable:m5(n,e)})),c.on("panstart",u=>y5(n,e,u)),c.on("panmove",u=>Ow(n,e,u)),c.on("panend",()=>v5(n,e))),$0.set(n,c)}function Dv(n){const t=$0.get(n);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),$0.delete(n))}function w5(n,t){const{pan:e,zoom:i}=n,{pan:r,zoom:l}=t;return i?.zoom?.pinch?.enabled!==l?.zoom?.pinch?.enabled||e?.enabled!==r?.enabled||e?.threshold!==r?.threshold}var S5="2.2.0";function wu(n,t,e){const i=e.zoom.drag,{dragStart:r,dragEnd:l}=Re(n);if(i.drawTime!==t||!l)return;const{left:c,top:u,width:h,height:f}=Aw(n,e.zoom.mode,{dragStart:r,dragEnd:l},i.maintainAspectRatio),m=n.ctx;m.save(),m.beginPath(),m.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",m.fillRect(c,u,h,f),i.borderWidth>0&&(m.lineWidth=i.borderWidth,m.strokeStyle=i.borderColor||"rgba(225,225,225)",m.strokeRect(c,u,h,f)),m.restore()}var zw={id:"zoom",version:S5,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,t,e){const i=Re(n);i.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),go&&Tv(n,e),n.pan=(r,l,c)=>Ew(n,r,l,c),n.zoom=(r,l)=>Lg(n,r,l),n.zoomRect=(r,l,c)=>Cw(n,r,l,c),n.zoomScale=(r,l,c)=>KT(n,r,l,c),n.resetZoom=r=>JT(n,r),n.getZoomLevel=()=>e5(n),n.getInitialScaleBounds=()=>Tw(n),n.getZoomedScaleBounds=()=>n5(n),n.isZoomedOrPanned=()=>i5(n),n.isZoomingOrPanning=()=>Mv(n)},beforeEvent(n,{event:t}){if(Mv(n))return!1;if(t.type==="click"||t.type==="mouseup"){const e=Re(n);if(e.filterNextClick)return e.filterNextClick=!1,!1}},beforeUpdate:function(n,t,e){const i=Re(n),r=i.options;i.options=e,w5(r,e)&&(Dv(n),Tv(n,e)),f5(n,e)},beforeDatasetsDraw(n,t,e){wu(n,"beforeDatasetsDraw",e)},afterDatasetsDraw(n,t,e){wu(n,"afterDatasetsDraw",e)},beforeDraw(n,t,e){wu(n,"beforeDraw",e)},afterDraw(n,t,e){wu(n,"afterDraw",e)},stop:function(n){g5(n),go&&Dv(n),PT(n)},panFunctions:Y0,zoomFunctions:F0,zoomRectFunctions:I0};const Pg="savedProjections",Bg=()=>{try{const n=localStorage.getItem(Pg);if(n)return JSON.parse(n)}catch(n){console.error("Error loading saved projections:",n)}return[]},k5=n=>{try{const t=Bg(),e={id:Date.now().toString(),...n,savedAt:new Date().toISOString()};return t.push(e),localStorage.setItem(Pg,JSON.stringify(t)),e}catch(t){throw console.error("Error saving projection:",t),t}},_5=n=>{try{const e=Bg().filter(i=>i.id!==n);return localStorage.setItem(Pg,JSON.stringify(e)),{success:!0}}catch(t){throw console.error("Error deleting projection:",t),t}};Ms.register(qo,$o,Uo,gr,Io,Yo,Fo,Og,zw);const cr=[3,7,31,12,19,5,11,13,17,23,29,31],Ln=[11,13,17,29,31,47,59,61,97,101],Lw=72n,N5=1n<<Lw,Av=1n<<Lw-2n,W0=8n,Pw=256,o0=12,Rv=Math.PI*2,j5=[3,7,31,12,19,5,11,13,17,23,29,31],Bw=["dub","kubt","k'anch","dub","kubt","k'anch"];function Ov(n,t,e){n=(n%e+e)%e;let i=1n;for(;t>0n;)t&1n&&(i=i*n%e),n=n*n%e,t>>=1n;return i}function zv(n,t){const e=n*n,i=t*t;return(e-i)/(e+i)}function M5(n){const t=Ln.indexOf(n);if(t===-1)return zv(n,n-2);const e=n,i=t>0?Ln[t-1]:2;return zv(e,i)}function C5(n){return n==="dub"?3:n==="kubt"?5:n==="k'anch"||n==="k'anchay"?7:typeof n=="number"?Math.pow(3,n)%3:3}function E5(n){const e=n/432;return{phase:Math.log(e)/Math.log(2)*(Math.PI/2),magnitude:Math.sqrt(e)}}function T5(n,t){return Array.isArray(t)?t[n%t.length]:t}function D5(n,t,e,i,r=31){return I5(n,n,e,i,typeof t=="number"?t:r,r)}function A5(n,t,e,i){const r=i.slice(0,3).reduce((f,m)=>f*m,1),l=Math.log(r)/Math.log(3),c=t/100,u=Math.pow(3,c),h=1+l/1e3;return n*u*h}function Lv(n,t){const e=Math.pow(10,t);return Math.floor(n*e)/e}function R5({lastPrice:n,depthPrime:t,omegaHz:e=432,triad:i=[2,5,7],decimals:r=8,lambdaSchedule:l=Bw,omegaSchedule:c=null,N:u=120}){const h=M5(t),f=i.slice(0,3).reduce((v,k)=>v*k,1),m=Math.log(f)/Math.log(3);let b=1+.01*m+.001*(t%7);const y=[];for(let v=0;v<u;v++){const k=l[v%l.length],S=T5(v,c||e),N=D5(v,h,k,S,t);b=A5(b,N,S,i);let j=0;for(let F=0;F<o0;F++){const H=v*(Rv/o0)+F*Rv/o0,X=j5[F]%360*(Math.PI/180),et=C5(k)%3*(Math.PI/360),{phase:Q}=E5(S),it=Math.floor(F/3)%2===0?1:-1,st=(v+F)%2===0?1:-1,ut=H+X+et+.5*Q,V=Math.cos(ut),Y=Math.tanh(b/1e5),ot=V*it*st*h*(1+.5*Y);j+=ot}const E=Math.log(t)/Math.log(2),D=Math.max(1,m),U=Lv(j*E*.5*D,r),A=Lv(n+U,r);y.push({x:v,y:A})}return y}function O5(n,t){Hw(t,!1);const[e,i,r]=t,c=Ov(BigInt(i),BigInt(r),Av)+Av;return Ov(BigInt(n),c,N5)}function z5(n){const t=n>>W0;return Number(t)/Number(1n<<64n)*2-1}function Su(n){const t=n-1;let e=0;for(let i=0;i<cr.length;i++){const r=t*(Math.PI*2/12)*cr[i];e+=Math.cos(r)}return e/cr.length}function c0(n){return Math.trunc(n*Pw)}function L5(n){return n/Pw}const P5=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571];function B5(n,t,e){if(!Hg(n))throw new Error(`Depth must be a prime number, got: ${n}. Prime exponentiation towers require prime-based depth.`);const i=e.indexOf(n);if(i===-1)throw new Error(`Depth prime ${n} not found in PRIMES_500. Prime exponentiation towers must use primes from the hardcoded list.`);const r=[],l=Math.floor(t/2);for(let c=-l;c<=l&&!(r.length>=t);c++){const u=Math.max(0,Math.min(e.length-3,i+c)),h=[e[u],e[u+1],e[u+2]];try{Hw(h,!1),r.push(h)}catch(f){throw console.error(`Invalid triadic set generated: ${JSON.stringify(h)}`,f),new Error(`Failed to generate valid triadic set: ${f.message}`)}}return r}function Hg(n){if(n<2)return!1;if(n===2)return!0;if(n%2===0)return!1;for(let t=3;t*t<=n;t+=2)if(n%t===0)return!1;return!0}const Pv=[12,15];function Hw(n,t=!1){if(!Array.isArray(n)||n.length!==3)throw new Error(`Triadic set must be array of exactly 3 elements, got: ${JSON.stringify(n)}`);for(const e of n){if(!Number.isInteger(e)||e<2)throw new Error(`Triadic set values must be integers >= 2, got: ${JSON.stringify(n)}`);if(!Hg(e)&&!(t&&Pv.includes(e)))throw new Error(`Triadic set contains non-prime value ${e} which is not an explicitly allowed coprime. Triadic sets for prime exponentiation towers must contain primes. Allowed coprimes (if explicitly chosen): ${Pv.join(", ")}. Got: ${JSON.stringify(n)}`)}return!0}function H5(n){if(n<0||n>=cr.length)return 0;let t=0;for(let e=0;e<=n;e++)Hg(cr[e])&&t++;return t}function V5(n,t){if(!t||t.length===0)return 1;const e=t.reduce((l,c)=>l+c,0)/t.length,i=t.reduce((l,c)=>l+Math.pow(c-e,2),0)/t.length,r=Math.log2(Math.max(1,i))+1;return Math.max(1,r*(n+1)/12)}function U5(n,t,e){const i=H5(t),r=V5(t,e);return Math.log2(Math.max(1,i)/Math.max(1,r))}function F5(n){return n==="dub"?3:n==="kubt"?5:n==="k'anch"||n==="k'anchay"?7:typeof n=="number"?Math.pow(3,n)%3:3}function I5(n,t,e,i,r,l=31){const c=(1+Math.sqrt(5))/2,u=Math.PI,h=t*u*c,f=n*2*u/12,m=F5(e),b=m>0?m:1,y=Math.log(b)/Math.log(3),k=(i||144e3)/432;let S=0;if(r&&typeof r=="object"&&r.p&&r.q)S=r.p*r.p-r.q*r.q;else if(typeof r=="number"){const N=Ln.indexOf(r),j=r,E=N>0?Ln[N-1]:2;S=j*j-E*E}else{const N=l||31,j=Ln.indexOf(N),E=N,D=j>0?Ln[j-1]:2;S=E*E-D*D}return h+f+y+k+S}function Y5(n,t){if(t<0||t>=cr.length)return 0;const e=cr[t],i=(n-1)*2*Math.PI/12/Math.log(3),r=Math.pow(3,i),l=(n-1)*2*Math.PI/12*e;return r*Math.cos(l)}function q5(n,t,e,i,r=.01,l=31,c=432,u=!0,h=!1){if(n.length<2)return{lines:[]};const f=n[n.length-1],m=[];for(let b=0;b<i.length;b++){const y=i[b],v=O5(e,y),k=z5(v),S=h?c+b*96:c,N=8;try{const E=R5({lastPrice:f,depthPrime:l,omegaHz:S,triad:y,decimals:N,lambdaSchedule:u?Bw:["dub"],omegaSchedule:h?[432,528,432,528]:null,N:t}).map(F=>F.y),D=E.map(c0);let U=0,A=0;for(let F=1;F<E.length;F++){const H=Su(F),X=Su(F-1);if((H>0&&X<=0||H<0&&X>=0)&&U++,F>1&&F<E.length-1){const P=E[F-1],et=E[F],Q=E[F+1];(et>P&&et>Q||et<P&&et<Q)&&A++}}m.push({triad:y,base:e,aQ8:(v>>W0).toString(),pointsQ8:D,points:E,zeroCrossings:U,turningPoints:A,omega:S,depthPrime:l})}catch(j){console.error(`Failed to compute crystalline projection for triad ${y}:`,j);let E=f;const D=[];let U=0,A=0;for(let F=1;F<=t;F++){const H=Su(F),X=r*k*H;E=E*(1+X);const P=c0(E);if(D.push(P),F>1){const et=Su(F-1);(H>0&&et<=0||H<0&&et>=0)&&U++}}m.push({triad:y,base:e,aQ8:(v>>W0).toString(),pointsQ8:D,points:D.map(L5),zeroCrossings:U,turningPoints:A})}}return{symbol:null,lastPriceQ8:c0(f),beta:r,horizon:t,lines:m}}function u0(n,t){if(n.length<2)return Array(t).fill(n[n.length-1]||0);const e=n.slice(-30),i=e.length;let r=0,l=0,c=0,u=0;e.forEach((b,y)=>{const v=y,k=b;r+=v,l+=k,c+=v*k,u+=v*v});const h=(i*c-r*l)/(i*u-r*r),f=(l-h*r)/i,m=[];for(let b=1;b<=t;b++){const y=f+h*(i+b-1);m.push(Math.max(0,y))}return m}function $5(n){try{const t=`stabilizedModel_${n.toUpperCase()}`,e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){console.error("Error loading stabilized model:",t)}return null}function Bv(n,t=.9){const e=[210,0,40,90,140,260,300,20,170,200,280,320,45];return`hsla(${e[n%e.length]}, 85%, 60%, ${t})`}function W5(){const n=js(),[t,e]=_.useState(""),[i,r]=_.useState("1D"),[l,c]=_.useState(null),[u,h]=_.useState(!1),[f,m]=_.useState(null),[b,y]=_.useState(null),[v,k]=_.useState(null),[S,N]=_.useState(20),[j,E]=_.useState(48),[D,U]=_.useState([]),[A,F]=_.useState(!1),[H,X]=_.useState("primetetration"),[P,et]=_.useState(null),[Q,J]=_.useState(!1),[it,st]=_.useState(null),[ut,V]=_.useState(!1),[Y,ot]=_.useState(!1),[ft,bt]=_.useState(4),[O,L]=_.useState(Ln[4]||31),[$,lt]=_.useState(3),[xt,gt]=_.useState(12),[ht,Tt]=_.useState(null),[wt,kt]=_.useState(.01),[ct,vt]=_.useState(432),[yt,St]=_.useState(!1),[zt,Ht]=_.useState(!0),[Bt,Oe]=_.useState(!1),[fn,_e]=_.useState(!1),[re,Dn]=_.useState(!1),[ae,Vt]=_.useState(null),Zn=_.useRef(null),Kn=_.useRef(null),tn=_.useRef(null),Ne=_.useRef(null),cn=_.useRef(null),vn=_.useRef(null),He=_.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(q){return q.parsed.y!==null&&q.parsed.y!==void 0?`${q.dataset.label}: $${q.parsed.y.toFixed(2)}`:""}}},zoom:{zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy",modifierKey:null,threshold:10},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{maxTicksLimit:20,font:{size:11},autoSkip:!0}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(q){return q!=null&&!isNaN(q)?"$"+q.toFixed(2):""},font:{size:11}},min:void 0,max:void 0}}}),Te=_.useCallback(async()=>{if(!t||!t.trim()){m("Please enter a stock symbol");return}const q=l;h(!0),m(null);try{const Yt=new Promise((mt,Et)=>setTimeout(()=>Et(new Error("Request timeout. Please try again.")),2e4)),_t=Wu(t.toUpperCase().trim(),i),Pt=await Promise.race([_t,Yt]);if(!Pt)throw new Error("No data received from API");if(!Pt.data||!Array.isArray(Pt.data))throw new Error("Invalid data format: data.data is not an array");if(Pt.data.length===0)throw new Error("No chart data available for this symbol");const Xt=Pt.data.filter(mt=>{if(!mt||!mt.timestamp)return!1;const Et=mt.close;return Et!=null&&!isNaN(Et)&&Et>0});if(Xt.length===0)throw new Error("No valid price data available. All data points are invalid.");Xt.sort((mt,Et)=>mt.timestamp-Et.timestamp);const ue=Xt.map(mt=>Number(mt.close));tn.current=ue;const ze=Xt.map(mt=>{try{const Et=new Date(mt.timestamp);return isNaN(Et.getTime())?"":i==="1H"?Et.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}):Et.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"America/New_York"})}catch{return""}}).filter(mt=>mt!==""),Ue=$5(t.toUpperCase().trim());let Ut=[],An=Ue,Ot=S;H==="primetetration"&&j&&(i==="1H"?Ot=j:i==="1D"||i==="1d"?Ot=Math.ceil(j/24):Ot=S),Ot=Math.max(1,Math.min(1e3,Ot||S||20));const be=ue[ue.length-1];if(H==="primetetration")try{const mt=Ln[ft]||31,Et=B5(mt,xt,P5),Mt=q5(ue,Ot,$,Et,wt,mt,ct,zt,yt);if(Mt.symbol=t.toUpperCase().trim(),Tt(Mt),Mt.lines&&Mt.lines.length>0&&Mt.lines[0].points){if(Ut=Mt.lines[0].points,Ut.length!==Ot)if(console.warn(`Projected prices length (${Ut.length}) doesn't match stepsToUse (${Ot})`),Ut.length<Ot){const ee=Ut[Ut.length-1]||be;for(;Ut.length<Ot;)Ut.push(ee)}else Ut=Ut.slice(0,Ot)}else Ut=u0(ue,Ot)}catch(mt){console.error("Prime Tetration projection failed, falling back to simple:",mt),Ut=u0(ue,Ot),Tt(null)}else Ut=u0(ue,Ot);if(H!=="primetetration"&&Tt(null),!Array.isArray(Ut)||Ut.length===0)Ut=Array(Ot).fill(be);else if(Ut.length!==Ot)if(console.warn(`Final projectedPrices length (${Ut.length}) doesn't match stepsToUse (${Ot}), adjusting...`),Ut.length<Ot){const mt=Ut[Ut.length-1]||be;for(;Ut.length<Ot;)Ut.push(mt)}else Ut=Ut.slice(0,Ot);const Sn=Array.from({length:12},(mt,Et)=>U5(ue.length,Et,ue)).reduce((mt,Et)=>mt+Et,0)/12,Rn=Array.from({length:12},(mt,Et)=>Math.abs(Y5(ue.length,Et))).reduce((mt,Et)=>mt+Et,0)/12;et(H==="primetetration"&&ht?{depthPrime:Ln[ft]||31,base:$,projectionCount:xt,beta:wt,horizon:Ot,phi:cr,lines:ht.lines?ht.lines.length:0}:null);const kn=[];for(let mt=1;mt<=Ot;mt++)kn.push(`Step ${mt}`);const nn=Array.isArray(ze)?ze:[],sn=Array.isArray(kn)?kn:[],Ft=Array.isArray(ue)?ue:[],xe=Array.isArray(Ut)?Ut:[];if(nn.length!==Ft.length){console.warn("Historical labels and prices length mismatch:",nn.length,Ft.length);const mt=Math.min(nn.length,Ft.length);nn.splice(mt),Ft.splice(mt)}if(sn.length!==xe.length){console.warn("Projected labels and prices length mismatch:",sn.length,xe.length);const mt=Math.min(sn.length,xe.length);sn.splice(mt),xe.splice(mt)}const le=[...nn,...sn],fe=[...Ft,...xe];if(le.length!==fe.length){console.warn("Labels and prices length mismatch:",le.length,fe.length);const mt=Math.min(le.length,fe.length);le.splice(mt),fe.splice(mt)}const Jn=Ft[0]||0,ts=xe.length>0?xe[xe.length-1]:be,Cs=be-Jn,Ei=Jn!==0?Cs/Jn*100:0,Ti=ts-be;let _n=0;be!==0&&be>0&&(_n=Ti/be*100,_n=Math.max(-1e3,Math.min(1e3,_n)));const Vi=Math.max(0,ts);if(xe.length>0&&Ft.length>0){const mt=Ft[Ft.length-1],Et=xe[0];Math.abs(Et-mt)/mt>.02&&(xe[0]=mt+(Et-mt)*.3,fe[Ft.length]=xe[0])}const Le=le.map((mt,Et)=>{if(Et<Ft.length){const Mt=fe[Et];return Mt!=null&&!isNaN(Mt)&&Mt>0?Number(Mt):null}if(Et===Ft.length&&Ft.length>0){const Mt=Ft[Ft.length-1],ee=fe[Et];return ee!=null&&!isNaN(ee)&&ee>0?Mt*.8+Number(ee)*.2:Mt}return null}),De=le.map((mt,Et)=>{if(Et<Ft.length)return null;if(Et===Ft.length&&Ft.length>0){const Mt=Ft[Ft.length-1],ee=fe[Et];return ee!=null&&!isNaN(ee)&&ee>0?Mt*.8+Number(ee)*.2:Mt}if(Et<fe.length){const Mt=fe[Et];return Mt!=null&&!isNaN(Mt)&&Mt>0?Number(Mt):null}return null}),Ui=Le.some(mt=>mt!=null),Bn=De.some(mt=>mt!=null);if(!Ui&&!Bn)throw new Error("No valid chart data available. All data points are null or invalid.");const $t=Ft.length,Di=Le[$t]||De[$t];console.log("Chart Data Debug:",{labelsLength:le.length,pricesLength:fe.length,historicalLength:Ft.length,projectedLength:xe.length,historicalDataPoints:Le.filter(mt=>mt!=null).length,projectedDataPoints:De.filter(mt=>mt!=null).length,firstHistorical:Le[0],lastHistorical:Le[Ft.length-1],connectionIndex:$t,connectionPrice:Di,firstProjected:De[$t],secondProjected:De[$t+1],lastProjected:De[De.length-1],hasHistoricalData:Ui,hasProjectedData:Bn,sampleHistorical:Le.slice(Math.max(0,Ft.length-5),Ft.length+1),sampleProjected:De.slice($t,$t+5),projectedOscillations:De.slice($t,$t+10).filter(mt=>mt!==null).map((mt,Et,Mt)=>Et===0?0:Mt[Et]-Mt[Et-1])});const ti=Le.filter(mt=>mt!=null&&!isNaN(mt)).length,rn=De.filter(mt=>mt!=null&&!isNaN(mt)).length;if(ti===0&&rn===0)throw new Error("No valid data points available for chart. All values are null or invalid.");for(;Le.length<le.length;)Le.push(null);for(;De.length<le.length;)De.push(null);const Nn=[{label:`${t.toUpperCase()} Historical`,data:Le.slice(0,le.length),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!1,pointRadius:2,pointHoverRadius:6,borderWidth:2,spanGaps:!1,showLine:!0,stepped:!1}];H==="primetetration"&&ht&&ht.lines&&ht.lines.length>0?ht.lines.forEach((mt,Et)=>{let Mt=mt.points||[];if(Mt.length!==Ot)if(console.warn(`Line ${Et} points length (${Mt.length}) doesn't match stepsToUse (${Ot})`),Mt.length<Ot){const Fe=Mt[Mt.length-1]||be;for(;Mt.length<Ot;)Mt.push(Fe)}else Mt=Mt.slice(0,Ot);const ee=le.map((Fe,es)=>{if(es<Ft.length)return null;const Fi=es-Ft.length;if(Fi>=0&&Fi<Mt.length){if(Fi===0&&Ft.length>0)return Ft[Ft.length-1]*.8+Mt[0]*.2;const ei=Mt[Fi];return ei!=null&&!isNaN(ei)&&ei>0?Number(ei):null}return null});Nn.push({label:`Triad [${mt.triad.join("-")}]`,data:ee,borderColor:Bv(Et,.9),backgroundColor:Bv(Et,.18),fill:!1,borderWidth:2,pointRadius:0,tension:.4,spanGaps:!1,showLine:!0,stepped:!1})}):Nn.push({label:`${t.toUpperCase()} Projected (Prime Tetration)`,data:De.slice(0,le.length),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",borderDash:[5,5],tension:.4,fill:!1,pointRadius:2,pointHoverRadius:6,borderWidth:2,spanGaps:!1,showLine:!0,stepped:!1});const Ae={labels:le,datasets:Nn,currentPrice:Pt.currentPrice||be,change:Cs,changePercent:Ei,projectedPrice:Vi,projectedChange:Ti,projectedChangePercent:_n};console.log("Final Chart Data:",{labelsCount:Ae.labels.length,datasetsCount:Ae.datasets.length,historicalDataCount:Ae.datasets[0].data.length,projectedDataCount:Ae.datasets[1].data.length,historicalValid:Ae.datasets[0].data.filter(mt=>mt!==null).length,projectedValid:Ae.datasets[1].data.filter(mt=>mt!==null).length,firstFewHistorical:Ae.datasets[0].data.slice(0,5),firstFewProjected:Ae.datasets[1].data.slice(Ft.length,Ft.length+5)});const jn=[...Le,...De].filter(mt=>mt!=null&&!isNaN(mt)&&typeof mt=="number"&&mt>0);if(jn.length>0){const mt=Math.min(...jn),Et=Math.max(...jn),Mt=Et-mt,ee=Math.max(Mt*.05,mt*.01);cn.current=Math.max(0,mt-ee),vn.current=Et+ee,He.current.scales.y.min=cn.current,He.current.scales.y.max=vn.current}Kn.current=Ae,c(Ae),k(i),y(new Date);const Es=`${t.toUpperCase()}-${i}`;U(mt=>{const Et=mt.filter(ee=>ee!==Es),Mt=[Es,...Et].slice(0,5);return localStorage.setItem("projectionRecentSearches",JSON.stringify(Mt)),Mt})}catch(Yt){const _t=Yt.message||"Failed to load chart data. Please check the symbol and try again.";m(_t),q||c(null)}finally{h(!1)}},[t,i,S,H,ft,$,xt,wt]);_.useEffect(()=>{if(n.state?.loadProjection){const q=n.state.loadProjection;if(Dn(!0),Vt(q.id||null),e(q.symbol||""),r(q.interval||"1D"),X(q.projectionModel||"primetetration"),N(q.projectionSteps||20),E(q.projectionHours||48),q.projectionModel==="primetetration"){lt(q.base||3),gt(q.projectionCount||12);const Yt=q.primeDepthIndex!==void 0?q.primeDepthIndex:4;bt(Yt),L(Ln[Yt]||31),vt(q.omegaHz||432),Ht(q.useLambdaSchedule!==void 0?q.useLambdaSchedule:!0),St(q.useOmegaSchedule||!1)}if(q.chartData&&(q.chartData.historicalPrices&&Array.isArray(q.chartData.historicalPrices)&&(tn.current=q.chartData.historicalPrices),q.chartData.labels&&q.chartData.datasets)){const Yt={labels:q.chartData.labels||[],datasets:(q.chartData.datasets||[]).map(Pt=>({...Pt,data:Array.isArray(Pt.data)?Pt.data.map(Xt=>Xt!=null?Number(Xt):null):[]})),currentPrice:q.chartData.currentPrice!==void 0?Number(q.chartData.currentPrice):null,change:q.chartData.change!==void 0?Number(q.chartData.change):null,changePercent:q.chartData.changePercent!==void 0?Number(q.chartData.changePercent):null,projectedPrice:q.chartData.projectedPrice!==void 0?Number(q.chartData.projectedPrice):null,projectedChange:q.chartData.projectedChange!==void 0?Number(q.chartData.projectedChange):null,projectedChangePercent:q.chartData.projectedChangePercent!==void 0?Number(q.chartData.projectedChangePercent):null},_t=Yt.datasets.flatMap(Pt=>(Pt.data||[]).filter(Xt=>Xt!=null&&!isNaN(Xt)&&typeof Xt=="number"&&Xt>0));if(_t.length>0){const Pt=Math.min(..._t),Xt=Math.max(..._t),ue=Xt-Pt,ze=Math.max(ue*.05,Pt*.01);cn.current=Math.max(0,Pt-ze),vn.current=Xt+ze,He.current.scales.y.min=cn.current,He.current.scales.y.max=vn.current}c(Yt),Kn.current=Yt}q.snapshotData&&q.projectionModel==="primetetration"&&Tt(q.snapshotData),window.history.replaceState({},document.title),setTimeout(()=>{Dn(!1)},5e3)}},[n.state]),_.useEffect(()=>{const q=localStorage.getItem("projectionRecentSearches");if(q)try{U(JSON.parse(q))}catch{}},[]);const di=()=>{t?.trim()?(F(!1),Te()):m("Please enter a stock symbol")},en=()=>{t&&t.trim()&&Te()},wn=()=>{if(!t||!t.trim()){m("Please enter a stock symbol first");return}if(!l&&!ht){m("No projection data to save. Please load chart data first.");return}Oe(!0),_e(!1);try{const q={symbol:t.toUpperCase().trim(),projectionModel:H,interval:i,projectionSteps:S,projectionHours:j,base:$,projectionCount:xt,primeDepth:Ln[ft]||31,primeDepthIndex:ft,omegaHz:ct,useLambdaSchedule:zt,useOmegaSchedule:yt,beta:wt,snapshotData:ht?JSON.parse(JSON.stringify(ht)):null,chartData:l?JSON.parse(JSON.stringify({labels:l.labels||[],datasets:l.datasets?l.datasets.map(_t=>({label:_t.label||"",data:Array.isArray(_t.data)?_t.data.map(Pt=>Pt!=null?Number(Pt):null):[],borderColor:_t.borderColor||"rgb(59, 130, 246)",backgroundColor:_t.backgroundColor||"rgba(59, 130, 246, 0.1)",borderWidth:_t.borderWidth||2,borderDash:_t.borderDash||void 0,tension:_t.tension!==void 0?_t.tension:.4,fill:_t.fill!==void 0?_t.fill:!1,pointRadius:_t.pointRadius!==void 0?_t.pointRadius:2,pointHoverRadius:_t.pointHoverRadius!==void 0?_t.pointHoverRadius:6,spanGaps:_t.spanGaps!==void 0?_t.spanGaps:!1,showLine:_t.showLine!==void 0?_t.showLine:!0,stepped:_t.stepped!==void 0?_t.stepped:!1})):[],currentPrice:l.currentPrice!==void 0?Number(l.currentPrice):null,change:l.change!==void 0?Number(l.change):null,changePercent:l.changePercent!==void 0?Number(l.changePercent):null,projectedPrice:l.projectedPrice!==void 0?Number(l.projectedPrice):null,projectedChange:l.projectedChange!==void 0?Number(l.projectedChange):null,projectedChangePercent:l.projectedChangePercent!==void 0?Number(l.projectedChangePercent):null,historicalPrices:tn.current?tn.current.map(_t=>Number(_t)):[]})):null,savedAt:new Date().toISOString()};k5(q),_e(!0),setTimeout(()=>_e(!1),3e3)}catch(q){console.error("Error saving projection:",q),m("Failed to save projection: "+q.message)}finally{Oe(!1)}},Ve=q=>{q!==i&&(r(q),t&&t.trim()&&l&&setTimeout(()=>{Te()},100))},mr=q=>{const[Yt,_t]=q.split("-");e(Yt),r(_t),F(!1),setTimeout(()=>{Te()},100)},Ci=q=>{q.key==="Enter"&&di()},pr=()=>{if(Ne.current){let q=null;Ne.current.chartInstance?q=Ne.current.chartInstance:Ne.current.chart?q=Ne.current.chart:Ne.current&&(q=Ne.current),q&&(typeof q.resetZoom=="function"&&q.resetZoom(),cn.current!==null&&vn.current!==null&&(q.scales&&q.scales.y?(q.scales.y.options.min=cn.current,q.scales.y.options.max=vn.current,q.update("none")):q.options&&q.options.scales&&q.options.scales.y&&(q.options.scales.y.min=cn.current,q.options.scales.y.max=vn.current,q.update("none"))))}};return _.useEffect(()=>()=>{},[]),g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Price Projection"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Prime Tetration Projections"})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Stock Symbol"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{ref:Zn,type:"text",id:"symbol",value:t,onChange:q=>{const Yt=q.target.value.toUpperCase();e(Yt),F(Yt.length===0&&D.length>0)},onKeyDown:Ci,onFocus:()=>{D.length>0&&!t&&F(!0)},onBlur:()=>{setTimeout(()=>F(!1),200)},placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),t&&g.jsx("button",{type:"button",onClick:()=>{e(""),F(!1),Zn.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),A&&D.length>0&&!u&&g.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",style:{zIndex:10},children:[g.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Recent Searches"}),D.map(q=>{const[Yt,_t]=q.split("-");return g.jsxs("button",{type:"button",onClick:()=>mr(q),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center justify-between transition-colors",children:[g.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Yt}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:_t})]},q)})]})]})]}),g.jsxs("div",{className:"w-full lg:w-auto",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Interval"}),g.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsx("button",{type:"button",onClick:()=>Ve("1D"),className:`px-6 py-2 rounded-md font-medium transition-all ${i==="1D"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Day"}),g.jsx("button",{type:"button",onClick:()=>Ve("1H"),className:`px-6 py-2 rounded-md font-medium transition-all ${i==="1H"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Hour"})]})]}),g.jsxs("div",{className:"w-full lg:w-auto",children:[g.jsx("label",{htmlFor:"projectionSteps",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Projection Steps"}),g.jsxs("select",{id:"projectionSteps",value:S,onChange:q=>{const Yt=parseInt(q.target.value);N(Yt),l&&setTimeout(()=>Te(),100)},className:"w-full lg:w-32 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all",children:[g.jsx("option",{value:10,children:"10 Steps"}),g.jsx("option",{value:20,children:"20 Steps"}),g.jsx("option",{value:40,children:"40 Steps"}),g.jsx("option",{value:60,children:"60 Steps"})]})]}),g.jsx("div",{className:"w-full lg:w-auto",children:g.jsx("button",{type:"button",onClick:q=>{q.preventDefault(),q.stopPropagation(),di()},disabled:u||!t||!t.trim(),className:"w-full lg:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:opacity-50 shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 relative z-0",children:u?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Loading..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),g.jsx("span",{children:"Search"})]})})})]}),g.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Projection Model Configuration"]}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Configure your projection parameters"})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Projection Model"}),g.jsx("div",{className:"w-full px-4 py-3 border-2 border-purple-500 dark:border-purple-400 rounded-lg bg-purple-50 dark:bg-purple-900/20 transition-all text-sm font-medium",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-semibold",children:"Prime Tetration Projections"})]})})]}),H==="primetetration"&&g.jsx(g.Fragment,{children:g.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[g.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Core Parameters"]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("h5",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[g.jsx("svg",{className:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Seed, Frequency & Schedules"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Base (seed)"}),g.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:$===3,onChange:()=>{lt($===3?2:3),l&&setTimeout(()=>Te(),100)},className:"sr-only peer"}),g.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}),g.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:$===3?"3 (preferred)":"2 (Enigma-style)"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:" (Omega Hz)"}),g.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:ct===528,onChange:()=>{vt(ct===432?528:432),l&&setTimeout(()=>Te(),100)},className:"sr-only peer"}),g.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),g.jsxs("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[ct," Hz"]})]})]})]}),g.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex flex-wrap gap-6",children:[g.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[g.jsx("input",{type:"checkbox",checked:zt,onChange:q=>{Ht(q.target.checked),l&&setTimeout(()=>Te(),100)},className:"sr-only peer"}),g.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}),g.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:"Use  Schedule (dub, kubt, k'anch)"})]}),g.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[g.jsx("input",{type:"checkbox",checked:yt,onChange:q=>{St(q.target.checked),l&&setTimeout(()=>Te(),100)},className:"sr-only peer"}),g.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),g.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Use  Schedule (vary frequencies)"})]})]})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"projectionCount",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Projections Count"}),g.jsx("input",{type:"number",id:"projectionCount",min:"1",max:"50",step:"1",value:xt,onChange:q=>{const Yt=q.target.value;if(Yt==="")return;const _t=parseInt(Yt,10);!isNaN(_t)&&_t>=1&&_t<=50&&(gt(_t),l&&setTimeout(()=>Te(),100))},onBlur:q=>{const Yt=q.target.value;if(Yt===""||isNaN(parseInt(Yt,10)))gt(12),l&&setTimeout(()=>Te(),100);else{const _t=parseInt(Yt,10);_t<1?(gt(1),l&&setTimeout(()=>Te(),100)):_t>50&&(gt(50),l&&setTimeout(()=>Te(),100))}},className:"w-full px-4 py-2.5 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white transition-all text-sm font-medium bg-white",placeholder:"Enter number (1-50)"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Range: 1-50 projections"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Prime Depth"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:Ln.map(q=>{const Yt=Ln[ft]===q;return g.jsx("button",{type:"button",onClick:()=>{const _t=Ln.indexOf(q);bt(_t),L(q),l&&setTimeout(()=>Te(),100)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Yt?"bg-purple-600 text-white shadow-md ring-2 ring-purple-400 dark:ring-purple-500":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500 hover:text-purple-600 dark:hover:text-purple-400"}`,children:q},q)})}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Selected: ",Ln[ft]||31]})]})]})]})}),g.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 flex items-center justify-between",children:[g.jsx("div",{children:g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:fn?g.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Projection saved successfully!"]}):"Save this projection configuration to view it later on the Data page"})}),g.jsx("button",{onClick:wn,disabled:Bt||!t||!t.trim()||!l&&!ht,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white text-sm font-semibold rounded-lg hover:from-green-700 hover:to-green-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:opacity-50 shadow-md hover:shadow-lg transition-all flex items-center gap-2",title:!t||!t.trim()?"Enter a stock symbol first":!l&&!ht?"Load chart data first":"Save projection to Data page",children:Bt?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Saving..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),g.jsx("span",{children:"Save Projection"})]})})]})]})]}),re&&g.jsx("div",{className:"mt-4 bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Projection loaded successfully! You can now edit the parameters and save changes."}),g.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:'All saved data has been restored. Modify any settings and click "Save Projection" to update.'})]}),g.jsx("button",{onClick:()=>Dn(!1),className:"ml-2 text-green-500 hover:text-green-700 dark:hover:text-green-300",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f&&g.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:f}),g.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:"Please check the symbol and try again"})]})]})}),l&&g.jsxs("div",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Price Metrics"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[g.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Current Price"}),g.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),g.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:l?.currentPrice!==void 0&&l.currentPrice!==null?`$${l.currentPrice.toFixed(2)}`:g.jsx("span",{className:"text-gray-400",children:"N/A"})})]}),g.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.change>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Historical Change"}),l&&g.jsx("svg",{className:`w-4 h-4 ${l.change>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.change>=0?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),g.jsx("p",{className:`text-xl font-bold ${l.change>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.change!==void 0&&l.change!==null?`${l.change>=0?"+":""}$${Math.abs(l.change).toFixed(2)}`:g.jsx("span",{className:"text-gray-400",children:"--"})}),l?.changePercent!==void 0&&l.changePercent!==null&&g.jsxs("p",{className:`text-xs mt-1 ${l.changePercent>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[l.changePercent>=0?"+":"",l.changePercent.toFixed(2),"%"]})]}),g.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-5 border border-purple-200 dark:border-purple-800 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("p",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:"Projected Price"}),g.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),g.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:l?.projectedPrice!==void 0&&l.projectedPrice!==null&&l.projectedPrice>0?(()=>{const q=l.projectedPrice;return q>=1e3?`$${q.toFixed(2)}`:q>=1?`$${q.toFixed(2)}`:`$${q.toFixed(4)}`})():g.jsx("span",{className:"text-gray-400",children:"N/A"})})]}),g.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.projectedChange>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Projected Change"}),l&&g.jsx("svg",{className:`w-4 h-4 ${l.projectedChange>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.projectedChange>=0?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),g.jsx("p",{className:`text-xl font-bold ${l.projectedChange>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.projectedChange!==void 0&&l.projectedChange!==null?(()=>{const q=l.projectedChange;return Math.abs(q)>=1e3?`${q>=0?"+":""}$${Math.abs(q).toFixed(2)}`:Math.abs(q)>=1?`${q>=0?"+":""}$${Math.abs(q).toFixed(2)}`:`${q>=0?"+":""}$${Math.abs(q).toFixed(4)}`})():g.jsx("span",{className:"text-gray-400",children:"--"})}),l?.projectedChangePercent!==void 0&&l.projectedChangePercent!==null&&g.jsx("p",{className:`text-xs mt-1 ${l.projectedChangePercent>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:(()=>{const q=l.projectedChangePercent;return Math.abs(q)>=1e3?`${q>=0?"+":""}${q.toFixed(0)}%`:Math.abs(q)>=100?`${q>=0?"+":""}${q.toFixed(1)}%`:`${q>=0?"+":""}${q.toFixed(2)}%`})()})]}),g.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.projectedChangePercent>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Change %"}),l&&g.jsx("svg",{className:`w-4 h-4 ${l.projectedChangePercent>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.projectedChangePercent>=0?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),g.jsx("p",{className:`text-xl font-bold ${l.projectedChangePercent>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.projectedChangePercent!==void 0&&l.projectedChangePercent!==null?(()=>{const q=l.projectedChangePercent;return Math.abs(q)>=1e3?`${q>=0?"+":""}${q.toFixed(0)}%`:Math.abs(q)>=100?`${q>=0?"+":""}${q.toFixed(1)}%`:`${q>=0?"+":""}${q.toFixed(2)}%`})():g.jsx("span",{className:"text-gray-400",children:"--"})}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Projected"})]})]})]}),P&&g.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:[g.jsxs("button",{type:"button",onClick:()=>ot(!Y),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),g.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Prime Tetration Parameters"})]}),g.jsx("svg",{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${Y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Y&&g.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/30",children:g.jsx("div",{className:"flex flex-col gap-4",children:H==="primetetration"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depth Prime:"}),g.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:P.depthPrime})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Base:"}),g.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:P.base})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lines:"}),g.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:P.lines})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Beta:"}),g.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:P.beta})]})]}),P.phi&&Array.isArray(P.phi)&&g.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Full _d: [3,7,31,12,19,5,11,13,17,23,29,31]"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+8 bits truncation active"})]})}),ht&&ht.lines&&ht.lines.length>0&&g.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Oscillation Stats:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:ht.lines.slice(0,6).map((q,Yt)=>g.jsxs("div",{className:"text-xs font-mono text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900/30 px-3 py-2 rounded flex flex-col gap-1",children:[g.jsxs("span",{className:"font-semibold",children:["L",Yt+1,"[",q.triad.join("-"),"]"]}),g.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["zc=",q.zeroCrossings,", tp=",q.turningPoints]})]},Yt))})]})})]}):null})})]}),(b||l)&&g.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{children:b?`Last updated: ${b.toLocaleString("en-US",{timeZone:"America/New_York"})}`:"Ready to load data"})]}),l&&g.jsxs("button",{type:"button",onClick:en,disabled:u,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[g.jsx("svg",{className:`w-4 h-4 ${u?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Refresh"})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Price Projection Chart"}),t&&v&&g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.toUpperCase()," - ",v," interval - ",S," step projection"]})]}),l&&g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Historical"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 border-2 border-dashed border-purple-500"}),g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Projected"})]})]}),g.jsxs("button",{type:"button",onClick:pr,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Reset zoom and pan",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Zoom"]})]})]}),g.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[g.jsxs("button",{type:"button",onClick:()=>J(!Q),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-900/70 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"About Prime Tetration Projections"})]}),g.jsx("svg",{className:`w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform ${Q?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Q&&g.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:g.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Prime Tetration Projections use the full crystalline 12-dimensional lattice with triadic prime exponentiation towers. Each projection line represents a different prime triad [p1,p2,p3] with amplitude A = base^(p2^p3) mod 2^72. The lattice oscillator Z(n) aggregates all 12 _d dimensions without dimension sweeping. All calculations use Q8 fixed-point truncation (+8 guard bits)."})})]})]}),g.jsx("div",{className:"h-[600px] relative",children:l&&Array.isArray(l.labels)&&l.labels.length>0&&Array.isArray(l.datasets)&&l.datasets.length>0&&l.datasets[0]&&Array.isArray(l.datasets[0].data)&&l.datasets[0].data.some(q=>q!=null)?g.jsxs(g.Fragment,{children:[u&&g.jsx("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-800/90 z-10 flex items-center justify-center backdrop-blur-sm",children:g.jsx("div",{className:"text-center",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),g.jsx(To,{ref:Ne,data:{labels:Array.isArray(l.labels)?l.labels:[],datasets:Array.isArray(l.datasets)?l.datasets.map(q=>({...q,data:Array.isArray(q.data)?q.data:[]})):[]},options:{...He.current,responsive:!0,maintainAspectRatio:!1},redraw:!0},`chart-${t}-${i}-${S}-${l.labels?.length||0}`)]}):u?g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading chart data..."}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]})}):g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-2",children:"No chart data available"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Please try searching again or check the symbol"})]})})})]})]})}Ms.register(qo,$o,Uo,gr,Io,Yo,Fo,Og,zw);function G5(){const[n,t]=_.useState([]),[e,i]=_.useState(null),[r,l]=_.useState(!1),[c,u]=_.useState(!1),[h,f]=_.useState(null),[m,b]=_.useState(!0),y=ig(),v={responsive:!0,maintainAspectRatio:!1,animation:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(A){return A.parsed.y!==null&&A.parsed.y!==void 0?`${A.dataset.label}: $${A.parsed.y.toFixed(2)}`:""}}},zoom:{zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy",modifierKey:null},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{maxTicksLimit:20,font:{size:11},autoSkip:!0}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(A){return A!=null&&!isNaN(A)?"$"+A.toFixed(2):""},font:{size:11}}}}};_.useEffect(()=>{k()},[]);const k=()=>{try{const A=Bg();t(A)}catch(A){console.error("Error loading projections:",A)}finally{b(!1)}},S=A=>{i(A),l(!0)},N=A=>{f(A),u(!0)},j=()=>{if(h)try{_5(h.id),k(),u(!1),f(null)}catch(A){console.error("Error deleting projection:",A),alert("Failed to delete projection")}},E=A=>{y("/projection",{state:{loadProjection:A}})},D=A=>A?new Date(A).toLocaleString("en-US",{timeZone:"America/New_York"}):"N/A",U=A=>({lattice:"12-Fold Lattice",primetetration:"Prime Tetration",montecarlo:"Monte Carlo"})[A]||A;return m?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),"Saved Projections"]}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage and view your saved projection configurations"})]}),g.jsx("div",{className:"p-6",children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No projections saved"}),g.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Save projections from the Projection page to view them here."}),g.jsx("div",{className:"mt-6",children:g.jsx("button",{onClick:()=>y("/projection"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Go to Projection Page"})})]}):g.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:g.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[g.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Symbol"}),g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Model"}),g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Interval"}),g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Parameters"}),g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Saved At"}),g.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),g.jsx("tbody",{children:n.map(A=>g.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[g.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:A.symbol||"N/A"}),g.jsx("td",{className:"px-6 py-4",children:U(A.projectionModel)}),g.jsx("td",{className:"px-6 py-4",children:A.interval||"N/A"}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[A.projectionModel==="primetetration"&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:["Base: ",A.base||3]}),g.jsxs("span",{children:["Depth: ",A.primeDepth||"N/A"]}),g.jsxs("span",{children:["Count: ",A.projectionCount||12]})]}),A.projectionSteps&&g.jsxs("span",{children:["Steps: ",A.projectionSteps]})]})}),g.jsx("td",{className:"px-6 py-4",children:D(A.savedAt)}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>S(A),className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"View"}),g.jsx("button",{onClick:()=>E(A),className:"font-medium text-green-600 dark:text-green-500 hover:underline",children:"Load"}),g.jsx("button",{onClick:()=>N(A),className:"font-medium text-red-600 dark:text-red-500 hover:underline",children:"Delete"})]})})]},A.id))})]})})})]}),r&&e&&g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[g.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>l(!1)}),g.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),g.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[g.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 max-h-[90vh] overflow-y-auto",children:g.jsx("div",{className:"sm:flex sm:items-start",children:g.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[g.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",id:"modal-title",children:["Projection Details: ",e.symbol]}),e.chartData&&e.chartData.labels&&Array.isArray(e.chartData.labels)&&e.chartData.datasets&&Array.isArray(e.chartData.datasets)&&e.chartData.datasets.length>0?g.jsxs("div",{className:"mb-6 bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Price Projection Chart"}),g.jsx("div",{className:"h-96 w-full",children:g.jsx(To,{data:{labels:e.chartData.labels||[],datasets:(e.chartData.datasets||[]).map(A=>({...A,data:Array.isArray(A.data)?A.data:[]}))},options:v})}),e.chartData.currentPrice&&g.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Current Price"}),g.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["$",e.chartData.currentPrice.toFixed(2)]})]}),e.chartData.change!==void 0&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Change"}),g.jsxs("p",{className:`text-sm font-bold ${e.chartData.change>=0?"text-green-600":"text-red-600"}`,children:[e.chartData.change>=0?"+":"","$",e.chartData.change.toFixed(2)]})]}),e.chartData.changePercent!==void 0&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Change %"}),g.jsxs("p",{className:`text-sm font-bold ${e.chartData.changePercent>=0?"text-green-600":"text-red-600"}`,children:[e.chartData.changePercent>=0?"+":"",e.chartData.changePercent.toFixed(2),"%"]})]}),e.chartData.projectedPrice&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Projected Price"}),g.jsxs("p",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:["$",e.chartData.projectedPrice.toFixed(2)]})]})]})]}):g.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Chart data not available for this projection. The chart may not have been saved with the projection."})]})}),g.jsx("div",{className:"mt-2 space-y-4",children:g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Model"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:U(e.projectionModel)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Interval"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.interval||"N/A"})]}),e.projectionModel==="primetetration"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Base (seed)"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.base||3})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Prime Depth"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.primeDepth||"N/A"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projections Count"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.projectionCount||12})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Omega Hz"}),g.jsxs("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[e.omegaHz||432," Hz"]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lambda Schedule"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.useLambdaSchedule?"Enabled":"Disabled"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Omega Schedule"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.useOmegaSchedule?"Enabled":"Disabled"})]})]}),e.projectionSteps&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projection Steps"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.projectionSteps})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Saved At"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:D(e.savedAt)})]})]})})]})})}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[g.jsx("button",{type:"button",onClick:()=>E(e),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Load Projection"}),g.jsx("button",{type:"button",onClick:()=>l(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})]})]})]})}),c&&h&&g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[g.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),g.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),g.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[g.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:g.jsxs("div",{className:"sm:flex sm:items-start",children:[g.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10",children:g.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),g.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[g.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Delete Projection"}),g.jsx("div",{className:"mt-2",children:g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Are you sure you want to delete the projection for"," ",g.jsx("span",{className:"font-medium",children:h.symbol}),"? This action cannot be undone."]})})]})]})}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[g.jsx("button",{type:"button",onClick:j,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Delete"}),g.jsx("button",{type:"button",onClick:()=>{u(!1),f(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}Ms.register(qo,$o,Uo,gr,Io,Yo,Fo);function X5({isOpen:n,onClose:t,onSave:e,monitor:i}){const[r,l]=_.useState({name:"",symbol:"",url:"",type:"http"});_.useEffect(()=>{l(i?{name:i.name||"",symbol:i.symbol||i.id||"",url:i.url||"",type:i.type||"http"}:{name:"",symbol:"",url:"",type:"http"})},[i,n]);const c=u=>{u.preventDefault(),e(r)};return g.jsxs("div",{id:"add-monitor-modal",className:`hs-overlay fixed inset-0 z-[80] overflow-x-hidden overflow-y-auto ${n?"hs-overlay-open":"hidden"}`,children:[g.jsx("div",{className:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto",children:g.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[g.jsxs("div",{className:"flex justify-between items-center py-3 px-4 border-b",children:[g.jsx("h3",{className:"font-bold text-gray-800",children:i?"Edit Monitor":"Add Monitor"}),g.jsxs("button",{type:"button",onClick:t,className:"flex justify-center items-center size-7 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100",children:[g.jsx("span",{className:"sr-only",children:"Close"}),g.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"m18 6-12 12"}),g.jsx("path",{d:"m6 6 12 12"})]})]})]}),g.jsxs("form",{onSubmit:c,children:[g.jsxs("div",{className:"p-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Symbol"}),g.jsx("input",{type:"text",value:r.symbol,onChange:u=>l({...r,symbol:u.target.value.toUpperCase()}),className:"py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"AAPL, GOOGL, MSFT, etc.",required:!0}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a stock ticker symbol (e.g., AAPL, GOOGL, TSLA)"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name (Optional)"}),g.jsx("input",{type:"text",value:r.name,onChange:u=>l({...r,name:u.target.value}),className:"py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Leave empty to use stock name"})]})]}),g.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t",children:[g.jsx("button",{type:"button",onClick:t,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{type:"submit",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})}),g.jsx("div",{className:"hs-overlay-backdrop fixed inset-0 z-[79] bg-gray-900 bg-opacity-50"})]})}Ms.register(qo,$o,Uo,gr,Io,Yo,Fo);function Q5(){const[n,t]=_.useState([]),[e,i]=_.useState(!0),[r,l]=_.useState(!1),[c,u]=_.useState(null),[h,f]=_.useState(!1),[m,b]=_.useState(null),[y,v]=_.useState("unknown"),[k,S]=_.useState("unknown"),[N,j]=_.useState("unknown"),[E,D]=_.useState("unknown"),[U,A]=_.useState("yahoo"),[F,H]=_.useState(()=>{try{const ct=localStorage.getItem("preferredApi");return ct&&["yahoo","finnhub","massive","auto"].includes(ct)?ct:"auto"}catch{return"auto"}}),[X,P]=_.useState([]),[et,Q]=_.useState(100),[J,it]=_.useState(0),[st,ut]=_.useState(0),[V,Y]=_.useState(!1),[ot,ft]=_.useState("unknown"),[bt,O]=_.useState("unknown"),[L,$]=_.useState("unknown"),lt=30,xt=()=>{try{const ct=localStorage.getItem("apiRequestHistory");let vt=[];if(ct)try{vt=JSON.parse(ct)}catch(re){console.error("Error parsing request history:",re)}const yt=Date.now(),St=yt-1440*60*1e3,zt=vt.filter(re=>re.timestamp>St);if(zt.length===0){Q(100),it(0),ut(0);return}const Ht=zt.filter(re=>re.success).length,Bt=zt.length,Oe=Bt>0?Ht/Bt*100:100;Q(Oe),it(Bt),ut(Ht);const fn=yt-10080*60*1e3,_e=vt.filter(re=>re.timestamp>fn);localStorage.setItem("apiRequestHistory",JSON.stringify(_e))}catch(ct){console.error("Error calculating success rate:",ct),Q(100),it(0),ut(0)}},gt=ct=>{try{const vt=localStorage.getItem("apiRequestHistory");let yt=[];if(vt)try{yt=JSON.parse(vt)}catch(St){console.error("Error parsing request history:",St)}yt.push({timestamp:Date.now(),success:ct}),yt.length>1e3&&(yt=yt.slice(-1e3)),localStorage.setItem("apiRequestHistory",JSON.stringify(yt)),xt()}catch(vt){console.error("Error recording API request:",vt)}},ht=async()=>{try{const ct=await Promise.race([Ja("AAPL","1d","1d"),new Promise((vt,yt)=>setTimeout(()=>yt(new Error("Timeout")),8e3))]);ft(ct&&ct.data?"operational":"down")}catch(ct){console.error("Dashboard API check failed:",ct),ft("down")}try{const ct=await Promise.race([Wu("AAPL","1D"),new Promise((vt,yt)=>setTimeout(()=>yt(new Error("Timeout")),8e3))]);O(ct&&ct.data&&ct.data.length>0?"operational":"down")}catch(ct){console.error("Charts API check failed:",ct),O("down")}try{const ct=await Promise.race([Wu("AAPL","1D"),new Promise((vt,yt)=>setTimeout(()=>yt(new Error("Timeout")),8e3))]);$(ct&&ct.data&&ct.data.length>0?"operational":"down")}catch(ct){console.error("Projection API check failed:",ct),$("down")}try{const ct=await Promise.race([xg("general"),new Promise((vt,yt)=>setTimeout(()=>yt(new Error("Timeout")),1e4))]);if(Array.isArray(ct)){const vt=JSON.parse(localStorage.getItem("apiKeys")||"{}"),St=`https://api.fibhub.io/v1/news?category=general&token=${vt.fibhub||vt.finnhub||"demo"}`;try{const zt=await Promise.race([fetch(St,{method:"GET",headers:{Accept:"application/json"},mode:"cors",credentials:"omit"}),new Promise((Ht,Bt)=>setTimeout(()=>Bt(new Error("Timeout")),5e3))]);zt.status>=200&&zt.status<500?D("operational"):D("down")}catch{ct.length>0?D("operational"):D("down")}}else D("down")}catch(ct){console.error("Fibhub API check failed:",ct),D("down")}};_.useEffect(()=>{xt(),Tt(),ht();const vt=(()=>{try{const St=localStorage.getItem("refreshInterval");return St?parseInt(St,10):30}catch{return 30}})(),yt=setInterval(()=>{Tt(),xt(),ht()},vt*1e3);return()=>clearInterval(yt)},[]);const Tt=async()=>{try{const ct=await zM();t(ct),f(!0),b(null),xt(),gt(!0);const vt=ct.map(Bt=>Bt.apiSource).filter(Boolean);let yt="disconnected";const St={yahoo:vt.filter(Bt=>Bt==="yahoo").length,finnhub:vt.filter(Bt=>Bt==="finnhub").length,massive:vt.filter(Bt=>Bt==="massive").length};let zt="yahoo";St.finnhub>St.yahoo&&St.finnhub>St.massive?zt="finnhub":St.massive>St.yahoo&&St.massive>St.finnhub?zt="massive":St.yahoo>0?zt="yahoo":St.finnhub>0?zt="finnhub":St.massive>0&&(zt="massive"),vt.length>0?(A(zt),yt="connected",v(St.yahoo>0?"connected":St.finnhub>0||St.massive>0?"standby":"unknown"),S(St.finnhub>0?"connected":St.yahoo>0||St.massive>0?"standby":"unknown"),j(St.massive>0?"connected":St.yahoo>0||St.finnhub>0?"standby":"unknown")):(v("failed"),S("failed"),j("failed"),D("unknown"));const Ht=new Date().toLocaleTimeString("en-US",{timeZone:"America/New_York"});P(Bt=>[...Bt,{time:Ht,status:yt==="connected"?1:0}].slice(-lt))}catch(ct){console.error("Failed to load monitors:",ct),f(!1),b("Unable to fetch live data from all APIs. Please check your internet connection."),t([]),v("failed"),S("failed"),j("failed"),D("failed"),gt(!1);const vt=new Date().toLocaleTimeString("en-US",{timeZone:"America/New_York"});P(yt=>[...yt,{time:vt,status:0}].slice(-lt))}finally{i(!1)}},wt=async ct=>{if(ct!==F){Y(!0);try{localStorage.setItem("preferredApi",ct),H(ct),await Tt()}catch(vt){console.error("Failed to switch API:",vt),b("Failed to switch API endpoint: "+vt.message)}finally{Y(!1)}}},kt=async ct=>{try{c?await PM(c.id,ct):await LM(ct),l(!1),u(null),await Tt()}catch(vt){console.error("Failed to save monitor:",vt),alert(`Failed to save monitor: ${vt.message||"Unknown error"}`)}};return e?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("div",{className:"text-gray-600",children:"Loading monitors..."})}):g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-between items-center mb-6",children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Stock Market Monitoring"}),g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Live data from ",g.jsx("a",{href:"https://finance.yahoo.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Yahoo Finance"}),", ",g.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Finnhub"}),", and ",g.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Massive"})]})]})}),m&&g.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsx("div",{className:"ml-3",children:g.jsx("p",{className:"text-sm text-red-800",children:m})})]})}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${h?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:g.jsx("svg",{className:`w-6 h-6 ${h?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Page Summary"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Overview of monitoring system status and performance"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-3 h-3 rounded-full ${h?"bg-green-500 animate-pulse":"bg-red-500"}`}),g.jsx("span",{className:`text-sm font-medium ${h?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:h?"Operational":"Down"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Dashboard Page"}),g.jsx("span",{className:`w-2 h-2 rounded-full ${ot==="operational"?"bg-green-500 animate-pulse":ot==="down"?"bg-red-500":"bg-gray-400"}`})]}),g.jsx("p",{className:`text-lg font-semibold ${ot==="operational"?"text-green-600 dark:text-green-400":ot==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:ot==="operational"?"Operational":ot==="down"?"Down":"Checking..."})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Charts Page"}),g.jsx("span",{className:`w-2 h-2 rounded-full ${bt==="operational"?"bg-green-500 animate-pulse":bt==="down"?"bg-red-500":"bg-gray-400"}`})]}),g.jsx("p",{className:`text-lg font-semibold ${bt==="operational"?"text-green-600 dark:text-green-400":bt==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:bt==="operational"?"Operational":bt==="down"?"Down":"Checking..."})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Projection Page"}),g.jsx("span",{className:`w-2 h-2 rounded-full ${L==="operational"?"bg-green-500 animate-pulse":L==="down"?"bg-red-500":"bg-gray-400"}`})]}),g.jsx("p",{className:`text-lg font-semibold ${L==="operational"?"text-green-600 dark:text-green-400":L==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:L==="operational"?"Operational":L==="down"?"Down":"Checking..."})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Preferred API"}),g.jsxs("select",{value:F,onChange:ct=>wt(ct.target.value),disabled:V,className:"w-full px-3 py-2 text-sm font-semibold text-gray-900 dark:text-white bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[g.jsx("option",{value:"auto",children:"Auto (Fallback)"}),g.jsx("option",{value:"yahoo",children:"Yahoo Finance"}),g.jsx("option",{value:"finnhub",children:"Finnhub"}),g.jsx("option",{value:"massive",children:"Massive"})]}),V&&g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1",children:[g.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Switching..."]}),g.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:["Active: ",U==="yahoo"?"Yahoo Finance":U==="finnhub"?"Finnhub":U==="massive"?"Massive":"None"]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Success Rate (24h)"}),g.jsxs("div",{className:"mb-3",children:[g.jsxs("p",{className:`text-3xl font-bold mb-1 ${et>=99?"text-green-600 dark:text-green-400":et>=95?"text-blue-600 dark:text-blue-400":et>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[et.toFixed(2),"%"]}),g.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mb-2",children:g.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${et>=99?"bg-green-500":et>=95?"bg-blue-500":et>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(et,100)}%`}})})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Successful:"}),g.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:st})]}),g.jsxs("div",{className:"flex items-center justify-between text-xs",children:[g.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Requests:"}),g.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:J})]})]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 md:col-span-2 lg:col-span-4",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"API Status"}),g.jsx("div",{className:"h-32",children:X.length>0?g.jsx(To,{data:{labels:X.map(ct=>ct.time),datasets:[{label:"API Status",data:X.map(ct=>ct.status),borderColor:h?"rgb(34, 197, 94)":"rgb(239, 68, 68)",backgroundColor:h?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0,pointRadius:2,pointHoverRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(ct){return ct.parsed.y===1?"Connected":"Disconnected"}}}},scales:{y:{beginAtZero:!0,max:1,ticks:{stepSize:1,callback:function(ct){return ct===1?"Connected":"Disconnected"}}},x:{ticks:{maxTicksLimit:8,font:{size:10}}}}}}):g.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:"No status data yet"})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Last Check"}),g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.length>0&&n[0]?.lastCheck?new Date(n[0].lastCheck).toLocaleString("en-US",{timeZone:"America/New_York"}):"Never"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"API Endpoints"}),g.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[y==="connected"?"Yahoo Finance":k==="connected"?"Finnhub":N==="connected"?"Massive":"None"," Active"]})]})]}),g.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Real-time stock market data with automatic fallback between Yahoo Finance, Finnhub, and Massive APIs"}),g.jsxs("button",{type:"button",onClick:()=>{Tt(),ht()},disabled:e,className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[g.jsx("svg",{className:`w-4 h-4 ${e?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6 mb-6",children:[g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y==="connected"?"bg-green-100 dark:bg-green-900/20":y==="failed"?"bg-red-100 dark:bg-red-900/20":"bg-gray-100 dark:bg-gray-700/50"}`,children:g.jsx("svg",{className:`w-6 h-6 ${y==="connected"?"text-green-600 dark:text-green-400":y==="failed"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Yahoo Finance API"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:g.jsx("a",{href:"https://finance.yahoo.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"query1.finance.yahoo.com"})}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Primary Endpoint"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-3 h-3 rounded-full ${y==="connected"?"bg-green-500 animate-pulse":y==="failed"?"bg-red-500":"bg-gray-400"}`}),g.jsx("span",{className:`text-sm font-medium ${y==="connected"?"text-green-600 dark:text-green-400":y==="failed"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:y==="connected"?"Active":y==="failed"?"Failed":"Standby"})]})]})}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${k==="connected"?"bg-green-100 dark:bg-green-900/20":k==="failed"?"bg-red-100 dark:bg-red-900/20":"bg-blue-100 dark:bg-blue-900/20"}`,children:g.jsx("svg",{className:`w-6 h-6 ${k==="connected"?"text-green-600 dark:text-green-400":k==="failed"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Finnhub API"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:g.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"finnhub.io"})}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Backup Endpoint"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-3 h-3 rounded-full ${k==="connected"?"bg-green-500 animate-pulse":k==="failed"?"bg-red-500":"bg-blue-500"}`}),g.jsx("span",{className:`text-sm font-medium ${k==="connected"?"text-green-600 dark:text-green-400":k==="failed"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:k==="connected"?"Active":k==="failed"?"Failed":"Standby"})]})]})}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${N==="connected"?"bg-green-100 dark:bg-green-900/20":N==="failed"?"bg-red-100 dark:bg-red-900/20":"bg-purple-100 dark:bg-purple-900/20"}`,children:g.jsx("svg",{className:`w-6 h-6 ${N==="connected"?"text-green-600 dark:text-green-400":N==="failed"?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Massive API"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:g.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"api.massive.com"})}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Backup Endpoint"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-3 h-3 rounded-full ${N==="connected"?"bg-green-500 animate-pulse":N==="failed"?"bg-red-500":"bg-purple-500"}`}),g.jsx("span",{className:`text-sm font-medium ${N==="connected"?"text-green-600 dark:text-green-400":N==="failed"?"text-red-600 dark:text-red-400":"text-purple-600 dark:text-purple-400"}`,children:N==="connected"?"Active":N==="failed"?"Failed":"Standby"})]})]})}),g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${E==="operational"?"bg-green-100 dark:bg-green-900/20":E==="down"?"bg-red-100 dark:bg-red-900/20":"bg-orange-100 dark:bg-orange-900/20"}`,children:g.jsx("svg",{className:`w-6 h-6 ${E==="operational"?"text-green-600 dark:text-green-400":E==="down"?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fibhub News API"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:g.jsx("a",{href:"https://fibhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"api.fibhub.io"})}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"News Endpoint"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-3 h-3 rounded-full ${E==="operational"?"bg-green-500 animate-pulse":E==="down"?"bg-red-500":"bg-orange-500"}`}),g.jsx("span",{className:`text-sm font-medium ${E==="operational"?"text-green-600 dark:text-green-400":E==="down"?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,children:E==="operational"?"Operational":E==="down"?"Down":"Checking..."})]})]})})]}),g.jsx(X5,{isOpen:r,onClose:()=>{l(!1),u(null)},onSave:kt,monitor:c})]})}function Z5({columns:n,rows:t,columnUnit:e,rowUnit:i,onColumnsChange:r,onRowsChange:l,onColumnUnitChange:c,onRowUnitChange:u}){return g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Columns"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",min:"1",max:"12",value:n,onChange:h=>r(parseInt(h.target.value)||1),className:"flex-1 py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500"}),g.jsxs("select",{value:e,onChange:h=>c(h.target.value),className:"py-2 px-3 block border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"fr",children:"fr"}),g.jsx("option",{value:"px",children:"px"}),g.jsx("option",{value:"%",children:"%"}),g.jsx("option",{value:"auto",children:"auto"}),g.jsx("option",{value:"1fr",children:"1fr"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rows"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",min:"1",max:"12",value:t,onChange:h=>l(parseInt(h.target.value)||1),className:"flex-1 py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500"}),g.jsxs("select",{value:i,onChange:h=>u(h.target.value),className:"py-2 px-3 block border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",children:[g.jsx("option",{value:"fr",children:"fr"}),g.jsx("option",{value:"px",children:"px"}),g.jsx("option",{value:"%",children:"%"}),g.jsx("option",{value:"auto",children:"auto"}),g.jsx("option",{value:"1fr",children:"1fr"})]})]})]})]})}function K5({id:n,children:t}){const{attributes:e,listeners:i,setNodeRef:r,transform:l,transition:c}=mh({id:n}),u={transform:ur.Transform.toString(l),transition:c};return g.jsx("div",{ref:r,style:u,...e,...i,className:"cursor-move",children:t})}function J5({columns:n,rows:t,columnUnit:e,rowUnit:i,items:r,onItemsChange:l}){const c=K1(Yu(dh),Yu(hh,{coordinateGetter:b2})),u=Array(n).fill(`1${e==="1fr"?"fr":e}`).join(" "),h=Array(t).fill(`1${i==="1fr"?"fr":i}`).join(" "),f=m=>{const{active:b,over:y}=m;if(b.id!==y.id){const v=r.findIndex(S=>S.id===b.id),k=r.findIndex(S=>S.id===y.id);l(za(r,v,k))}};return g.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:g.jsx("div",{className:"grid gap-2 min-h-[400px]",style:{gridTemplateColumns:u,gridTemplateRows:h},children:g.jsx(zu,{sensors:c,collisionDetection:Ru,onDragEnd:f,children:g.jsx(Lu,{items:r.map(m=>m.id),strategy:mg,children:r.map(m=>g.jsx(K5,{id:m.id,children:g.jsx("div",{className:"bg-blue-500 text-white p-4 rounded-lg flex items-center justify-center font-semibold",children:m.label})},m.id))})})})})}function tD({columns:n,rows:t,columnUnit:e,rowUnit:i}){const[r,l]=_.useState(!1),c=Array(n).fill(`1${e==="1fr"?"fr":e}`).join(" "),u=Array(t).fill(`1${i==="1fr"?"fr":i}`).join(" "),h=`.grid-container {
  display: grid;
  grid-template-columns: ${c};
  grid-template-rows: ${u};
  gap: 1rem;
}`,f=async()=>{try{await navigator.clipboard.writeText(h),l(!0),setTimeout(()=>l(!1),2e3)}catch(m){console.error("Failed to copy:",m)}};return g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Generated CSS"}),g.jsx("button",{type:"button",onClick:f,className:"py-1 px-3 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:r?"Copied!":"Copy"})]}),g.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:g.jsx("code",{children:h})})]})}function eD(){const[n,t]=_.useState(3),[e,i]=_.useState(3),[r,l]=_.useState("fr"),[c,u]=_.useState("fr"),[h,f]=_.useState(()=>{const y=[];for(let v=1;v<=9;v++)y.push({id:`item-${v}`,label:`Item ${v}`});return y}),m=()=>{const y=`item-${Date.now()}`;f([...h,{id:y,label:`Item ${h.length+1}`}])},b=()=>{t(3),i(3),l("fr"),u("fr");const y=[];for(let v=1;v<=9;v++)y.push({id:`item-${v}`,label:`Item ${v}`});f(y)};return g.jsxs("div",{children:[g.jsx(Z5,{columns:n,rows:e,columnUnit:r,rowUnit:c,onColumnsChange:t,onRowsChange:i,onColumnUnitChange:l,onRowUnitChange:u}),g.jsxs("div",{className:"mb-4 flex gap-2",children:[g.jsx("button",{type:"button",onClick:m,className:"py-2 px-4 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Add Item"}),g.jsx("button",{type:"button",onClick:b,className:"py-2 px-4 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset"})]}),g.jsx(J5,{columns:n,rows:e,columnUnit:r,rowUnit:c,items:h,onItemsChange:f}),g.jsx(tD,{columns:n,rows:e,columnUnit:r,rowUnit:c})]})}function nD(){const[n,t]=_.useState(()=>{const Q=localStorage.getItem("darkMode");return Q?JSON.parse(Q):!1}),[e,i]=_.useState({finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}),[r,l]=_.useState(()=>{const Q=localStorage.getItem("refreshInterval");return Q?parseInt(Q,10):30}),[c,u]=_.useState(()=>{const Q=localStorage.getItem("defaultSymbols");return Q?JSON.parse(Q):["AAPL","GOOGL","MSFT","TSLA","AMZN"]}),[h,f]=_.useState(""),[m,b]=_.useState(()=>{const Q=localStorage.getItem("notificationSettings");return Q?JSON.parse(Q):{priceAlerts:!0,apiStatusAlerts:!0,errorAlerts:!0,soundEnabled:!1}}),[y,v]=_.useState(()=>{const Q=localStorage.getItem("generalSettings");return Q?JSON.parse(Q):{autoRefresh:!0,showTooltips:!0,compactMode:!1}}),[k,S]=_.useState({message:"",type:""}),[N,j]=_.useState({finnhub:!1,massive:!1});_.useEffect(()=>{const Q=localStorage.getItem("apiKeys");Q&&i(JSON.parse(Q))},[]),_.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(n))},[n]);const E=()=>{localStorage.setItem("apiKeys",JSON.stringify(e)),H("API keys saved successfully","success")},D=()=>{localStorage.setItem("refreshInterval",r.toString()),H("Refresh interval saved successfully","success")},U=()=>{localStorage.setItem("defaultSymbols",JSON.stringify(c)),H("Default symbols saved successfully","success")},A=()=>{localStorage.setItem("notificationSettings",JSON.stringify(m)),H("Notification settings saved successfully","success")},F=()=>{localStorage.setItem("generalSettings",JSON.stringify(y)),H("General settings saved successfully","success")},H=(Q,J)=>{S({message:Q,type:J}),setTimeout(()=>{S({message:"",type:""})},3e3)},X=()=>{const Q=h.toUpperCase().trim();Q&&!c.includes(Q)&&(u([...c,Q]),f(""))},P=Q=>{u(c.filter(J=>J!==Q))},et=()=>{window.confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(localStorage.removeItem("apiKeys"),localStorage.removeItem("refreshInterval"),localStorage.removeItem("defaultSymbols"),localStorage.removeItem("notificationSettings"),localStorage.removeItem("generalSettings"),i({finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}),l(30),u(["AAPL","GOOGL","MSFT","TSLA","AMZN"]),b({priceAlerts:!0,apiStatusAlerts:!0,errorAlerts:!0,soundEnabled:!1}),v({autoRefresh:!0,showTooltips:!0,compactMode:!1}),H("All settings reset to defaults","success"))};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Settings"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage your application preferences and configuration"})]}),g.jsx("button",{onClick:et,className:"px-3 py-1.5 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Reset to Defaults"})]}),k.message&&g.jsx("div",{className:`rounded-lg p-4 ${k.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"}`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[k.type==="success"?g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),g.jsx("span",{children:k.message})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Appearance"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Customize the look and feel of the application"})]})}),g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Dark Mode"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Switch between light and dark theme"})]}),g.jsx("button",{type:"button",onClick:()=>t(!n),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",role:"switch","aria-checked":n,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"API Keys"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Manage your API keys for different data sources"})]}),g.jsx("button",{onClick:E,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save API Keys"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Finnhub API Key"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:N.finnhub?"text":"password",value:e.finnhub,onChange:Q=>i({...e,finnhub:Q.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter Finnhub API key"}),g.jsx("button",{type:"button",onClick:()=>j({...N,finnhub:!N.finnhub}),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:N.finnhub?g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Get your free API key from ",g.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"finnhub.io"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Massive API Key"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:N.massive?"text":"password",value:e.massive,onChange:Q=>i({...e,massive:Q.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter Massive API key"}),g.jsx("button",{type:"button",onClick:()=>j({...N,massive:!N.massive}),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:N.massive?g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Manage your API key from ",g.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"massive.com"})]})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Data Refresh"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure how often data is refreshed"})]}),g.jsx("button",{onClick:D,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Interval"})]}),g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Refresh Interval (seconds)"}),g.jsx("input",{type:"number",min:"5",max:"300",value:r,onChange:Q=>l(parseInt(Q.target.value,10)||30),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Data will refresh every ",r," seconds (minimum: 5, maximum: 300)"]})]})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Default Symbols"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure default stock symbols to monitor"})]}),g.jsx("button",{onClick:U,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Symbols"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:h,onChange:Q=>f(Q.target.value.toUpperCase()),onKeyPress:Q=>Q.key==="Enter"&&X(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter symbol (e.g., AAPL)",maxLength:"10"}),g.jsx("button",{onClick:X,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Add"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(Q=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg",children:[g.jsx("span",{className:"text-sm font-medium",children:Q}),g.jsx("button",{onClick:()=>P(Q),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:g.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},Q))}),c.length===0&&g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No symbols added. Add symbols to monitor by default."})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Notifications"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure notification preferences"})]}),g.jsx("button",{onClick:A,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Notifications"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Price Alerts"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when prices reach your target"})]}),g.jsx("button",{type:"button",onClick:()=>b({...m,priceAlerts:!m.priceAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.priceAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.priceAlerts?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"API Status Alerts"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when API endpoints change status"})]}),g.jsx("button",{type:"button",onClick:()=>b({...m,apiStatusAlerts:!m.apiStatusAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.apiStatusAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.apiStatusAlerts?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Error Alerts"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when errors occur"})]}),g.jsx("button",{type:"button",onClick:()=>b({...m,errorAlerts:!m.errorAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.errorAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.errorAlerts?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Sound Notifications"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Play sound when notifications appear"})]}),g.jsx("button",{type:"button",onClick:()=>b({...m,soundEnabled:!m.soundEnabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.soundEnabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.soundEnabled?"translate-x-6":"translate-x-1"}`})})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"General"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"General application preferences"})]}),g.jsx("button",{onClick:F,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save General"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto Refresh"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Automatically refresh data at configured intervals"})]}),g.jsx("button",{type:"button",onClick:()=>v({...y,autoRefresh:!y.autoRefresh}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.autoRefresh?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.autoRefresh?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Show Tooltips"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Display helpful tooltips throughout the application"})]}),g.jsx("button",{type:"button",onClick:()=>v({...y,showTooltips:!y.showTooltips}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.showTooltips?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.showTooltips?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Compact Mode"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Use a more compact layout to fit more information"})]}),g.jsx("button",{type:"button",onClick:()=>v({...y,compactMode:!y.compactMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.compactMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.compactMode?"translate-x-6":"translate-x-1"}`})})]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 lg:col-span-2",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CSS Grid Generator"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Create dynamic layouts by configuring your grid columns and rows, then drag elements to position them."})]}),g.jsx(eD,{})]})]})]})}function ke(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Yr(n,t){return n.width===t.width&&n.height===t.height}var iD=(function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n})();function sD(n){return new iD(n)}var rD=(function(){function n(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=ke({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??(function(l){return l}),this._allowResizeObserver=(r=i?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return ke({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=ke(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Yr(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=ke(this._transformBitmapSize(t,this._canvasElementClientSize)),r=Yr(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&Yr(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}lD().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Hv(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=sD(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=Hv(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,l=this._canvasElement.getClientRects(),c=l[0]!==void 0?oD(l[0],r):ke({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(c)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(c){return c.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],l=ke({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(l)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n})();function aD(n,t){return new rD(n,t.transform,t.options)}function Hv(n){return n.ownerDocument.defaultView}function lD(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function oD(n,t){return ke({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var cD=(function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n})();function $r(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var r=n.canvasElement.getContext("2d",t);return r===null?null:new cD(r,e,i)}const Vw={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Vv,Da;function Ia(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function Uw(n,t,e,i){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(e,t+r),n.lineTo(i,t+r),n.stroke()}function yn(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function Xn(n){if(n===void 0)throw new Error("Value is undefined");return n}function pt(n){if(n===null)throw new Error("Value is null");return n}function lr(n){return pt(Xn(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(Vv||(Vv={})),(function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"})(Da||(Da={}));class qe{constructor(){this.t=[]}i(t,e,i){const r={h:t,l:e,o:i===!0};this.t.push(r)}_(t){const e=this.t.findIndex((i=>t===i.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const r=[...this.t];this.t=this.t.filter((l=>!l.o)),r.forEach((l=>l.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function hi(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&Object.prototype.hasOwnProperty.call(e,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:hi(n[i],e[i]));return n}function Ya(n){return typeof n=="number"&&isFinite(n)}function Ao(n){return typeof n=="number"&&n%1==0}function Wo(n){return typeof n=="string"}function ku(n){return typeof n=="boolean"}function Ss(n){const t=n;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?Ss(r):r);return e}function uD(n){return n!==null}function hD(n){return n===null?void 0:n}const Fw="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function nh(n,t,e){return t===void 0&&(t=Fw),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class dD{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),i=this.W();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=nh(e,i),t.A=2.5/12*e,t.V=t.A,t.B=e/12*t.C,t.I=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function h0(n){return n<0?0:n>255?255:Math.round(n)||0}function Uv(n){return .199*n[0]+.687*n[1]+.114*n[2]}class fD{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const i=this.K(t),r=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*r})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Uv(e)>160?"black":"white"}}J(t){return Uv(this.K(t))}tt(t,e,i){const[r,l,c,u]=this.K(t),[h,f,m,b]=this.K(e),y=[h0(r+i*(h-r)),h0(l+i*(f-l)),h0(c+i*(m-c)),(v=u+i*(b-u),v<=0||v>1?Math.min(Math.max(v,0),1):Math.round(1e4*v)/1e4)];var v;return`rgba(${y[0]}, ${y[1]}, ${y[2]}, ${y[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=(function(c){const u=document.createElement("div");u.style.display="none",document.body.appendChild(u),u.style.color=c;const h=window.getComputedStyle(u).color;return document.body.removeChild(u),h})(t),r=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const c of this.Y){const u=c(t);if(u)return this.q.set(t,u),u}throw new Error(`Failed to parse color: ${t}`)}const l=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,l),l}}class gD{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((r=>{r.nt(t,e,i)}))}}class Go{nt(t,e,i){t.useBitmapCoordinateSpace((r=>this.et(r,e,i)))}}class mD extends Go{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,l=this.rt,c=Math.max(1,Math.floor(e))%2/2,u=h=>{t.beginPath();for(let f=r.to-1;f>=r.from;--f){const m=l.ot[f],b=Math.round(m._t*e)+c,y=m.ut*i,v=h*i+c;t.moveTo(b,y),t.arc(b,y,v,0,2*Math.PI)}t.fill()};l.ct>0&&(t.fillStyle=l.dt,u(l.ft+l.ct)),t.fillStyle=l.vt,u(l.ft)}}function pD(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const bD={from:0,to:1};class xD{constructor(t,e,i){this.Mt=new gD,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=i,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(pD),this.bt=this.St.map((e=>{const i=new mD;return i.ht(e),i})),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.Pt.Bt(),i=this.Ct.It(),r=this.O.Et();this.kt(),e.forEach(((l,c)=>{const u=this.St[c],h=l.At(i),f=l.zt();!t&&h!==null&&l.Vt()&&f!==null?(u.vt=h.Lt,u.ft=h.ft,u.ct=h.Ot,u.ot[0].gt=h.gt,u.ot[0].ut=l.Ft().Nt(h.gt,f.Wt),u.dt=h.Ht??this.O.Ut(u.ot[0].ut/l.Ft().$t()),u.ot[0].wt=i,u.ot[0]._t=r.qt(i),u.lt=bD):u.lt=null}))}}class yD extends Go{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const l=this.Yt.jt.Vt,c=this.Yt.Kt.Vt;if(!l&&!c)return;const u=Math.round(this.Yt._t*i),h=Math.round(this.Yt.ut*r);t.lineCap="butt",l&&u>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,Ia(t,this.Yt.jt.Xt),(function(f,m,b,y){f.beginPath();const v=f.lineWidth%2?.5:0;f.moveTo(m+v,b),f.lineTo(m+v,y),f.stroke()})(t,u,0,e.height)),c&&h>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,Ia(t,this.Yt.Kt.Xt),Uw(t,h,0,e.width))}}class vD{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new yD(this.Zt),this.Jt=t,this.Pt=e}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,i=this.Zt;if(e.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.Pt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function vh(n,t,e,i,r,l){n.save(),n.globalCompositeOperation="copy",n.fillStyle=l,n.fillRect(t,e,i,r),n.restore()}function Fv(n,t,e,i,r,l){n.beginPath(),n.roundRect?n.roundRect(t,e,i,r,l):(n.lineTo(t+i-l[1],e),l[1]!==0&&n.arcTo(t+i,e,t+i,e+l[1],l[1]),n.lineTo(t+i,e+r-l[2]),l[2]!==0&&n.arcTo(t+i,e+r,t+i-l[2],e+r,l[2]),n.lineTo(t+l[3],e+r),l[3]!==0&&n.arcTo(t,e+r,t,e+r-l[3],l[3]),n.lineTo(t,e+l[0]),l[0]!==0&&n.arcTo(t,e,t+l[0],e,l[0]))}function Iv(n,t,e,i,r,l,c=0,u=[0,0,0,0],h=""){if(n.save(),!c||!h||h===l)return Fv(n,t,e,i,r,u),n.fillStyle=l,n.fill(),void n.restore();const f=c/2;var m;Fv(n,t+f,e+f,i-c,r-c,(m=-f,u.map((b=>b===0?b:b+m)))),l!=="transparent"&&(n.fillStyle=l,n.fill()),h!=="transparent"&&(n.lineWidth=c,n.strokeStyle=h,n.closePath(),n.stroke()),n.restore()}function Iw(n,t,e,i,r,l,c){n.save(),n.globalCompositeOperation="copy";const u=n.createLinearGradient(0,0,0,r);u.addColorStop(0,l),u.addColorStop(1,c),n.fillStyle=u,n.fillRect(t,e,i,r),n.restore()}class Yv{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const l=this.Yt.R,c=this.ei.Z,u=t.useBitmapCoordinateSpace((h=>{const f=h.context;f.font=e.k;const m=this.hi(h,e,i,r),b=m.ai;return m.li?Iv(f,b.oi,b._i,b.ui,b.ci,c,b.di,[b.ft,0,0,b.ft],c):Iv(f,b.fi,b._i,b.ui,b.ci,c,b.di,[0,b.ft,b.ft,0],c),this.Yt.pi&&(f.fillStyle=l,f.fillRect(b.fi,b.mi,b.wi-b.fi,b.gi)),this.Yt.Mi&&(f.fillStyle=e.D,f.fillRect(m.li?b.bi-b.di:0,b._i,b.di,b.Si-b._i)),m}));t.useMediaCoordinateSpace((({context:h})=>{const f=u.xi;h.font=e.k,h.textAlign=u.li?"right":"left",h.textBaseline="middle",h.fillStyle=l,h.fillText(this.Yt.ri,f.Ci,(f._i+f.Si)/2+f.Pi)}))}hi(t,e,i,r){const{context:l,bitmapSize:c,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:f}=t,m=this.Yt.pi||!this.Yt.yi?e.C:0,b=this.Yt.ki?e.S:0,y=e.A+this.ei.Ti,v=e.V+this.ei.Ri,k=e.B,S=e.I,N=this.Yt.ri,j=e.P,E=i.Di(l,N),D=Math.ceil(i.Vi(l,N)),U=j+y+v,A=e.S+k+S+D+m,F=Math.max(1,Math.floor(f));let H=Math.round(U*f);H%2!=F%2&&(H+=1);const X=b>0?Math.max(1,Math.floor(b*h)):0,P=Math.round(A*h),et=Math.round(m*h),Q=this.ei.Bi??this.ei.Ii,J=Math.round(Q*f)-Math.floor(.5*f),it=Math.floor(J+F/2-H/2),st=it+H,ut=r==="right",V=ut?u.width-b:b,Y=ut?c.width-X:X;let ot,ft,bt;return ut?(ot=Y-P,ft=Y-et,bt=V-m-k-b):(ot=Y+P,ft=Y+et,bt=V+m+k),{li:ut,ai:{_i:it,mi:J,Si:st,ui:P,ci:H,ft:2*h,di:X,oi:ot,fi:Y,wi:ft,gi:F,bi:c.width},xi:{_i:it/f,Si:st/f,Ci:bt,Pi:E}}}}class wh{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||Yv)(this.Ai,this.Ei),this.Oi=new(t||Yv)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class wD extends wh{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const l=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||l===null)return;const c=this.Yi.Xi().X(r.labelBackgroundColor);i.Z=c.Z,t.R=c.G;const u=2/12*this.Yi.P();i.Ti=u,i.Ri=u;const h=this.ji(this.Yi);i.Ii=h.Ii,t.ri=this.Yi.Zi(h.gt,l),t.Vt=!0}}const SD=/[1-9]/g;class Yw{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=t.useMediaCoordinateSpace((({context:y})=>(y.font=e.k,Math.round(e.Gi.Vi(y,pt(this.Yt).ri,SD)))));if(i<=0)return;const r=e.Ji,l=i+2*r,c=l/2,u=this.Yt.Qi;let h=this.Yt.Ii,f=Math.floor(h-c)+.5;f<0?(h+=Math.abs(0-f),f=Math.floor(h-c)+.5):f+l>u&&(h-=Math.abs(u-(f+l)),f=Math.floor(h-c)+.5);const m=f+l,b=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace((({context:y,horizontalPixelRatio:v,verticalPixelRatio:k})=>{const S=pt(this.Yt);y.fillStyle=S.Z;const N=Math.round(f*v),j=Math.round(0*k),E=Math.round(m*v),D=Math.round(b*k),U=Math.round(2*v);if(y.beginPath(),y.moveTo(N,j),y.lineTo(N,D-U),y.arcTo(N,D,N+U,D,U),y.lineTo(E-U,D),y.arcTo(E,D,E,D-U,U),y.lineTo(E,j),y.fill(),S.pi){const A=Math.round(S.Ii*v),F=j,H=Math.round((F+e.C)*k);y.fillStyle=S.R;const X=Math.max(1,Math.floor(v)),P=Math.floor(.5*v);y.fillRect(A-P,F,X,H-F)}})),t.useMediaCoordinateSpace((({context:y})=>{const v=pt(this.Yt),k=0+e.S+e.C+e.A+e.P/2;y.font=e.k,y.textAlign="left",y.textBaseline="middle",y.fillStyle=v.R;const S=e.Gi.Di(y,"Apr0");y.translate(f+r,k+S),y.fillText(v.ri,0,0)}))}}class kD{constructor(t,e,i){this.xt=!0,this.Gt=new Yw,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;t.Qi=i.Qi();const r=this.ji();if(r===null)return;t.Ii=r.Ii;const l=i.ss(this.Ct.It());t.ri=i.ns(pt(l)),t.Vt=!0;const c=this.ts.Xi().X(e.labelBackgroundColor);t.Z=c.Z,t.R=c.G,t.pi=i.N().ticksVisible}}class qw{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var G0;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(G0||(G0={}));class _D extends qw{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ys=((r,l)=>c=>{const u=l(),h=r();if(c===pt(this.Pt).ks())return{gt:h,Ii:u};{const f=pt(c.zt());return{gt:c.Ts(u,f),Ii:u}}})((()=>this.ds),(()=>this.Ss));const i=((r,l)=>()=>{const c=this.ts.Et().Rs(r()),u=l();return c&&Number.isFinite(u)?{wt:c,Ii:u}:null})((()=>this.fs),(()=>this.si()));this.Ds=new kD(this,t,i)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new vD(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new xD(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const i=[];return this.Pt===t&&i.push(this.Hs(this.vs,e,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()})),this.vs.forEach((t=>t.yt())),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const r=this.bs,l=this.Ss,c=this.ds,u=this.fs,h=this.Pt,f=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=i;const m=f!==null?f.zt():null;return f!==null&&m!==null?(this.ds=e,this.Ss=f.Nt(e,m)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||l!==this.Ss||u!==this.fs||c!==this.ds||h!==this.Pt}Os(){const t=this.ts.js().map((i=>i.Xs().Ks())).filter(uD),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,i){let r=t.get(e);return r===void 0&&(r=new wD(this,e,i),t.set(e,r)),r}}function Sh(n){return n==="left"||n==="right"}class xn{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=(function(r,l){return r===void 0?l:{tn:Math.max(r.tn,l.tn),sn:r.sn||l.sn}})(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((e,i)=>{this.Qs(i,e)}))}static wn(){return new xn(2)}static gn(){return new xn(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((e=>e.an===5));t!==-1&&this.Gs.splice(t,1)}}class $w{formatTickmarks(t){return t.map((e=>this.format(e)))}}const qv=".";function ks(n,t){if(!Ya(n))return"n/a";if(!Ao(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class kh extends $w{constructor(t,e){if(super(),e||(e=1),Ya(t)&&Ao(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),r="";const l=this.xn!==void 0?this.xn:NaN;if(e>1){let c=+(Math.round(t*e)-i*e).toFixed(this.xn);c>=e&&(c-=e,i+=1),r=qv+ks(+c.toFixed(this.xn)*this.Mn,l)}else i=Math.round(i*e)/e,l>0&&(r=qv+ks(0,l));return i.toFixed(0)+r}}class Ww extends kh{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class ND extends $w{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((r,l)=>l))}}const jD=/[2-9]/g;class ih{constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.In(t,e,i).width}Di(t,e,i){const r=this.In(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}In(t,e,i){const r=i||jD,l=String(e).replace(r,"0");if(this.Dn.has(l))return Xn(this.Dn.get(l)).En;if(this.yn===this.Vn){const u=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(u),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";const c=t.measureText(l);return t.restore(),c.width===0&&e.length||(this.Dn.set(l,{En:c,An:this.kn}),this.Rn[this.kn]=l,this.yn++,this.kn++),c}}class MD{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class Gw{constructor(t,e,i){this.Fn=t,this.On=new ih(50),this.Wn=e,this.O=i,this.F=-1,this.Gt=new MD(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(e===null)return null;const i=t.qn(e);if(i==="overlay")return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),r,i),this.Gt}}class CD extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:r,Kn:l}=this.Yt;return e>=i-r-7&&e<=i+r+7?{Xn:this.Yt,Kn:l}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const l=Math.round(this.Yt.ut*r);l<0||l>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),Ia(t,this.Yt.Xt),Uw(t,l,0,e.width))}}class Vg{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new CD,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class ED extends Vg{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(e!==2&&e!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Wt,r.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class TD extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Yt;if(r===null)return;const l=Math.max(1,Math.floor(e)),c=l%2/2,u=Math.round(r.ne.x*e)+c,h=r.ne.y*i;t.fillStyle=r.ee,t.beginPath();const f=Math.max(2,1.5*r.re)*e;t.arc(u,h,f,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(u,h,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=l,t.strokeStyle=r.ae,t.beginPath(),t.arc(u,h,r.ft*e+l/2,0,2*Math.PI,!1),t.stroke()}}const DD=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class AD{constructor(t){this.Gt=new TD,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),i=this.ge.zt();if(e===null||i===null)return;const r=this.ge.ye(!0);if(r.ke||!e.Te(r.Re))return;const l={x:t.qt(r.Re),y:this.ge.Ft().Nt(r.gt,i.Wt)},c=r.R,u=this.ge.N().lineWidth,h=this.De(this.Ve(),c);this.Gt.ht({ee:c,re:u,he:h.he,ae:h.ae,ft:h.ft,ne:l})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,e,i,r){const l=i+(r-i)*e;return this.ge.Qt().Xi().j(t,l)}De(t,e){const i=t%2600/2600;let r;for(const f of DD)if(i>=f.le&&i<=f.oe){r=f;break}yn(r!==void 0,"Last price animation internal logic error");const l=(i-r.le)/(r.oe-r.le);return{he:this.Be(e,l,r.ce,r.de),ae:this.Be(e,l,r.fe,r.pe),ft:(c=l,u=r._e,h=r.ue,u+(h-u)*c)};var c,u,h}}class RD extends Vg{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(e.priceLineSource===0);i.ke||(t.Vt=!0,t.ut=i.Ii,t.R=this.Jn.Ie(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class OD extends wh{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const l=r.N(),c=l.lastValueVisible,u=r.Ee()!=="",h=l.seriesLastValueMode===0,f=r.ye(!1);if(f.ke)return;c&&(t.ri=this.Ae(f,c,h),t.Vt=t.ri.length!==0),(u||h)&&(e.ri=this.ze(f,c,u,h),e.Vt=e.ri.length>0);const m=r.Ie(f.R),b=this.Jt.Qt().Xi().X(m);i.Z=b.Z,i.Ii=f.Ii,e.Ht=r.Qt().Ut(f.Ii/r.Ft().$t()),t.Ht=m,t.R=b.G,e.R=b.G}ze(t,e,i,r){let l="";const c=this.Jt.Ee();return i&&c.length!==0&&(l+=`${c} `),e&&r&&(l+=this.Jt.Ft().Le()?t.Oe:t.Ne),l.trim()}Ae(t,e,i){return e?i?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function $v(n,t,e,i){const r=Number.isFinite(t),l=Number.isFinite(e);return r&&l?n(t,e):r||l?r?t:e:i}class Pn{constructor(t,e){this.Fe=t,this.We=e}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new Pn(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new Pn($v(Math.min,this.$e(),t.$e(),-1/0),$v(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Ya(t)||this.We-this.Fe===0)return;const e=.5*(this.We+this.Fe);let i=this.We-e,r=this.Fe-e;i*=t,r*=t,this.We=e+i,this.Fe=e+r}Ke(t){Ya(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new Pn(t.minValue,t.maxValue)}}class sh{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new sh(Pn.Ze(t.priceRange),t.margins)}}class zD extends Vg{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();i!==null&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class LD extends wh{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),l=r.axisLabelVisible,c=r.title!=="",u=this.ge;if(!l||!u.Vt())return;const h=this.ir.sr();if(h===null)return;c&&(e.ri=r.title,e.Vt=!0),e.Ht=u.Qt().Ut(h/u.Ft().$t()),t.ri=this.nr(r.price),t.Vt=!0;const f=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);i.Z=f.Z;const m=r.axisLabelTextColor||f.G;t.R=m,e.R=m,i.Ii=h}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Ft().Zi(t,e.Wt)}}class PD{constructor(t,e){this.ge=t,this.Ps=e,this.er=new zD(t,this),this.Fn=new LD(t,this),this.rr=new Gw(this.Fn,t,t.Qt())}hr(t){hi(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const i=t.zt();return i===null?null:e.Nt(this.Ps.price,i.Wt)}}class BD extends qw{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const HD={Bar:(n,t,e,i)=>{const r=t.upColor,l=t.downColor,c=pt(n(e,i)),u=lr(c.Wt[0])<=lr(c.Wt[3]);return{cr:c.R??(u?r:l)}},Candlestick:(n,t,e,i)=>{const r=t.upColor,l=t.downColor,c=t.borderUpColor,u=t.borderDownColor,h=t.wickUpColor,f=t.wickDownColor,m=pt(n(e,i)),b=lr(m.Wt[0])<=lr(m.Wt[3]);return{cr:m.R??(b?r:l),dr:m.Ht??(b?c:u),pr:m.vr??(b?h:f)}},Custom:(n,t,e,i)=>({cr:pt(n(e,i)).R??t.color}),Area:(n,t,e,i)=>{const r=pt(n(e,i));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(n,t,e,i)=>{const r=pt(n(e,i));return{cr:r.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,Pr:r.Pr??t.bottomFillColor2}},Line:(n,t,e,i)=>{const r=pt(n(e,i));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(n,t,e,i)=>({cr:pt(n(e,i)).R??t.color})};class VD{constructor(t){this.yr=(e,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(e),this.ge=t,this.Tr=HD[t.Rr()]}Dr(t,e){return this.Tr(this.yr,this.ge.N(),t,e)}}function Xw(n,t,e,i,r=0,l=t.length){let c=l-r;for(;0<c;){const u=c>>1,h=r+u;i(t[h],e)===n?(r=h+1,c-=u+1):c=u}return r}const qa=Xw.bind(null,!0),Qw=Xw.bind(null,!1);var Wv;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Wv||(Wv={}));const er=30;class UD{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}kr(t){return this.Fr(t)}Fr(t,e=0){const i=this.Nr(t,e);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let r=null;for(const l of i)r=_u(r,this.$r(t,e,l));return r}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map((e=>e.Re))}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(i===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return qa(this.Vr,t,((e,i)=>e.Re<i))}Zr(t){return Qw(this.Vr,t,((e,i)=>e.Re>i))}Gr(t,e,i){let r=null;for(let l=t;l<e;l++){const c=this.Vr[l].Wt[i];Number.isNaN(c)||(r===null?r={Jr:c,Qr:c}:(c<r.Jr&&(r.Jr=c),c>r.Qr&&(r.Qr=c)))}return r}$r(t,e,i){if(this.Ki())return null;let r=null;const l=pt(this.Lr()),c=pt(this.Ks()),u=Math.max(t,l),h=Math.min(e,c),f=Math.ceil(u/er)*er,m=Math.max(f,Math.floor(h/er)*er);{const y=this.Xr(u),v=this.Zr(Math.min(h,f,e));r=_u(r,this.Gr(y,v,i))}let b=this.Br.get(i);b===void 0&&(b=new Map,this.Br.set(i,b));for(let y=Math.max(f+1,u);y<m;y+=er){const v=Math.floor(y/er);let k=b.get(v);if(k===void 0){const S=this.Xr(v*er),N=this.Zr((v+1)*er-1);k=this.Gr(S,N,i),b.set(v,k)}r=_u(r,k)}{const y=this.Xr(m),v=this.Zr(h);r=_u(r,this.Gr(y,v,i))}return r}}function _u(n,t){return n===null?t:t===null?n:{Jr:Math.min(n.Jr,t.Jr),Qr:Math.max(n.Qr,t.Qr)}}const rh={setLineStyle:Ia};class FD{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rh)}ih(t,e,i){this.th.drawBackground?.(t,rh)}}class ID{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new FD(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class Zw{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((i=>new ID(i)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let YD=class extends Zw{us(){return[]}};class qD{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rh)}ih(t,e,i){this.th.drawBackground?.(t,rh)}}class Gv{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new qD(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Kw(n){return{ri:n.text(),Ii:n.coordinate(),Bi:n.fixedCoordinate?.(),R:n.textColor(),Z:n.backColor(),Vt:n.visible?.()??!0,pi:n.tickVisible?.()??!0}}class $D{constructor(t,e){this.Gt=new Yw,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Kw(this._h)}),this.Gt}}class WD extends wh{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const r=Kw(this._h);i.Z=r.Z,t.R=r.R;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l,i.Ii=r.Ii,i.Bi=r.Bi,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class GD extends Zw{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().Et(),i=t.map((r=>new $D(r,e)));return this.dh={nh:t,eh:i},i}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Ft(),i=t.map((r=>new WD(r,e)));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((i=>new Gv(i)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((i=>new Gv(i)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function d0(n,t,e,i){n.forEach((r=>{t(r).forEach((l=>{l.rh()===e&&i.push(l)}))}))}function f0(n){return n.Fs()}function XD(n){return n.wh()}function QD(n){return n.gh()}const ZD=["Area","Line","Baseline"];class _h extends BD{constructor(t,e,i,r,l){super(t),this.Yt=new UD,this.er=new RD(this),this.bh=[],this.Sh=new ED(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=e;const c=new OD(this);this.vs=[c],this.rr=new Gw(c,this,t),ZD.includes(this.kh)&&(this.xh=new AD(this)),this.Th(),this.sh=r(this,this.Qt(),l)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){const e={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return e;const r=this.Qt().Et().Pe(),l=this.zt();if(r===null||l===null)return e;let c,u;if(t){const b=this.Yt.Ar();if(b===null)return e;c=b,u=b.Re}else{const b=this.Yt.Fr(r.bi(),-1);if(b===null||(c=this.Yt.kr(b.Re),c===null))return e;u=b.Re}const h=c.Wt[3],f=this.Rh().Dr(u,{Wt:c}),m=i.Nt(h,l.Wt);return{ke:!1,gt:h,ri:i.Zi(h,l.Wt),Oe:i.Dh(h),Ne:i.Vh(h,l.Wt),R:f.cr,Ii:m,Re:u}}Rh(){return this.Ch!==null||(this.Ch=new VD(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.Ps.priceScaleId&&this.Qt().Bh(this,e),hi(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,e){this.Yt.ht(t),this.sh.yt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new PD(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.kr(t);return e===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];d0(this.yh,f0,"top",e);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),i.Se(),e.unshift(i)),e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map((i=>i.lr()));return t.push(...e),d0(this.yh,f0,"normal",t),t}Jh(){return this.Qh(f0,"bottom")}ta(t){return this.Qh(XD,t)}ia(t){return this.Qh(QD,t)}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const r of this.bh)i.push(r.ur());return this.yh.forEach((r=>{i.push(...r.Ws())})),i}cs(){const t=[];return this.yh.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider((()=>{const r=this.na(t,e);return r===null?null:r.Xe()}));return sh.Ze(i)}return this.na(t,e)}nh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const t of this.vs)t.yt();for(const t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((t=>t.Ns()))}Ft(){return pt(super.Ft())}At(t){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const e=this.Yt.kr(t);return e===null?null:{gt:e.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new GD(t,this))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t))}ca(){if(this.kh==="Custom")return t=>this.sh.da(t)}fa(){if(this.kh==="Custom")return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!Sh(this.Ft().ma())}na(t,e){if(!Ao(t)||!Ao(e)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,i);let l=r!==null?new Pn(r.Jr,r.Qr):null,c=null;if(this.Rr()==="Histogram"){const u=this.Ps.base,h=new Pn(u,u);l=l!==null?l.vn(h):h}return this.yh.forEach((u=>{const h=u.Mh(t,e);if(h?.priceRange){const f=new Pn(h.priceRange.minValue,h.priceRange.maxValue);l=l!==null?l.vn(f):f}h?.margins&&(c=h.margins)})),new sh(l,c)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ra=new ND(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Ww(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new kh(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.wa()}Qh(t,e){const i=[];return d0(this.yh,t,e,i),i}}const KD=[3],JD=[0,1,2,3];class tA{constructor(t){this.Ps=t}ga(t,e,i){let r=t;if(this.Ps.mode===0)return r;const l=i.ks(),c=l.zt();if(c===null)return r;const u=l.Nt(t,c),h=i.Ma().filter((m=>m instanceof _h)).reduce(((m,b)=>{if(i.Un(b)||!b.Vt())return m;const y=b.Ft(),v=b.Xs();if(y.Ki()||!v.Te(e))return m;const k=v.kr(e);if(k===null)return m;const S=lr(b.zt()),N=this.Ps.mode===3?JD:KD;return m.concat(N.map((j=>y.Nt(k.Wt[j],S.Wt))))}),[]);if(h.length===0)return r;h.sort(((m,b)=>Math.abs(m-u)-Math.abs(b-u)));const f=h[0];return r=l.Ts(f,c),r}}function po(n,t,e){return Math.min(Math.max(n,t),e)}function Nu(n,t,e){return t-n<=e}class eA extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const l=Math.max(1,Math.floor(i));t.lineWidth=l,(function(c,u){c.save(),c.lineWidth%2&&c.translate(.5,.5),u(),c.restore()})(t,(()=>{const c=pt(this.Yt);if(c.ba){t.strokeStyle=c.Sa,Ia(t,c.xa),t.beginPath();for(const u of c.Ca){const h=Math.round(u.Pa*i);t.moveTo(h,-l),t.lineTo(h,e.height+l)}t.stroke()}if(c.ya){t.strokeStyle=c.ka,Ia(t,c.Ta),t.beginPath();for(const u of c.Ra){const h=Math.round(u.Pa*r);t.moveTo(-l,h),t.lineTo(e.width+l,h)}t.stroke()}}))}}class nA{constructor(t){this.Gt=new eA,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((i=>({Pa:i.coord})))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class iA{constructor(t){this.sh=new nA(t)}lr(){return this.sh}}const g0={Va:4,Ba:1e-4};function Aa(n,t){const e=100*(n-t)/t;return t<0?-e:e}function sA(n,t){const e=Aa(n.$e(),t),i=Aa(n.qe(),t);return new Pn(e,i)}function bo(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function rA(n,t){const e=bo(n.$e(),t),i=bo(n.qe(),t);return new Pn(e,i)}function ah(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.Ba)+t.Va;return n<0?-i:i}function xo(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Va)-t.Ba;return n<0?-i:i}function to(n,t){if(n===null)return null;const e=ah(n.$e(),t),i=ah(n.qe(),t);return new Pn(e,i)}function Ra(n,t){if(n===null)return null;const e=xo(n.$e(),t),i=xo(n.qe(),t);return new Pn(e,i)}function m0(n){if(n===null)return g0;const t=Math.abs(n.qe()-n.$e());if(t>=1||t<1e-15)return g0;const e=Math.ceil(Math.abs(Math.log10(t))),i=g0.Va+e;return{Va:i,Ba:1/Math.pow(10,i)}}class p0{constructor(t,e){if(this.Ia=t,this.Ea=e,(function(i){if(i<0)return!1;if(i>1e18)return!0;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(t,e,i){const r=this.Ia===0?0:1/this.Ia;let l=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),c=0,u=this.Ea[0];for(;;){const b=Nu(l,r,1e-14)&&l>r+1e-14,y=Nu(l,i*u,1e-14),v=Nu(l,1,1e-14);if(!(b&&y&&v))break;l/=u,u=this.Ea[++c%this.Ea.length]}if(l<=r+1e-14&&(l=r),l=Math.max(1,l),this.Aa.length>0&&(h=l,f=1,m=1e-14,Math.abs(h-f)<m))for(c=0,u=this.Aa[0];Nu(l,i*u,1e-14)&&l>r+1e-14;)l/=u,u=this.Aa[++c%this.Aa.length];var h,f,m;return l}}class Xv{constructor(t,e,i,r){this.La=[],this.Yi=t,this.Ia=e,this.Oa=i,this.Na=r}za(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),r=(t-e)*this.Fa()/i,l=new p0(this.Ia,[2,2.5,2]),c=new p0(this.Ia,[2,2,2.5]),u=new p0(this.Ia,[2.5,2,2]),h=[];return h.push(l.za(t,e,r),c.za(t,e,r),u.za(t,e,r)),(function(f){if(f.length<1)throw Error("array is empty");let m=f[0];for(let b=1;b<f.length;++b)f[b]<m&&(m=f[b]);return m})(h)}Wa(){const t=this.Yi,e=t.zt();if(e===null)return void(this.La=[]);const i=t.$t(),r=this.Oa(i-1,e),l=this.Oa(0,e),c=this.Yi.N().entireTextOnly?this.Ha()/2:0,u=c,h=i-1-c,f=Math.max(r,l),m=Math.min(r,l);if(f===m)return void(this.La=[]);const b=this.za(f,m);if(this.Ua(e,b,f,m,u,h),t.$a()&&this.qa(b,m,f)){const k=this.Yi.Ya();this.ja(e,b,u,h,k,2*k)}const y=this.La.map((k=>k.Ka)),v=this.Yi.Xa(y);for(let k=0;k<this.La.length;k++)this.La[k].Za=v[k]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,e,i,r,l,c){const u=this.La,h=this.Yi;let f=i%e;f+=f<0?e:0;const m=i>=r?1:-1;let b=null,y=0;for(let v=i-f;v>r;v-=e){const k=this.Na(v,t,!0);b!==null&&Math.abs(k-b)<this.Fa()||k<l||k>c||(y<u.length?(u[y].Pa=k,u[y].Za=h.Ga(v),u[y].Ka=v):u.push({Pa:k,Za:h.Ga(v),Ka:v}),y++,b=k,h.Ja()&&(e=this.za(v*m,r)))}u.length=y}ja(t,e,i,r,l,c){const u=this.La,h=this.Qa(t,i,l,c),f=this.Qa(t,r,-c,-l),m=this.Na(0,t,!0)-this.Na(e,t,!0);u.length>0&&u[0].Pa-h.Pa<m/2&&u.shift(),u.length>0&&f.Pa-u[u.length-1].Pa<m/2&&u.pop(),u.unshift(h),u.push(f)}Qa(t,e,i,r){const l=(i+r)/2,c=this.Oa(e+i,t),u=this.Oa(e+r,t),h=Math.min(c,u),f=Math.max(c,u),m=Math.max(.1,this.za(f,h)),b=this.Oa(e+l,t),y=b-b%m,v=this.Na(y,t,!0);return{Za:this.Yi.Ga(y),Pa:v,Ka:y}}qa(t,e,i){let r=lr(this.Yi.Qe());return this.Yi.Ja()&&(r=Ra(r,this.Yi.tl())),r.$e()-e<t&&i-r.qe()<t}}function Jw(n){return n.slice().sort(((t,e)=>pt(t.hs())-pt(e.hs())))}var Qv;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(Qv||(Qv={}));const Zv=new Ww,Kv=new kh(100,1);class aA{constructor(t,e,i,r,l){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new qe,this.ul=new qe,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=Kv,this.wl=m0(null),this.gl=t,this.Ps=e,this.Ml=i,this.bl=r,this.Sl=l,this.xl=new Xv(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(hi(this.Ps,t),this.wa(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=Xn(t.scaleMargins.top),i=Xn(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let i=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),e.ie===1&&t.ie!==e.ie&&((function(l,c){if(l===null)return!1;const u=xo(l.$e(),c),h=xo(l.qe(),c);return isFinite(u)&&isFinite(h)})(this.Ge,this.wl)?(i=Ra(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(i=to(this.Ge,this.wl),i!==null&&this.Bl(i));const r=e.ie!==this.Ps.mode;r&&(e.ie===2||this.Le())&&this.wa(),r&&(e.ie===3||this.Dl())&&this.wa(),t.Vl!==void 0&&e.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(e,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,e){const i=this.Ge;(e||i===null&&t!==null||i!==null&&!i.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(t!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=Aa(t,e):this.Dl()&&(t=bo(t,e)),this.Pl(t,e)}Ul(t,e,i){this.Nl();const r=this.Ol(),l=pt(this.Qe()),c=l.$e(),u=l.qe(),h=this.zl()-1,f=this.Vl(),m=h/(u-c),b=i===void 0?0:i.from,y=i===void 0?t.length:i.to,v=this.$l();for(let k=b;k<y;k++){const S=t[k],N=S.gt;if(isNaN(N))continue;let j=N;v!==null&&(j=v(S.gt,e));const E=r+m*(j-c),D=f?E:this.il-1-E;S.ut=D}}ql(t,e,i){this.Nl();const r=this.Ol(),l=pt(this.Qe()),c=l.$e(),u=l.qe(),h=this.zl()-1,f=this.Vl(),m=h/(u-c),b=i===void 0?0:i.from,y=i===void 0?t.length:i.to,v=this.$l();for(let k=b;k<y;k++){const S=t[k];let N=S.qh,j=S.Yh,E=S.jh,D=S.Kh;v!==null&&(N=v(S.qh,e),j=v(S.Yh,e),E=v(S.jh,e),D=v(S.Kh,e));let U=r+m*(N-c),A=f?U:this.il-1-U;S.Yl=A,U=r+m*(j-c),A=f?U:this.il-1-U,S.jl=A,U=r+m*(E-c),A=f?U:this.il-1-U,S.Kl=A,U=r+m*(D-c),A=f?U:this.il-1-U,S.Xl=A}}Ts(t,e){const i=this.Cl(t,e);return this.Zl(i,e)}Zl(t,e){let i=t;return this.Le()?i=(function(r,l){return l<0&&(r=-r),r/100*l+l})(i,e):this.Dl()&&(i=(function(r,l){return r-=100,l<0&&(r=-r),r/100*l+l})(i,e)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=Jw(this.cl)),this.fl}Gl(t){this.cl.indexOf(t)===-1&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){const e=this.cl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.cl.splice(e,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(const e of this.cl){const i=e.zt();i!==null&&(t===null||i.Hh<t.Hh)&&(t=i)}return t===null?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){const t=this.zt()===null;if(this.pl!==null&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();const e=this.xl.Da();return this.pl={Da:e,io:t},this._l.p(),e}so(){return this._l}no(t){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-t,this.nl=pt(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let e=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1));const i=pt(this.nl).Ue();e=Math.max(e,.1),i.je(e),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=t,this.nl=pt(this.Qe()).Ue()))}ao(t){if(this.Tl()||this.ml===null)return;const e=pt(this.Qe()).Ye()/(this.zl()-1);let i=t-this.ml;this.Vl()&&(i*=-1);const r=i*e,l=pt(this.nl).Ue();l.Ke(r),this.Bl(l,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,e){switch(this.Ps.mode){case 2:return this.oo(Aa(t,e));case 3:return this.ea().format(bo(t,e));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,pt(this.dl).ea())}Vh(t,e){return t=Aa(t,e),this.oo(t,Zv)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach((t=>t.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;this.dl=null;for(const i of this.cl)i.hs()<t&&(t=i.hs(),this.dl=i);let e=100;this.dl!==null&&(e=Math.round(this.dl.nh())),this.ra=Kv,this.Le()?(this.ra=Zv,e=100):this.Dl()?(this.ra=new kh(100,1),e=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Xv(this,e,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,e){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?ah(t,this.wl):t;const i=pt(this.Qe()),r=this.Ol()+(this.zl()-1)*(t-i.$e())/i.Ye();return this.Hl(r)}Cl(t,e){if(this.Nl(),this.Ki())return 0;const i=this.Hl(t),r=pt(this.Qe()),l=r.$e()+r.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?xo(l,this.wl):l}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const t=this.el.hl;if(t===null)return;let e=null;const i=this.co();let r=0,l=0;for(const h of i){if(!h.Vt())continue;const f=h.zt();if(f===null)continue;const m=h.Mh(t.Uh(),t.bi());let b=m&&m.Qe();if(b!==null){switch(this.Ps.mode){case 1:b=to(b,this.wl);break;case 2:b=sA(b,f.Wt);break;case 3:b=rA(b,f.Wt)}if(e=e===null?b:e.vn(pt(b)),m!==null){const y=m.tr();y!==null&&(r=Math.max(r,y.above),l=Math.max(l,y.below))}}}if(this.$a()&&(r=Math.max(r,this.Ya()),l=Math.max(l,this.Ya())),r===this.ll&&l===this.ol||(this.ll=r,this.ol=l,this.pl=null,this.kl()),e!==null){if(e.$e()===e.qe()){const h=5*this.fo();this.Ja()&&(e=Ra(e,this.wl)),e=new Pn(e.$e()-h,e.qe()+h),this.Ja()&&(e=to(e,this.wl))}if(this.Ja()){const h=Ra(e,this.wl),f=m0(h);if(c=f,u=this.wl,c.Va!==u.Va||c.Ba!==u.Ba){const m=this.nl!==null?Ra(this.nl,this.wl):null;this.wl=f,e=to(h,f),m!==null&&(this.nl=to(m,f))}}this.Bl(e)}else this.Ge===null&&(this.Bl(new Pn(-.5,.5)),this.wl=m0(null));var c,u}$l(){return this.Le()?Aa:this.Dl()?bo:this.Ja()?t=>ah(t,this.wl):null}vo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.format(t)):e(t)}mo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.bl.priceFormatter,e)}uo(t,e){const i=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(i?r=>r.map(i):void 0),e)}oo(t,e){return this.vo(t,this.bl.percentageFormatter,e)}_o(t,e){const i=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(i?r=>r.map(i):void 0),e)}}function Jv(n){return n instanceof _h}class t1{constructor(t,e){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new qe,this.yh=[],this.uh=t,this.ts=e,this.Co=new iA(this);const i=e.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const i of e){const r=pt(i[0].Ft());r.hr(t.overlayPriceScales),t.localization&&r.wa()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?Xn(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((t=>{t.m&&t.m()})),this.yh=this.yh.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach((e=>{if(this.Un(e)){const i=e.Ft();i!==null&&i.Al(t)}})),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(Jv)}Ma(){return this.cl}Un(t){const e=t.Ft();return e===null||this.Po!==e&&this.ko!==e}Gl(t,e,i){this.No(t,e,i?t.hs():this.cl.length)}Ql(t,e){const i=this.cl.indexOf(t);yn(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),e||this.cl.forEach(((c,u)=>c.ls(u)));const r=pt(t.Ft()).ma();if(this.wo.has(r)){const c=Xn(this.wo.get(r)),u=c.indexOf(t);u!==-1&&(c.splice(u,1),c.length===0&&this.wo.delete(r))}const l=t.Ft();l&&l.Ma().indexOf(t)>=0&&(l.Ql(t),this.Fo(l)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,e){t.no(e)}$o(t,e){t.eo(e),this.Ao()}qo(t){t.ro()}Yo(t,e){t.ho(e)}jo(t,e){t.ao(e),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?t=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?t=this.Po:this.cl.length!==0&&(t=this.cl[0].Ft()),t===null&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Tl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),e!==null&&t.do(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((t=>{this.Un(t)&&this.Fo(t.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=Jw(this.cl)),this.fl}Qo(t,e){e=po(e,0,this.cl.length-1);const i=this.cl.indexOf(t);yn(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(e,0,t),this.cl.forEach(((r,l)=>r.ls(l))),this.fl=null;for(const r of[this.Po,this.ko])r.Jl(),r.wa();this.ts.ar()}Bt(){return this.Dt().filter(Jv)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new YD(t))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}Xo(t){const e=t.co();if(e&&e.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&t.do(i)}t.Ns()}No(t,e,i){let r=this.Do(e);if(r===null&&(r=this.yo(e,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,t),!Sh(e)){const l=this.wo.get(e)||[];l.push(t),this.wo.set(e,l)}t.ls(i),r.Gl(t),t._s(r),this.Fo(r),this.fl=null}To(t,e,i){e.ie!==i.ie&&this.Xo(t)}yo(t,e){const i={visible:!0,autoScale:!0,...Ss(e)},r=new aA(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function ju(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function lA(n,t,e,i){for(const r of n){const l=r.Tt(i);if(l!==null&&l.jn){const c=l.jn(t,e);if(c!==null)return{a_:r,e_:c}}}return null}function oA(n){return n.Fs!==void 0}function tS(n,t,e){const i=[n,...n.Dt()],r=(function(l,c,u){let h,f;for(const y of l){const v=y.sa?.(c,u)??[];for(const k of v)m=k.zOrder,b=h?.zOrder,(!b||m==="top"&&b!=="top"||m==="normal"&&b==="bottom")&&(h=k,f=y)}var m,b;return h&&f?{r_:h,n_:f}:null})(i,t,e);if(r?.r_.zOrder==="top")return ju(r);for(const l of i){if(r&&r.n_===l&&r.r_.zOrder!=="bottom"&&!r.r_.isBackground)return ju(r);if(oA(l)){const c=lA(l.Fs(n),t,e,n);if(c!==null)return{n_:l,a_:c.a_,e_:c.e_}}if(r&&r.n_===l&&r.r_.zOrder!=="bottom"&&r.r_.isBackground)return ju(r)}return r?.r_?ju(r):null}class cA{constructor(t,e,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=i}__(t){const e=t.time,i=this.o_.cacheKey(e),r=this.Dn.get(i);if(r!==void 0)return r.u_;if(this.yn===this.Vn){const c=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Xn(c)),this.Tn++,this.yn--}const l=this.l_(t);return this.Dn.set(i,{u_:l,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,l}}class yo{constructor(t,e){yn(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function e1(n,t){return n===null||t===null?n===t:n.He(t)}class uA{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let i=e;i<t.length;++i){const r=t[i];let l=this.p_.get(r.timeWeight);l===void 0&&(l=[],this.p_.set(r.timeWeight,l)),l.push({index:i,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}M_(t,e,i,r,l){const c=Math.ceil(e/t);return this.Dn!==null&&this.Dn.b_===c&&l===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:l,x_:i,Da:this.C_(c,i,r),b_:c}),this.Dn.Da}g_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach(((i,r)=>{t<=i[0].index?e.push(r):i.splice(qa(i,t,(l=>l.index<t)),1/0)}));for(const i of e)this.p_.delete(i)}C_(t,e,i){let r=[];const l=c=>!e||i.has(c.index);for(const c of Array.from(this.p_.keys()).sort(((u,h)=>h-u))){if(!this.p_.get(c))continue;const u=r;r=[];const h=u.length;let f=0;const m=Xn(this.p_.get(c)),b=m.length;let y=1/0,v=-1/0;for(let k=0;k<b;k++){const S=m[k],N=S.index;for(;f<h;){const j=u[f],E=j.index;if(!(E<N&&l(j))){y=E;break}f++,r.push(j),v=E,y=1/0}if(y-N>=t&&N-v>=t&&l(S))r.push(S),v=N;else if(this.v_)return u}for(;f<h;f++)l(u[f])&&r.push(u[f])}return r}}class Ba{constructor(t){this.P_=t}y_(){return this.P_===null?null:new yo(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Ba(null)}}function hA(n,t){return n.weight>t.weight?n:t}class dA{constructor(t,e,i,r){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new uA,this.B_=new Map,this.I_=Ba.T_(),this.E_=!0,this.A_=new qe,this.z_=new qe,this.L_=new qe,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.bl=i,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.Y_(e),this.o_=r,this.j_(),this.V_.m_(e.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){hi(this.bl,t),this.Z_(),this.j_()}hr(t,e){hi(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),this.Y_(t),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const i=qa(this.D_,this.o_.key(t),((r,l)=>this.o_.key(r.time)<l));return this.o_.key(t)<this.o_.key(this.D_[i].time)?e?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const t=this.Pe();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.eu(e)}eu(t){const e=Math.round(t.from),i=Math.round(t.to),r=pt(this.ru()),l=pt(this.hu());return{from:pt(this.ss(Math.max(r,e))),to:pt(this.ss(Math.min(l,i)))}}au(t){return{from:pt(this.Q_(t.from,!0)),to:pt(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const e=this.su(),i=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const r=this.q_*t/i;this.q_=r}if(this.Ps.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=i-t;this.U_-=Math.round(r/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(t){if(this.Ki()||!Ao(t))return 0;const e=this._u()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}uu(t,e){const i=this._u(),r=e===void 0?0:e.from,l=e===void 0?t.length:e.to;for(let c=r;c<l;c++){const u=t[c].wt,h=i+this.U_-u,f=this.Mo-(h+.5)*this.q_-1;t[c]._t=f}}cu(t,e){const i=Math.ceil(this.du(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){const e=this.q_;if(this.wu(t),this.Ps.rightOffsetPixels!==void 0&&e!==0){const i=this.U_*e/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),r=pt(this.Pe()),l=Math.max(r.Uh(),r.Uh()-i),c=Math.max(r.bi(),r.bi()-i),u=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),h=this.ru()+i,f=this.hu()-i,m=this.Mu(),b=this.Ps.fixLeftEdge||m,y=this.Ps.fixRightEdge||m;let v=0;for(const k of u){if(!(l<=k.index&&k.index<=c))continue;let S;v<this.H_.length?(S=this.H_[v],S.coord=this.qt(k.index),S.label=this.bu(k),S.weight=k.weight):(S={needAlignCoordinate:!1,coord:this.qt(k.index),label:this.bu(k),weight:k.weight},this.H_.push(S)),this.q_>e/2&&!m?S.needAlignCoordinate=!1:S.needAlignCoordinate=b&&k.index<=h||y&&k.index>=f,v++}return this.H_.length=v,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,e){const i=this.du(t),r=this.mu(),l=r+e*(r/10);this.dn(l),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(t)))}no(t){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(this.O_===null)return;const e=po(this.Mo-t,0,this.Mo),i=po(this.Mo-pt(this.vl),0,this.Mo);e!==0&&i!==0&&this.dn(this.O_.mu*e/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(t){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(this.ml===null)return;const e=(this.ml-t)/this.mu();this.U_=pt(this.O_).gu+e,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,r=performance.now();this.ts._n({Ru:l=>(l-r)/e>=1,Du:l=>{const c=(l-r)/e;return c>=1?t:i+(t-i)*c}})}yt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,e){const i=t.f_(),r=e&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-r)/i),this.U_=t.bi()-this._u(),e&&(this.U_=r?r/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const t=this.ru(),e=this.hu();t!==null&&e!==null&&this.Eu(new yo(t,e),!0)}zu(t){const e=new yo(t.from,t.to);this.Eu(e)}ns(t){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const i of e.va())this.F_.set(i,!0);this.W_++}Mu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){const e=this.Lu(t),i=this._u()+this.U_-e;return Math.round(1e6*i)/1e6}wu(t){const e=this.q_;this.q_=t,this.lu(),e!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Ba.T_());const t=this._u(),e=this.Mo/this.q_,i=this.U_+t,r=new yo(i-e+1,i);this.Nu(new Ba(r))}lu(){const t=po(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const t=this.Hu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Uu();this.U_>e&&(this.U_=e,this.E_=!0)}Hu(){const t=this.ru(),e=this.R_;return t===null||e===null?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let e=this.B_.get(t.weight);return e===void 0&&(e=new cA((i=>this.$u(i)),this.o_),this.B_.set(t.weight,e)),e.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){const e=this.I_;this.I_=t,e1(e.y_(),this.I_.y_())||this.A_.p(),e1(e.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const t=this.ru();if(t===null)return;const e=this.Pe();if(e===null)return;const i=e.Uh()-t;if(i<0){const r=this.U_-i-1;this.fn(r)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){const e=(function*(r){const l=Math.round(r),c=l<r;let u=1;for(;;)c?(yield l+u,yield l-u):(yield l-u,yield l+u),u++})(t),i=this.hu();for(;i;){const r=e.next().value;if(this.F_.get(r))return r;if(r<0||r>i)break}return t}Y_(t){if(t.rightOffsetPixels!==void 0){const e=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(e)}}}var n1,i1,s1,r1,a1;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(n1||(n1={}));class fA{constructor(t,e,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new qe,this.Xu=new qe,this.Zu=null,this.Gu=t,this.Ps=e,this.o_=i,this.Sl=new fD(this.Ps.layout.colorParsers),this.Ju=new dD(this),this.uh=new dA(this,e.timeScale,this.Ps.localization,i),this.Ct=new _D(this,e.crosshair),this.Qu=new tA(e.crosshair),e.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(xn.gn())}ar(){this.rc(xn.wn())}Zh(){this.rc(new xn(1))}Eh(t){const e=this.hc(t);this.rc(e)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;const e=this.ju;this.ju=t,e!==null&&this.Eh(e.n_),t!==null&&t.n_!==e?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){hi(this.Ps,t),this.qu.forEach((e=>e.Ro(t))),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,e,i=0){const r=this.qu[i];if(r===void 0)return;if(t==="left")return hi(this.Ps,{leftPriceScale:e}),r.Ro({leftPriceScale:e}),this.Ku.p(),void this.Ih();if(t==="right")return hi(this.Ps,{rightPriceScale:e}),r.Ro({rightPriceScale:e}),this.Ku.p(),void this.Ih();const l=this._c(t,i);l!==null&&(l.Ft.hr(e),this.Ku.p())}_c(t,e){const i=this.qu[e];if(i===void 0)return null;const r=i.Do(t);return r!==null?{Us:i,Ft:r}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,e){t.Al(e),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach((e=>e.Eo(t))),this.vu()}fc(t){this.qu.length!==1&&(yn(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,e){if(this.qu.length<2)return;yn(t>=0&&t<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu.reduce(((b,y)=>b+y.Bo()),0),l=this.qu.reduce(((b,y)=>b+y.$t()),0),c=l-30*(this.qu.length-1);e=Math.min(c,Math.max(30,e));const u=r/l,h=i.$t();i.Io(e*u);let f=e-h,m=this.qu.length-1;for(const b of this.qu)if(b!==i){const y=Math.min(c,Math.max(30,b.$t()-f/m));f-=b.$t()-y,m-=1;const v=y*u;b.Io(v)}this.Ih()}mc(t,e){yn(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu[e];this.qu[t]=r,this.qu[e]=i,this.Ih()}wc(t,e){if(yn(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index"),t===e)return;const[i]=this.qu.splice(t,1);this.qu.splice(e,0,i),this.Ih()}Uo(t,e,i){t.Uo(e,i)}$o(t,e,i){t.$o(e,i),this.Ah(),this.rc(this.gc(t,2))}qo(t,e){t.qo(e),this.rc(this.gc(t,2))}Yo(t,e,i){e.Tl()||t.Yo(e,i)}jo(t,e,i){e.Tl()||(t.jo(e,i),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,e){e.Tl()||(t.Ko(e),this.rc(this.gc(t,2)))}Zo(t,e){t.Zo(e),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,e){const i=this.Et();if(i.Ki()||e===0)return;const r=i.Qi();t=Math.max(1,Math.min(t,r)),i.Cu(t,e),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,e,i,r,l){this.Ct.Vs(t,e);let c=NaN,u=this.uh.cu(t,!0);const h=this.uh.Pe();h!==null&&(u=Math.min(Math.max(h.Uh(),u),h.bi()));const f=r.ks(),m=f.zt();if(m!==null&&(c=f.Ts(e,m)),c=this.Qu.ga(c,u,r),this.Ct.As(u,c,r),this.Zh(),!l){const b=tS(r,t,e);this.lc(b&&{n_:b.n_,e_:b.e_,h_:b.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:e},i)}}Rc(t,e,i){const r=i.ks(),l=r.zt(),c=r.Nt(t,pt(l)),u=this.uh.Q_(e,!0),h=this.uh.qt(pt(u));this.Tc(h,c,null,i,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Is(),i=this.Ct.Es();this.Tc(e,i,null,t)}this.Ct.Ns()}Vc(t,e,i){const r=this.uh.Rs(0);e!==void 0&&i!==void 0&&this.uh.yt(e,i);const l=this.uh.Rs(0),c=this.uh._u(),u=this.uh.Pe();if(u!==null&&r!==null&&l!==null){const h=u.Te(c),f=this.o_.key(r)>this.o_.key(l),m=t!==null&&t>c&&!f,b=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,y=h&&(i!==void 0||b)&&this.uh.N().shiftVisibleRangeOnNewBar;if(m&&!y){const v=t-c;this.uh.fn(this.uh.gu()-v)}}this.uh.xu(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if((function(i){return i instanceof t1})(t))return t;const e=this.qu.find((i=>i.Dt().includes(t)));return e===void 0?null:e}vu(){this.qu.forEach((t=>t.Jo())),this.Ah()}m(){this.qu.forEach((t=>t.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,e){const i=this.tc(e);this.Ec(t,i),this.Yu.push(t),this.Yu.length===1?this.Ih():this.ar()}Ac(t){const e=this.Hn(t),i=this.Yu.indexOf(t);yn(i!==-1,"Series not found");const r=pt(e);this.Yu.splice(i,1),r.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(r)}Bh(t,e){const i=pt(this.Hn(t));i.Ql(t,!0),i.Gl(t,e,!0)}Au(){const t=xn.wn();t.rn(),this.rc(t)}Lc(t){const e=xn.wn();e.ln(t),this.rc(e)}cn(){const t=xn.wn();t.cn(),this.rc(t)}dn(t){const e=xn.wn();e.dn(t),this.rc(e)}fn(t){const e=xn.wn();e.fn(t),this.rc(e)}_n(t){const e=xn.wn();e._n(t),this.rc(e)}hn(){const t=xn.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,e){if(yn(e>=0,"Index should be greater or equal to 0"),e===this.Fc(t))return;const i=pt(this.Hn(t));i.Ql(t);const r=this.tc(e);this.Ec(t,r),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){const e=this.ec,i=this.sc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==e)this.Zu={mr:i,wr:e,Hc:new Map};else{const l=this.Zu.Hc.get(t);if(l!==void 0)return l}const r=this.Sl.tt(i,e,t/100);return this.Zu.Hc.set(t,r),r}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){const e=new t1(this.uh,this);this.qu.push(e);const i=t??this.qu.length-1,r=xn.gn();return r.Qs(i,{tn:0,sn:!0}),this.rc(r),e}tc(t){return yn(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex((e=>e.Oo().includes(t)))}gc(t,e){const i=new xn(e);if(t!==null){const r=this.qu.indexOf(t);i.Qs(r,{tn:e})}return i}hc(t,e){return e===void 0&&(e=2),this.gc(this.Hn(t),e)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach((e=>e.i_().lr().yt()))}Ec(t,e){const i=t.N().priceScaleId,r=i!==void 0?i:this.Oc();e.Gl(t,r),Sh(r)||t.hr(t.N())}nc(t){const e=this.Ps.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}zc(t){!t.Lo()&&t.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function eS(n){if(n>=1)return 0;let t=0;for(;t<8;t++){const e=Math.round(n);if(Math.abs(e-n)<1e-8)return t;n*=10}return t}function X0(n){return!Ya(n)&&!Wo(n)}function nS(n){return Ya(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(i1||(i1={})),(function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"})(s1||(s1={})),(function(n){n.Solid="solid",n.VerticalGradient="gradient"})(r1||(r1={})),(function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"})(a1||(a1={}));const l1=n=>n.getUTCFullYear();function gA(n,t,e){return t.replace(/yyyy/g,(i=>ks(l1(i),4))(n)).replace(/yy/g,(i=>ks(l1(i)%100,2))(n)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,e)).replace(/MM/g,(i=>ks((r=>r.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>ks((r=>r.getUTCDate())(i),2))(n))}class iS{constructor(t="yyyy-MM-dd",e="default"){this.Yc=t,this.jc=e}__(t){return gA(t,this.Yc,this.jc)}}class mA{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",ks(t.getUTCHours(),2)).replace("%m",ks(t.getUTCMinutes(),2)).replace("%s",ks(t.getUTCSeconds(),2))}}const pA={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class bA{constructor(t={}){const e={...pA,...t};this.Qc=new iS(e.Xc,e.Jc),this.td=new mA(e.Zc),this.sd=e.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function Mu(n){return 60*n*60*1e3}function b0(n){return 60*n*1e3}const Cu=[{nd:(o1=1,1e3*o1),ed:10},{nd:b0(1),ed:20},{nd:b0(5),ed:21},{nd:b0(30),ed:22},{nd:Mu(1),ed:30},{nd:Mu(3),ed:31},{nd:Mu(6),ed:32},{nd:Mu(12),ed:33}];var o1;function c1(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=Cu.length-1;e>=0;--e)if(Math.floor(t.getTime()/Cu[e].nd)!==Math.floor(n.getTime()/Cu[e].nd))return Cu[e].ed;return 0}function x0(n){let t=n;if(Wo(n)&&(t=Ug(n)),!X0(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{rd:Math.round(e.getTime()/1e3),hd:t}}function u1(n){if(!nS(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function Ug(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function h1(n){Wo(n.time)&&(n.time=Ug(n.time))}class d1{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?(function(e){e.forEach(h1)})(t):h1(t)}createConverterToInternalObj(t){return pt((function(e){return e.length===0?null:X0(e[0].time)||Wo(e[0].time)?x0:u1})(t))}key(t){return typeof t=="object"&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.hd===void 0?new Date(1e3*e.rd).getTime():new Date(Date.UTC(e.hd.year,e.hd.month-1,e.hd.day)).getTime()}convertHorzItemToInternal(t){return nS(e=t)?u1(e):X0(e)?x0(e):x0(Ug(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new bA({Xc:e,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new iS(e,t.locale)}formatHorzItem(t){const e=t;return this.ad.__(new Date(1e3*e.rd))}formatTickmark(t,e){const i=(function(l,c,u){switch(l){case 0:case 10:return c?u?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const l=r.tickMarkFormatter(t.originalTime,i,e.locale);if(l!==null)return l}return(function(l,c,u){const h={};switch(c){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const f=l.hd===void 0?new Date(1e3*l.rd):new Date(Date.UTC(l.hd.year,l.hd.month-1,l.hd.day));return new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()).toLocaleString(u,h)})(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(hA,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,r=0){if(i.length===0)return;let l=r===0?null:i[r-1].time.rd,c=l!==null?new Date(1e3*l):null,u=0;for(let h=r;h<i.length;++h){const f=i[h],m=new Date(1e3*f.time.rd);c!==null&&(f.timeWeight=c1(m,c)),u+=f.time.rd-(l||f.time.rd),l=f.time.rd,c=m}if(r===0&&i.length>1){const h=Math.ceil(u/(i.length-1)),f=new Date(1e3*(i[0].time.rd-h));i[0].timeWeight=c1(new Date(1e3*i[0].time.rd),f)}})(t,e)}static ld(t){return hi({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const $a=typeof window<"u";function f1(){return!!$a&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function y0(){return!!$a&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Q0(n){return n+n%2}function xA(n){$a&&window.chrome!==void 0&&n.addEventListener("mousedown",(t=>{if(t.button===1)return t.preventDefault(),!1}))}class Nh{constructor(t,e,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!y0(),this.Ld=r=>{this.Od(r)},this.Nd=r=>{if(this.Fd(r)){const l=this.Wd(r);if(++this.dd,this.fd&&this.dd>1){const{Hd:c}=this.Ud(Gi(r),this.pd);c<30&&!this.Sd&&this.$d(l,this.Yd.qd),this.jd()}}else{const l=this.Wd(r);if(++this.od,this._d&&this.od>1){const{Hd:c}=this.Ud(Gi(r),this.ud);c<5&&!this.bd&&this.Kd(l,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=e,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();const e=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",e)},this.Gd.addEventListener("mousemove",e),this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(t){if(this.Id||this.gd!==null||this.Fd(t))return;const e=this.Wd(t);this.Kd(e,this.Yd.nf),this.zd=!0}ef(t){const e=v0(t.changedTouches,pt(this.Ad));if(e===null||(this.Ed=Eu(t),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(Gi(e),pt(this.gd)),{rf:r,hf:l,Hd:c}=i;if(this.Md||!(c<5)){if(!this.Md){const u=.5*r,h=l>=u&&!this.Ps.af(),f=u>l&&!this.Ps.lf();h||f||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const u=this.Wd(t,e);this.$d(u,this.Yd._f),Ta(t)}}}uf(t){if(t.button!==0)return;const e=this.Ud(Gi(t),pt(this.wd)),{Hd:i}=e;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const r=this.Wd(t);this.Kd(r,this.Yd.cf)}}Ud(t,e){const i=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{rf:i,hf:r,Hd:i+r}}df(t){let e=v0(t.changedTouches,pt(this.Ad));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Ad=null,this.Ed=Eu(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(t,e);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:r}=this.Ud(Gi(e),this.pd);r<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&Ta(t));this.dd===0&&Ta(t),t.touches.length===0&&this.md&&(this.md=!1,Ta(t))}Od(t){if(t.button!==0)return;const e=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),f1()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(e,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(Gi(t),this.ud);i<5&&!this.bd&&this.Kd(e,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(e,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(this.Ad!==null)return;const e=t.changedTouches[0];this.Ad=e.identifier,this.Ed=Eu(t);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=Gi(e),this.Td&&(this.Td(),this.Td=null);{const l=this.ef.bind(this),c=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",l),i.removeEventListener("touchend",c)},i.addEventListener("touchmove",l,{passive:!1}),i.addEventListener("touchend",c,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}const r=this.Wd(t,e);this.$d(r,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=Gi(e))}bf(t){if(t.button!==0)return;const e=this.Gd.ownerDocument.documentElement;f1()&&e.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=Gi(t),this.kd&&(this.kd(),this.kd=null);{const r=this.uf.bind(this),l=this.Od.bind(this);this.kd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",l)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",l)}if(this.Id=!0,this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=Gi(t))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const t=this.Gd.ownerDocument,e=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",e)},this.xd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}y0()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),xA(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(t=>this.Rf(t.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(t=>{if(t.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const e=g1(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,e),Ta(t)}}),{passive:!1}),this.Gd.addEventListener("touchend",(t=>{this.Rf(t.touches)})))}Rf(t){t.length===1&&(this.Vd=!1),t.length!==2||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){const e=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Dd=g1(t[0],t[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;const e=this.Wd(t);this.Kd(e,this.Yd.Bf),this.zd=!y0()}gf(t){const e=v0(t.touches,pt(this.Ad));if(e===null)return;const i=this.Wd(t,e);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Eu(t)<this.Ed+500}$d(t,e){e&&e.call(this.Yd,t)}Kd(t,e){e&&e.call(this.Yd,t)}Wd(t,e){const i=e||t,r=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Af:t.type,zf:i.target,a_:t.view,Lf:()=>{t.type!=="touchstart"&&Ta(t)}}}}function g1(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function Ta(n){n.cancelable&&n.preventDefault()}function Gi(n){return{_t:n.pageX,ut:n.pageY}}function Eu(n){return n.timeStamp||performance.now()}function v0(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}class yA{constructor(t,e,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[e],this.qf=t.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return ke({width:this.Uf.Gf().width,height:1})}Jf(){return ke({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(t,e,i){const r=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(e,i,r.width,r.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.jf.appendChild(t);const i=document.createElement("div"),r=i.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.jf.appendChild(i);const l={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new Nh(i,l,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(t){if(this.Of===null)return;const e=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=e/(this.Uf.Gf().height+this.qf.Gf().height),r=30*i;e<=2*r||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:e-r,up:e,cp:i,dp:r},this.Of.tp.style.display="block")}rp(t){const e=this.Wf;if(e===null)return;const i=(t.pageY-e.lp)*e.cp,r=po(e.op+i,e.dp,e._p);this.Uf.ap().Io(r),this.qf.ap().Io(e.up-r),this.Hf.Qt().Ih()}hp(t){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function w0(n,t){return n.fp-t.fp}function S0(n,t,e){const i=(n.fp-t.fp)/(n.wt-t.wt);return Math.sign(i)*Math.min(Math.abs(i),e)}class vA{constructor(t,e,i,r){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=e,this.Cp=i,this.Mn=r}Pp(t,e){if(this.pp!==null){if(this.pp.wt===e)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:e,fp:t}}le(t,e){if(this.pp===null||this.vp===null||e-this.pp.wt>50)return;let i=0;const r=S0(this.pp,this.vp,this.xp),l=w0(this.pp,this.vp),c=[r],u=[l];if(i+=l,this.mp!==null){const f=S0(this.vp,this.mp,this.xp);if(Math.sign(f)===Math.sign(r)){const m=w0(this.vp,this.mp);if(c.push(f),u.push(m),i+=m,this.wp!==null){const b=S0(this.mp,this.wp,this.xp);if(Math.sign(b)===Math.sign(r)){const y=w0(this.mp,this.wp);c.push(b),u.push(y),i+=y}}}}let h=0;for(let f=0;f<c.length;++f)h+=u[f]/i*c[f];Math.abs(h)<this.Sp||(this.gp={fp:t,wt:e},this.bp=h,this.Mp=(function(f,m){const b=Math.log(m);return Math.log(1*b/-f)/b})(Math.abs(h),this.Cp))}Du(t){const e=pt(this.gp),i=t-e.wt;return e.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(t){return this.gp===null||this.yp(t)===this.Mp}yp(t){const e=t-pt(this.gp).wt;return Math.min(e,this.Mp)}}class wA{constructor(t,e){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=e,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Wr(n,t){const e=pt(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=aD(e,{options:{allowResizeObserver:!0},transform:(r,l)=>({width:Math.max(r.width,l.width),height:Math.max(r.height,l.height)})});return i.resizeCanvasElement(t),i}function Gr(n){n.width=1,n.height=1,n.getContext("2d")?.clearRect(0,0,1,1)}function Z0(n,t,e,i){n.ih&&n.ih(t,e,i)}function Hu(n,t,e,i){n.nt(t,e,i)}function K0(n,t,e,i){const r=n(e,i);for(const l of r){const c=l.Tt(i);c!==null&&t(c)}}function k0(n,t){return e=>(function(i){return i.Ft!==void 0})(e)?(e.Ft()?.ma()??"")!==t?[]:e.ta?.(n)??[]:[]}function m1(n,t,e,i){if(!n.length)return;let r=0;const l=n[0].$t(i,!0);let c=t===1?e/2-(n[0].Fi()-l/2):n[0].Fi()-l/2-e/2;c=Math.max(0,c);for(let u=1;u<n.length;u++){const h=n[u],f=n[u-1],m=f.$t(i,!1),b=h.Fi(),y=f.Fi();if(t===1?b>y-m:b<y+m){const v=y-m*t;h.Wi(v);const k=v-t*m/2;if((t===1?k<0:k>e)&&c>0){const S=t===1?-1-k:k-e,N=Math.min(S,c);for(let j=r;j<n.length;j++)n[j].Wi(n[j].Fi()+t*N);c-=N}}else r=u,c=t===1?y-m-b:b-(y+m)}}class p1{constructor(t,e,i,r){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new ih(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=e,this.Ml=e.layout,this.Ju=i,this.jp=r==="left",this.Kp=k0("normal",r),this.Xp=k0("top",r),this.Zp=k0("bottom",r),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Wr(this.jf,ke({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const l=this.Gp.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Jp=Wr(this.jf,ke({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const c=this.Jp.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const u={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new Nh(this.Jp.canvasElement,u,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gr(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){if(this.Yi===null)return 0;let t=0;const e=this.sv(),i=pt(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const r=this.Yi.Da();i.font=this.ev(),r.length>0&&(t=Math.max(this.Fp.Vi(i,r[0].Za),this.Fp.Vi(i,r[r.length-1].Za)));const l=this.rv();for(let f=l.length;f--;){const m=this.Fp.Vi(i,l[f].ri());m>t&&(t=m)}const c=this.Yi.zt();if(c!==null&&this.Op!==null&&(u=this.Ps.crosshair).mode!==2&&u.horzLine.visible&&u.horzLine.labelVisible){const f=this.Yi.Ts(1,c),m=this.Yi.Ts(this.Op.height-2,c);t=Math.max(t,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(f,m))+.11111111111111,c)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(f,m))-.11111111111111,c)))}var u;i.restore();const h=t||34;return Q0(Math.ceil(e.S+e.C+e.B+e.I+5+h))}hv(t){this.Op!==null&&Yr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return pt(this.Op).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,pt(this.Ft()))}lv(t){if(this.Op===null)return;const e={colorSpace:this.Pt.qp().N().layout.colorSpace};if(t!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l),this.uv(l)})),this.Pt.cv(r,this.Zp),this.dv(r),this.Pt.cv(r,this.Kp),this.fv(r))}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t.drawImage(c,e,i)}}yt(){this.Yi?.Da()}ep(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,e.Uo(i,this.Yi,t.localY)}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap(),r=this.Yi;e.$o(i,r,t.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.qp().Qt(),e=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,t.qo(e,i))}hp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,e.qo(i,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){const t=[],e=this.Yi===null?void 0:this.Yi;return(i=>{for(let r=0;r<i.length;++r){const l=i[r].Ws(this.Pt.ap(),e);for(let c=0;c<l.length;c++)t.push(l[c])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,l=this.Pt.ap().Qt(),c=l.$(),u=l.Wc();c===u?vh(t,0,0,i,r,c):Iw(t,0,0,i,r,c,u)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.sv().S*i));let l;l=this.jp?e.width-r:0,t.fillRect(l,0,r,e.height)}dv(t){if(this.Op===null||this.Yi===null)return;const e=this.Yi.Da(),i=this.Yi.N(),r=this.sv(),l=this.jp?this.Op.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((({context:c,horizontalPixelRatio:u,verticalPixelRatio:h})=>{c.fillStyle=i.borderColor;const f=Math.max(1,Math.floor(h)),m=Math.floor(.5*h),b=Math.round(r.C*u);c.beginPath();for(const y of e)c.rect(Math.floor(l*u),Math.round(y.Pa*h)-m,b,f);c.fill()})),t.useMediaCoordinateSpace((({context:c})=>{c.font=this.ev(),c.fillStyle=i.textColor??this.Ml.textColor,c.textAlign=this.jp?"right":"left",c.textBaseline="middle";const u=this.jp?Math.round(l-r.B):Math.round(l+r.C+r.B),h=e.map((f=>this.Fp.Di(c,f.Za)));for(let f=e.length;f--;){const m=e[f];c.fillText(m.Za,u,m.Pa+h[f])}}))}ov(){if(this.Op===null||this.Yi===null)return;let t=this.Op.height/2;const e=[],i=this.Yi.Dt().slice(),r=this.Pt.ap(),l=this.sv();this.Yi===r.$n()&&this.Pt.ap().Dt().forEach((h=>{r.Un(h)&&i.push(h)}));const c=this.Yi.Ma()[0],u=this.Yi;i.forEach((h=>{const f=h.Ws(r,u);f.forEach((m=>{m.Wi(null),m.Hi()&&e.push(m)})),c===h&&f.length>0&&(t=f[0].Ii())})),e.forEach((h=>h.Wi(h.Ii()))),this.Yi.N().alignLabels&&this.mv(e,l,t)}mv(t,e,i){if(this.Op===null)return;const r=t.filter((c=>c.Ii()<=i)),l=t.filter((c=>c.Ii()>i));r.sort(((c,u)=>u.Ii()-c.Ii())),r.length&&l.length&&l.push(r[0]),l.sort(((c,u)=>c.Ii()-u.Ii()));for(const c of t){const u=Math.floor(c.$t(e)/2),h=c.Ii();h>-u&&h<u&&c.Wi(u),h>this.Op.height-u&&h<this.Op.height+u&&c.Wi(this.Op.height-u)}m1(r,1,this.Op.height,e),m1(l,-1,this.Op.height,e)}fv(t){if(this.Op===null)return;const e=this.rv(),i=this.sv(),r=this.jp?"right":"left";e.forEach((l=>{l.Ui()&&l.Tt(pt(this.Yi)).nt(t,i,this.Fp,r)}))}pv(t){if(this.Op===null||this.Yi===null)return;const e=this.Pt.qp().Qt(),i=[],r=this.Pt.ap(),l=e.uc().Ws(r,this.Yi);l.length&&i.push(l);const c=this.sv(),u=this.jp?"right":"left";i.forEach((h=>{h.forEach((f=>{f.Tt(pt(this.Yi)).nt(t,c,this.Fp,u)}))}))}vv(t){this.jf.style.cursor=t===1?"ns-resize":"default"}_l(){const t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return nh(this.Ml.fontSize,this.Ml.fontFamily)}}function SA(n,t){return n.Jh?.(t)??[]}function b1(n,t){return n.Fs?.(t)??[]}function x1(n,t){return n.us?.(t)??[]}function kA(n,t){return n.Xh?.(t)??[]}class Fg{constructor(t,e){this.Op=ke({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new qe,this.Cv=new qe,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=t,this.Vv=e,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Wr(i,ke({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Wr(i,ke({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const l=this.Jp.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new Nh(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gr(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return pt(this.Vv)}Lv(t){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=t,this.Vv!==null&&this.Vv.t_().i(Fg.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new wA(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const t=this.Vv.Wo();this.wv._s(pt(t))}if(this.gv!==null){const t=this.Vv.Ho();this.gv._s(pt(t))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}mf(t){this.Vv!==null&&(this.Fv(),this.Uv(t))}Xd(t){this.Vv!==null&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){this.Vv!==null&&this.Uv(t)}If(t){if(this.yv=!0,this.kv===null){const e={x:t.localX,y:t.localY};this.jv(e,e,t)}}Bf(t){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,e){if(!this.Vp.N().handleScale.pinch)return;const i=5*(e-this.Pv);this.Pv=e,this.ts().bc(t._t,i)}Mf(t){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const e=this.ts().uc();this.kv!==null&&e.Vt()&&(this.Rv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(this.Vv===null)return;const e=t.localX,i=t.localY;if(this.kv===null)this.qv(t);else{this.Tv=!1;const r=pt(this.Rv),l=r.x+(e-this.kv.x),c=r.y+(i-this.kv.y);this.Wv(l,c,t)}}ff(t){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,e){const i=this.Vv;return i===null?null:tS(i,t,e)}Jv(t,e){pt(e==="left"?this.wv:this.gv).hv(ke({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){Yr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){const t=pt(this.Vv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.Ma())if(t.Un(e)){const i=e.Ft();i!==null&&t.Fo(i),e.Ns()}for(const e of t.s_())e.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t!==null&&t.drawImage(c,e,i)}}lv(t){if(t===0||this.Vv===null)return;t>1&&this.Qv(),this.wv!==null&&this.wv.lv(t),this.gv!==null&&this.gv.lv(t);const e={colorSpace:this.Vp.N().layout.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l)})),this.Vv&&(this.tm(r,SA),this.im(r),this.tm(r,b1),this.tm(r,x1)))}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.sm(i),this.tm(i,kA),this.tm(i,x1))}nm(){return this.wv}rm(){return this.gv}cv(t,e){this.tm(t,e)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,e){const i=e.localX,r=e.localY;t.v()&&t.p(this.ts().Et().cu(i),{x:i,y:r},e)}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,l=this.ts(),c=l.$(),u=l.Wc();c===u?vh(t,0,0,i,r,u):Iw(t,0,0,i,r,c,u)}im(t){const e=pt(this.Vv),i=e.i_().lr().Tt(e);i!==null&&i.nt(t,!1)}sm(t){this.hm(t,b1,Hu,this.ts().uc())}tm(t,e){const i=pt(this.Vv),r=i.Dt(),l=i.s_();for(const c of l)this.hm(t,e,Z0,c);for(const c of r)this.hm(t,e,Z0,c);for(const c of l)this.hm(t,e,Hu,c);for(const c of r)this.hm(t,e,Hu,c)}hm(t,e,i,r){const l=pt(this.Vv),c=l.Qt().ac(),u=c!==null&&c.n_===r,h=c!==null&&u&&c.e_!==void 0?c.e_.Xn:void 0;K0(e,(f=>i(f,t,u,h)),r,l)}Ov(){if(this.Vv===null)return;const t=this.Vp,e=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;e||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const r=t.Qt().Bc();e&&this.wv===null&&(this.wv=new p1(this,t.N(),r,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new p1(this,t.N(),r,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||this.kv!==null}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,e,i){this.ts().Tc(this.lm(t),this.om(e),i,pt(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,e,i){this.kv=t,this.Tv=!1,this.Wv(e.x,e.y,i);const r=this.ts().uc();this.Rv={x:r.si(),y:r.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;const e=this.ts(),i=this.ap();if(e.Ko(i,i.ks()),this.bv=null,this.Sv=!1,e.Pc(),this.Dv!==null){const r=performance.now(),l=e.Et();this.Dv.le(l.gu(),r),this.Dv.Ru(r)||e._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)pt(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(t){if(this.Vv===null)return;const e=this.ts(),i=e.Et();if(i.Ki())return;const r=this.Vp.N(),l=r.handleScroll,c=r.kineticScroll;if((!l.pressedMouseMove||t.Ef)&&(!l.horzTouchDrag&&!l.vertTouchDrag||!t.Ef))return;const u=this.Vv.ks(),h=performance.now();if(this.bv!==null||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:h,_m:t.localX,um:t.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&c.touch||!t.Ef&&c.mouse){const f=i.mu();this.Dv=new vA(.2/f,7/f,.997,15/f),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;u.Ki()||e.Yo(this.Vv,u,t.localY),e.xc(t.localX),this.Sv=!0}this.Sv&&(u.Ki()||e.jo(this.Vv,u,t.localY),e.Cc(t.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),h))}}class y1{constructor(t,e,i,r,l){this.xt=!0,this.Op=ke({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=t==="left",this.Ju=i.Bc,this.Ps=e,this.dm=r,this.fm=l,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Wr(this.jf,ke({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gr(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){Yr(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const e=$r(this.Gp,{colorSpace:this.Ps.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace((i=>{this._v(i),this.uv(i)}))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i){const r=this.Jf();r.width>0&&r.height>0&&t.drawImage(this.Gp.canvasElement,e,i)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;const l=Math.floor(this.Ju.N().S*i),c=Math.floor(this.Ju.N().S*r),u=this.jp?e.width-l:0;t.fillRect(u,0,l,c)}_v({context:t,bitmapSize:e}){vh(t,0,0,e.width,e.height,this.fm())}}function Ig(n){return t=>t.ia?.(n)??[]}const _A=Ig("normal"),NA=Ig("top"),jA=Ig("bottom");class MA{constructor(t,e){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=ke({width:0,height:0}),this.gm=new qe,this.Fp=new ih(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Wr(this.Sm,ke({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Wr(this.Sm,ke({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new Nh(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Gr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Gr(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){const t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;const t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,e,i){Yr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),this.pm!==null&&this.pm.hv(ke({width:e,height:t.height})),this.vm!==null&&this.vm.hv(ke({width:i,height:t.height}))}Tm(){const t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t.drawImage(c,e,i)}}lv(t){if(t===0)return;const e={colorSpace:this.Ps.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l),this.uv(l),this.Vm(r,jA)})),this.dv(r),this.Vm(r,_A)),this.pm!==null&&this.pm.lv(t),this.vm!==null&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,NA))}Vm(t,e){const i=this.Vp.Qt().js();for(const r of i)K0(e,(l=>Z0(l,t,!1,void 0)),r,void 0);for(const r of i)K0(e,(l=>Hu(l,t,!1,void 0)),r,void 0)}_v({context:t,bitmapSize:e}){vh(t,0,0,e.width,e.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Rm().S*i));t.fillRect(0,0,e.width,r)}}dv(t){const e=this.Vp.Qt().Et(),i=e.Da();if(!i||i.length===0)return;const r=this.o_.maxTickMarkWeight(i),l=this.Rm(),c=e.N();c.borderVisible&&c.ticksVisible&&t.useBitmapCoordinateSpace((({context:u,horizontalPixelRatio:h,verticalPixelRatio:f})=>{u.strokeStyle=this.Im(),u.fillStyle=this.Im();const m=Math.max(1,Math.floor(h)),b=Math.floor(.5*h);u.beginPath();const y=Math.round(l.C*f);for(let v=i.length;v--;){const k=Math.round(i[v].coord*h);u.rect(k-b,0,m,y)}u.fill()})),t.useMediaCoordinateSpace((({context:u})=>{const h=l.S+l.C+l.A+l.P/2;u.textAlign="center",u.textBaseline="middle",u.fillStyle=this.H(),u.font=this.ev();for(const f of i)if(f.weight<r){const m=f.needAlignCoordinate?this.Em(u,f.coord,f.label):f.coord;u.fillText(f.label,m,h)}this.Vp.N().timeScale.allowBoldLabels&&(u.font=this.Am());for(const f of i)if(f.weight>=r){const m=f.needAlignCoordinate?this.Em(u,f.coord,f.label):f.coord;u.fillText(f.label,m,h)}}))}Em(t,e,i){const r=this.Fp.Vi(t,i),l=r/2,c=Math.floor(e-l)+.5;return c<0?e+=Math.abs(0-c):c+r>this.Op.width&&(e-=Math.abs(this.Op.width-(c+r))),e}Bm(t,e){const i=this.Rm();for(const r of t)for(const l of r.cs())l.Tt().nt(e,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return nh(this.F(),this.Ps.fontFamily)}Am(){return nh(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new ih,Dm:0});const t=this.M,e=this.ev();if(t.k!==e){const i=this.F();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.Dm=4*i/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=t===1?"ew-resize":"default"}xm(){const t=this.Vp.Qt(),e=t.N();e.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),e.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},r=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,l=()=>t.Wc();e.leftPriceScale.visible&&this.pm===null&&(this.pm=new y1("left",e,i,r,l),this.Mm.appendChild(this.pm.Zf())),e.rightPriceScale.visible&&this.vm===null&&(this.vm=new y1("right",e,i,r,l),this.bm.appendChild(this.vm.Zf()))}}const CA=!!$a&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((n=>n.brand.includes("Chromium")))&&!!$a&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class EA{constructor(t,e,i){var r;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new qe,this.Cv=new qe,this.Xu=new qe,this.Um=null,this.$m=null,this.Dp=t,this.Ps=e,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),_0(this.Ps)&&this.Km(!0),this.ts=new fA(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new MA(this,this.o_),this.qm.appendChild(this.Zm.Zf());const l=e.autoSize&&this.Gm();let c=this.Ps.width,u=this.Ps.height;if(l||c===0||u===0){const h=t.getBoundingClientRect();c=c||h.width,u=u||h.height}this.Jm(c,u),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.zm)this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();this.zm=[];for(const t of this.Lm)this.sw(t);this.Lm=[],pt(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,e,i=!1){if(this.il===e&&this.Mo===t)return;const r=(function(u){const h=Math.floor(u.width),f=Math.floor(u.height);return ke({width:h-h%2,height:f-f%2})})(ke({width:t,height:e}));this.il=r.height,this.Mo=r.width;const l=this.il+"px",c=this.Mo+"px";pt(this.kp).style.height=l,pt(this.kp).style.width=c,this.qm.style.height=l,this.qm.style.width=c,i?this.ew(xn.gn(),performance.now()):this.ts.Ih()}lv(t){t===void 0&&(t=xn.gn());for(let e=0;e<this.zm.length;e++)this.zm[e].lv(t.en(e).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){const e=_0(this.Ps);this.ts.hr(t);const i=_0(this.Ps);i!==e&&this.Km(i),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const e=this.lw(null),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const r=pt(i.getContext("2d"));return this.lw(r,t),i}ow(t){return t==="left"&&!this._w()||t==="right"&&!this.uw()||this.zm.length===0?0:pt(t==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return Xn(this.zm[t]).Gf()}rw(){this.Lm.forEach((t=>{t.yt()}))}hw(t){(t.autoSize!==void 0||!this.Um||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Um&&this.Gm(),t.autoSize===!1&&this.Um!==null&&this.nw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,e){let i=0,r=0;const l=this.zm[0],c=(h,f)=>{let m=0;for(let b=0;b<this.zm.length;b++){const y=this.zm[b],v=pt(h==="left"?y.nm():y.rm()),k=v.Jf();if(t!==null&&v.Qf(t,f,m,e),m+=k.height,b<this.zm.length-1){const S=this.Lm[b],N=S.Jf();t!==null&&S.Qf(t,f,m),m+=N.height}}};this._w()&&(c("left",0),i+=pt(l.nm()).Jf().width);for(let h=0;h<this.zm.length;h++){const f=this.zm[h],m=f.Jf();if(t!==null&&f.Qf(t,i,r,e),r+=m.height,h<this.zm.length-1){const b=this.Lm[h],y=b.Jf();t!==null&&b.Qf(t,i,r),r+=y.height}}i+=l.Jf().width,this.uw()&&(c("right",i),i+=pt(l.rm()).Jf().width);const u=(h,f,m)=>{pt(h==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(pt(t),f,m)};if(this.Ps.timeScale.visible){const h=this.Zm.Jf();if(t!==null){let f=0;this._w()&&(u("left",f,r),f=pt(l.nm()).Jf().width),this.Zm.Qf(t,f,r,e),f+=h.width,this.uw()&&u("right",f,r)}r+=h.height}return ke({width:i,height:r})}mw(){let t=0,e=0,i=0;for(const N of this.zm)this._w()&&(e=Math.max(e,pt(N.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,pt(N.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),t+=N.Bo();e=Q0(e),i=Q0(i);const r=this.Mo,l=this.il,c=Math.max(r-e-i,0),u=1*this.Lm.length,h=this.Ps.timeScale.visible;let f=h?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var m;f=(m=f)+m%2;const b=u+f,y=l<b?0:l-b,v=y/t;let k=0;const S=window.devicePixelRatio||1;for(let N=0;N<this.zm.length;++N){const j=this.zm[N];j.Lv(this.ts.$s()[N]);let E=0,D=0;D=N===this.zm.length-1?Math.ceil((y-k)*S)/S:Math.round(j.Bo()*v*S)/S,E=Math.max(D,2),k+=E,j.hv(ke({width:c,height:E})),this._w()&&j.Jv(e,"left"),this.uw()&&j.Jv(i,"right"),j.ap()&&this.ts.dc(j.ap(),E)}this.Zm.km(ke({width:h?c:0,height:f}),h?e:0,h?i:0),this.ts.Eo(c),this.Nm!==e&&(this.Nm=e),this.Fm!==i&&(this.Fm=i)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return CA?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const e=this.ww(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const l=Math.sign(r)*Math.min(1,Math.abs(r)),c=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(c,l)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(t,e){const i=t.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(t),this.bw(t,e),this.Zm.yt(),this.zm.forEach((r=>{r.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,e),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,e){for(const i of t.pn())this.mn(i,e)}Mw(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Go()}mn(t,e){const i=this.ts.Et();switch(t.an){case 0:i.Au();break;case 1:i.zu(t.Wt);break;case 2:i.dn(t.Wt);break;case 3:i.fn(t.Wt);break;case 4:i.Su();break;case 5:t.Wt.Ru(e)||i.fn(t.Wt.Du(e))}}Gu(t){this.Wm!==null?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((e=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,e);for(const r of i.pn())if(r.an===5&&!r.Wt.Ru(e)){this.Qt()._n(r.Wt);break}}})))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){const t=this.ts.$s(),e=t.length,i=this.zm.length;for(let r=e;r<i;r++){const l=Xn(this.zm.pop());this.qm.removeChild(l.Zf()),l.Xv().u(this),l.Zv().u(this),l.m();const c=this.Lm.pop();c!==void 0&&this.sw(c)}for(let r=i;r<e;r++){const l=new Fg(this,t[r]);if(l.Xv().i(this.Sw.bind(this,l),this),l.Zv().i(this.xw.bind(this,l),this),this.zm.push(l),r>0){const c=new yA(this,r-1,r);this.Lm.push(c),this.qm.insertBefore(c.Zf(),this.Zm.Zf())}this.qm.insertBefore(l.Zf(),this.Zm.Zf())}for(let r=0;r<e;r++){const l=t[r],c=this.zm[r];c.ap()!==l?c.Lv(l):c.zv()}this.tw(),this.mw()}Cw(t,e,i,r){const l=new Map;t!==null&&this.ts.js().forEach((b=>{const y=b.Xs().Fr(t);y!==null&&l.set(b,y)}));let c;if(t!==null){const b=this.ts.Et().ss(t)?.originalTime;b!==void 0&&(c=b)}const u=this.Qt().ac(),h=u!==null&&u.n_ instanceof _h?u.n_:void 0,f=u!==null&&u.e_!==void 0?u.e_.Kn:void 0,m=this.Pw(r);return{yw:c,Re:t??void 0,kw:e??void 0,Tw:m!==-1?m:void 0,Rw:h,Dw:l,Vw:f,Bw:i??void 0}}Pw(t){let e=-1;if(t)e=this.zm.indexOf(t);else{const i=this.Qt().uc().Us();i!==null&&(e=this.Qt().$s().indexOf(i))}return e}Sw(t,e,i,r){this.xv.p((()=>this.Cw(e,i,r,t)))}xw(t,e,i,r){this.Cv.p((()=>this.Cw(e,i,r,t)))}Xm(t,e,i){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(t,e,i)))}tw(){const t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Jm(e.contentRect.width,e.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function _0(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function TA(n){return n.open===void 0&&n.value===void 0}function DA(n){return(function(t){return t.open!==void 0})(n)||(function(t){return t.value!==void 0})(n)}function v1(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.color!==void 0&&(l.R=e.color),l}function AA(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.lineColor!==void 0&&(l.vt=e.lineColor),e.topColor!==void 0&&(l.mr=e.topColor),e.bottomColor!==void 0&&(l.wr=e.bottomColor),l}function RA(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.topLineColor!==void 0&&(l.gr=e.topLineColor),e.bottomLineColor!==void 0&&(l.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(l.br=e.topFillColor1),e.topFillColor2!==void 0&&(l.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(l.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(l.Pr=e.bottomFillColor2),l}function OA(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),r}function zA(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function LA(n,t,e,i,r){const l=Xn(r)(e),c=Math.max(...l),u=Math.min(...l),h=l[l.length-1],f=[h,c,u,h],{time:m,color:b,...y}=e;return{Re:t,wt:n,Wt:f,yw:i,se:y,R:b}}function eo(n){return n.Wt!==void 0}function w1(n,t){return t.customValues!==void 0&&(n.Iw=t.customValues),n}function Pr(n){return(t,e,i,r,l,c)=>(function(u,h){return h?h(u):TA(u)})(i,c)?w1({wt:t,Re:e,yw:r},i):w1(n(t,e,i,r,l),i)}function S1(n){return{Candlestick:Pr(zA),Bar:Pr(OA),Area:Pr(AA),Baseline:Pr(RA),Histogram:Pr(v1),Line:Pr(v1),Custom:Pr(LA)}[n]}function k1(n){return{Re:0,Ew:new Map,Hh:n}}function _1(n,t){if(n!==void 0&&n.length!==0)return{Aw:t.key(n[0].wt),zw:t.key(n[n.length-1].wt)}}function N1(n){let t;return n.forEach((e=>{t===void 0&&(t=e.yw)})),Xn(t)}class PA{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,e){let i=this.Lw.size!==0,r=!1;const l=this.Ow.get(t);if(l!==void 0)if(this.Ow.size===1)i=!1,r=!0,this.Lw.clear();else for(const h of this.Fw)h.pointData.Ew.delete(t)&&(r=!0);let c=[];if(e.length!==0){const h=e.map((v=>v.time)),f=this.o_.createConverterToInternalObj(e),m=S1(t.Rr()),b=t.ca(),y=t.fa();c=e.map(((v,k)=>{const S=f(v.time),N=this.o_.key(S);let j=this.Lw.get(N);j===void 0&&(j=k1(S),this.Lw.set(N,j),r=!0);const E=m(S,j.Re,v,h[k],b,y);return j.Ew.set(t,E),E}))}i&&this.Hw(),this.Uw(t,c);let u=-1;if(r){const h=[];this.Lw.forEach((f=>{h.push({timeWeight:0,time:f.Hh,pointData:f,originalTime:N1(f.Ew)})})),h.sort(((f,m)=>this.o_.key(f.time)-this.o_.key(m.time))),u=this.$w(h)}return this.qw(t,u,(function(h,f,m){const b=_1(h,m),y=_1(f,m);if(b!==void 0&&y!==void 0)return{Yw:!1,zh:b.zw>=y.zw&&b.Aw>=y.Aw}})(this.Ow.get(t),l,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,e,i){const r=e;(function(N){N.yw===void 0&&(N.yw=N.time)})(r),this.o_.preprocessData(e);const l=this.o_.createConverterToInternalObj([e])(e.time),c=this.Nw.get(t);if(!i&&c!==void 0&&this.o_.key(l)<this.o_.key(c))throw new Error(`Cannot update oldest data, last time=${c}, new time=${l}`);let u=this.Lw.get(this.o_.key(l));if(i&&u===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=u===void 0;u===void 0&&(u=k1(l),this.Lw.set(this.o_.key(l),u));const f=S1(t.Rr()),m=t.ca(),b=t.fa(),y=f(l,u.Re,e,r.yw,m,b);u.Ew.set(t,y),i?this.Kw(t,y,u.Re):this.Xw(t,y);const v={zh:eo(y),Yw:i};if(!h)return this.qw(t,-1,v);const k={timeWeight:0,time:u.Hh,pointData:u,originalTime:N1(u.Ew)},S=qa(this.Fw,this.o_.key(k.time),((N,j)=>this.o_.key(N.time)<j));this.Fw.splice(S,0,k);for(let N=S;N<this.Fw.length;++N)Tu(this.Fw[N].pointData,N);return this.o_.fillWeightsForPoints(this.Fw,S),this.qw(t,S,v)}Zw(t,e){const i=this.Ow.get(t);if(i===void 0||e<=0)return[[],this.Gw()];e=Math.min(e,i.length);const r=i.splice(-e).reverse();i.length===0?this.Nw.delete(t):this.Nw.set(t,i[i.length-1].wt);for(const l of r){const c=this.Lw.get(this.o_.key(l.wt));if(c&&(c.Ew.delete(t),c.Ew.size===0)){this.Lw.delete(this.o_.key(c.Hh)),this.Fw.splice(c.Re,1);for(let u=c.Re;u<this.Fw.length;++u)Tu(this.Fw[u].pointData,u)}}return[r,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,e){let i=this.Ow.get(t);i===void 0&&(i=[],this.Ow.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||this.o_.key(e.wt)>this.o_.key(r.wt)?eo(e)&&i.push(e):eo(e)?i[i.length-1]=e:i.splice(-1,1),this.Nw.set(t,e.wt)}Kw(t,e,i){const r=this.Ow.get(t);if(r===void 0)return;const l=qa(r,i,((c,u)=>c.Re<u));eo(e)?r[l]=e:r.splice(l,1)}Uw(t,e){e.length!==0?(this.Ow.set(t,e.filter(eo)),this.Nw.set(t,e[e.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(const t of this.Fw)t.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(t.time))}$w(t){let e=-1;for(let i=0;i<this.Fw.length&&i<t.length;++i){const r=this.Fw[i],l=t[i];if(this.o_.key(r.time)!==this.o_.key(l.time)){e=i;break}l.timeWeight=r.timeWeight,Tu(l.pointData,i)}if(e===-1&&this.Fw.length!==t.length&&(e=Math.min(this.Fw.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)Tu(t[i].pointData,i);return this.o_.fillWeightsForPoints(t,e),this.Fw=t,e}Jw(){if(this.Ow.size===0)return null;let t=0;return this.Ow.forEach((e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))})),t}qw(t,e,i){const r=this.Gw();if(e!==-1)this.Ow.forEach(((l,c)=>{r.Oo.set(c,{se:l,Qw:c===t?i:void 0})})),this.Ow.has(t)||r.Oo.set(t,{se:[],Qw:i}),r.Et.tg=this.Fw,r.Et.ig=e;else{const l=this.Ow.get(t);r.Oo.set(t,{se:l||[],Qw:i})}return r}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function Tu(n,t){n.Re=t,n.Ew.forEach((e=>{e.Re=t}))}function BA(n,t){return n.wt<t}function HA(n,t){return t<n.wt}function VA(n,t,e){const i=t.Uh(),r=t.bi(),l=qa(n,i,BA),c=Qw(n,r,HA);if(!e)return{from:l,to:c};let u=l,h=c;return l>0&&l<n.length&&n[l].wt>=i&&(u=l-1),c>0&&c<n.length&&n[c-1].wt<=r&&(h=c+1),{from:u,to:h}}class UA{constructor(t,e,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=e,this.ag=i}yt(t){this.sg=!0,t==="data"&&(this.ng=!0),t==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.ug(),e.Ki()||t.Ki())return;const i=e.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.hg=VA(this.rg,i,this.ag),this.fg(t,e,r.Wt),this.pg())}}class FA{constructor(t,e){this.vg=t,this.Yi=e}nt(t,e,i){this.vg.draw(t,this.Yi,e,i)}}class IA extends UA{constructor(t,e,i){super(t,e,!1),this.sh=i,this.og=new FA(this.sh.renderer(),(r=>{const l=t.zt();return l===null?null:t.Ft().Nt(r,l.Wt)}))}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),mg:e.se})))}fg(t,e){e.uu(this.rg,hD(this.hg))}pg(){this.sh.update({bars:this.rg.map(YA),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function YA(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const qA={color:"#2196f3"},$A=(n,t,e)=>{const i=lr(e);return new IA(n,t,i)};function Yg(n){const t={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function j1(n){const t=Yg(n);return n.R!==void 0&&(t.color=n.R),t}function WA(n){const t=Yg(n);return n.vt!==void 0&&(t.lineColor=n.vt),n.mr!==void 0&&(t.topColor=n.mr),n.wr!==void 0&&(t.bottomColor=n.wr),t}function GA(n){const t=Yg(n);return n.gr!==void 0&&(t.topLineColor=n.gr),n.Mr!==void 0&&(t.bottomLineColor=n.Mr),n.br!==void 0&&(t.topFillColor1=n.br),n.Sr!==void 0&&(t.topFillColor2=n.Sr),n.Cr!==void 0&&(t.bottomFillColor1=n.Cr),n.Pr!==void 0&&(t.bottomFillColor2=n.Pr),t}function sS(n){const t={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function XA(n){const t=sS(n);return n.R!==void 0&&(t.color=n.R),t}function QA(n){const t=sS(n),{R:e,Ht:i,vr:r}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}function Vu(n){return{Area:WA,Line:j1,Baseline:GA,Histogram:j1,Bar:XA,Candlestick:QA,Custom:ZA}[n]}function ZA(n){const t=n.yw;return{...n.se,time:t}}const KA={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},JA={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},tR={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Fw,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},N0={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},eR={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function M1(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:tR,crosshair:KA,grid:JA,overlayPriceScales:{...N0},leftPriceScale:{...N0,visible:!1},rightPriceScale:{...N0,visible:!0},timeScale:eR,localization:{locale:$a?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class rS{constructor(t,e,i){this.Hf=t,this.wg=e,this.gg=i??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return Sh(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new Pn(t.from,t.to))}getVisibleRange(){let t,e,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const r=this.Yi().fo(),l=eS(r);i=Ra(i,this.Yi().tl()),t=Number((Math.round(i.$e()/r)*r).toFixed(l)),e=Number((Math.round(i.qe()/r)*r).toFixed(l))}else t=i.$e(),e=i.qe();return{from:t,to:e}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return pt(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class nR{constructor(t,e,i,r){this.Hf=t,this.Pt=i,this.Mg=e,this.bg=r}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Hf.Qt(),i=e.Uc(this.Pt);e.vc(i,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(yn(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(e,t))}getSeries(){return this.Pt.Oo().map((t=>this.Mg(t)))??[]}getHTMLElement(){const t=this.Hf.$f();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new rS(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},i=0){return this.bg.addCustomSeries(t,e,i)}addSeries(t,e={}){return this.bg.addSeries(t,e,this.paneIndex())}}const iR={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class C1{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class sR{constructor(t,e,i,r,l,c){this.xg=new qe,this.Jn=t,this.Cg=e,this.Pg=i,this.o_=l,this.bg=r,this.yg=c}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(t===null)return null;const e=new Ba(new yo(t.from,t.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const r=i.Fr(e.Uh(),1),l=i.Fr(e.bi(),-1),c=pt(i.Lr()),u=pt(i.Ks());if(r!==null&&l!==null&&r.Re>l.Re)return{barsBefore:t.from-c,barsAfter:u-t.to};const h={barsBefore:r===null||r.Re===c?t.from-c:r.Re-c,barsAfter:l===null||l.Re===u?u-t.to:u-l.Re};return r!==null&&l!==null&&(h.from=r.yw,h.to=l.yw),h}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,e=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,e),this.Tg("update")}pop(t=1){const e=this.Cg.Dg(this.Jn,t);e.length!==0&&this.Tg("update");const i=Vu(this.seriesType());return e.map((r=>i(r)))}dataByIndex(t,e){const i=this.Jn.Xs().Fr(t,e);return i===null?null:Vu(this.seriesType())(i)}data(){const t=Vu(this.seriesType());return this.Jn.Xs().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Ss(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){const e=hi(Ss(iR),t),i=this.Jn.Oh(e);return new C1(i)}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map((t=>new C1(t)))}seriesType(){return this.Jn.Rr()}lastValueData(t){const e=this.Jn.ye(t);return e.ke?{noData:!0}:{noData:!1,price:e.gt,color:e.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){const t=this.Jn,e=pt(this.Jn.Qt().Hn(t));return this.yg(e)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class rR{constructor(t,e,i){this.Vg=new qe,this.z_=new qe,this.gm=new qe,this.ts=t,this.uh=t.Et(),this.Zm=e,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,e){e?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.nu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},i=this.uh.au(e);this.ts.Lc(i)}getVisibleLogicalRange(){const t=this.uh.su();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){yn(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,e){const i=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),i=e.cu(t),r=e.ss(i);return r===null?null:r.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Ss(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function E1(n){return(function(t){if(ku(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;ku(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),ku(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;ku(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})})(n),n}class aR{constructor(t,e,i){this.Ag=new Map,this.zg=new Map,this.Lg=new qe,this.Og=new qe,this.Ng=new qe,this.qu=new WeakMap,this.Fg=new PA(e);const r=i===void 0?Ss(M1()):hi(Ss(M1()),E1(i));this.Wg=e,this.Hf=new EA(t,r,e),this.Hf.Xv().i((c=>{this.Lg.v()&&this.Lg.p(this.Hg(c()))}),this),this.Hf.Zv().i((c=>{this.Og.v()&&this.Og.p(this.Hg(c()))}),this),this.Hf.cc().i((c=>{this.Ng.v()&&this.Ng.p(this.Hg(c()))}),this);const l=this.Hf.Qt();this.Ug=new rR(l,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,e,i){this.autoSizeActive()||this.Hf.Jm(t,e,i)}addCustomSeries(t,e={},i=0){const r=(l=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...qA,...l.defaultOptions()},$g:$A,qg:l}))(lr(t));return this.Yg(r,e,i)}addSeries(t,e={},i=0){return this.Yg(t,e,i)}removeSeries(t){const e=Xn(this.Ag.get(t)),i=this.Fg.Ac(e);this.Hf.Qt().Ac(e),this.jg(i),this.Ag.delete(t),this.zg.delete(e)}kg(t,e){this.jg(this.Fg.Ww(t,e))}Rg(t,e,i){this.jg(this.Fg.jw(t,e,i))}Dg(t,e){const[i,r]=this.Fg.Zw(t,e);return i.length!==0&&this.jg(r),i}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,e=0){return new rS(this.Hf,t,e)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(E1(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,e=!1){let i,r;try{e||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),r=this.Hf.aw(t)}finally{e||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return r}addPane(t=!1){const e=this.Hf.Qt().$c();return e.zo(t),this.Kg(e)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,e){this.Hf.Qt().mc(t,e)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((t=>this.Kg(t)))}paneSize(t=0){const e=this.Hf.pw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const r=this.Ag.get(i);if(r===void 0)return;const l=this.Hf.Qt().Hn(r);l!==null&&this.Hf.Qt().Rc(t,e,l)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,e={},i=0){yn(t.$g!==void 0),(function(h){if(h===void 0||h.type==="custom")return;const f=h;f.minMove!==void 0&&f.precision===void 0&&(f.precision=eS(f.minMove))})(e.priceFormat),t.type==="Candlestick"&&(function(h){h.borderColor!==void 0&&(h.borderUpColor=h.borderColor,h.borderDownColor=h.borderColor),h.wickColor!==void 0&&(h.wickUpColor=h.wickColor,h.wickDownColor=h.wickColor)})(e);const r=hi(Ss(Vw),Ss(t.defaultOptions),e),l=t.$g,c=new _h(this.Hf.Qt(),t.type,r,l,t.qg);this.Hf.Qt().Ic(c,i);const u=new sR(c,this,this,this,this.Wg,(h=>this.Kg(h)));return this.Ag.set(u,c),this.zg.set(c,u),u}jg(t){const e=this.Hf.Qt();e.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach(((i,r)=>r.ht(i.se,i.Qw))),e.Et().K_(),e.vu()}Xg(t){return Xn(this.zg.get(t))}Hg(t){const e=new Map;t.Dw.forEach(((r,l)=>{const c=l.Rr(),u=Vu(c)(r);if(c!=="Custom")yn(DA(u));else{const h=l.fa();yn(!h||h(u)===!1)}e.set(this.Xg(l),u)}));const i=t.Rw!==void 0&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:i,hoveredObjectId:t.Vw,seriesData:e,sourceEvent:t.Bw}}Kg(t){let e=this.qu.get(t);return e||(e=new nR(this.Hf,(i=>this.Xg(i)),t,this),this.qu.set(t,e)),e}}function lR(n){if(Wo(n)){const t=document.getElementById(n);return yn(t!==null,`Cannot find element in DOM with id=${n}`),t}return n}function oR(n,t,e){const i=lR(n),r=new aR(i,t,e);return t.setOptions(r.options()),r}function cR(n,t){return oR(n,new d1,d1.ld(t))}({...Vw});const uR=[{ratio:0,label:"0.0"},{ratio:.5,label:"0.5"},{ratio:1,label:"1.0"},{ratio:1.382,label:"1.382"},{ratio:1.618,label:"1.618"},{ratio:2,label:"2.0"},{ratio:2.382,label:"2.382"},{ratio:2.618,label:"2.618"},{ratio:3,label:"3.0"},{ratio:3.382,label:"3.382"},{ratio:3.618,label:"3.618"},{ratio:4.24,label:"4.24"},{ratio:5.08,label:"5.08"},{ratio:6.86,label:"6.86"},{ratio:11.01,label:"11.01"}],hR=[{ratio:-11.01,label:"-11.01"},{ratio:-6.86,label:"-6.86"},{ratio:-5.08,label:"-5.08"},{ratio:-4.24,label:"-4.24"},{ratio:-3.618,label:"-3.618"},{ratio:-3.382,label:"-3.382"},{ratio:-3,label:"-3.0"},{ratio:-2.618,label:"-2.618"},{ratio:-2.382,label:"-2.382"},{ratio:-2,label:"-2.0"},{ratio:-1.618,label:"-1.618"},{ratio:-1.382,label:"-1.382"},{ratio:-1,label:"-1.0"},{ratio:-.5,label:"-0.5"}];function dR(){const[n,t]=_.useState("AAPL"),[e,i]=_.useState(2),[r,l]=_.useState(!1),[c,u]=_.useState(null),[h,f]=_.useState(null),[m,b]=_.useState(!1),[y,v]=_.useState(!1),k=_.useRef(null),S=_.useRef(null),N=_.useRef(null),j=_.useRef(null),[E,D]=_.useState(!1),U=st=>{st?(k.current=st,D(!0),console.log("[Container Ref] Container mounted")):(k.current=null,D(!1))},A=async(st,ut,V)=>{try{const ft=await Ja(st,"1d",ut==="ytd"?"ytd":"1y");if(ft.source!=="yahoo")throw new Error("Yahoo Finance data is required for chart display. Please try again.");const bt=ft.data;if(!bt||!bt.chart||!bt.chart.result||bt.chart.result.length===0)throw new Error("No data available for this symbol");const O=bt.chart.result[0],L=O.meta,$=O.indicators?.quote?.[0],lt=O.timestamp;if(!$)throw new Error("No quote data available for this symbol");if(!lt||lt.length===0)throw new Error("No timestamp data available");let xt,gt,ht;if(V==="first_day"){const ct=new Date().getFullYear(),vt=[];for(let Bt=0;Bt<lt.length;Bt++){const Oe=new Date(lt[Bt]*1e3);Oe.getFullYear()===ct&&vt.push({index:Bt,date:Oe,timestamp:lt[Bt],high:$.high[Bt],low:$.low[Bt],open:$.open[Bt],close:$.close[Bt]})}if(vt.length===0)throw new Error("No data available for current year");vt.sort((Bt,Oe)=>Bt.timestamp-Oe.timestamp);const yt=vt[0];if(yt.high===null||yt.low===null||yt.open===null||yt.close===null)throw new Error("Invalid data for first trading day");const St=yt.close>yt.open;St?(xt=yt.high,gt=yt.low):(xt=yt.low,gt=yt.high);const zt=yt.date,Ht=St?"BULLISH":"BEARISH";ht=`First Trading Day: ${zt.toLocaleDateString()} (${Ht} - Open: ${yt.open.toFixed(2)}, High: ${yt.high.toFixed(2)}, Low: ${yt.low.toFixed(2)}, Close: ${yt.close.toFixed(2)})`,console.log("First trading day anchor:",{date:zt.toLocaleDateString(),dateTime:zt.toLocaleString(),candleType:Ht,actualHigh:yt.high,actualLow:yt.low,open:yt.open,close:yt.close,fibonacciHigh:xt,fibonacciLow:gt,note:St?"0=Low, 1=High":"0=High, 1=Low",totalCandlesInYear:vt.length})}const Tt=$.close.filter(ct=>ct!==null),wt=Tt[Tt.length-1],kt=[];for(let ct=0;ct<lt.length;ct++)if($.open[ct]!==null&&$.high[ct]!==null&&$.low[ct]!==null&&$.close[ct]!==null){const vt=Math.floor(Number(lt[ct])),yt=Number($.open[ct]),St=Number($.high[ct]),zt=Number($.low[ct]),Ht=Number($.close[ct]);!isNaN(yt)&&!isNaN(St)&&!isNaN(zt)&&!isNaN(Ht)&&yt>0&&St>0&&zt>0&&Ht>0&&vt>0&&St>=zt&&St>=Math.max(yt,Ht)&&zt<=Math.min(yt,Ht)&&kt.push({time:vt,open:yt,high:St,low:zt,close:Ht})}if(kt.sort((ct,vt)=>ct.time-vt.time),console.log("Chart data prepared:",{totalCandles:kt.length,firstCandle:kt[0],lastCandle:kt[kt.length-1],sampleData:kt.slice(0,3)}),kt.length===0)throw new Error("No valid chart data points found. Please check the symbol and try again.");return{symbol:L.symbol,current:wt,high:xt,low:gt,currency:L.currency||"USD",timestamps:lt,quotes:$,anchorInfo:ht,chartData:kt}}catch(Y){throw console.error("Error fetching market data:",Y),console.error("Error stack:",Y.stack),new Error(Y.message||"Unable to fetch market data. Please verify the symbol and try again.")}},F=async()=>{const st=n.trim().toUpperCase();if(!st){u("Please enter a valid symbol");return}l(!0),u(null),b(!1);try{console.log("Fetching data for:",st,"ytd","Anchor: first_day","Precision:",e);const ut=await A(st,"ytd","first_day");console.log("Data received:",ut),f(ut),b(!0)}catch(ut){console.error("Error in fetchDataAndCalculate:",ut),u(ut.message||"Unable to fetch market data. Please verify the symbol and try again.")}finally{l(!1)}},H=()=>{if(!N.current)return console.warn("[Chart Test] Candlestick series not available for test"),!1;const st=Math.floor(Date.now()/1e3),ut=86400,V=[];let Y=150;for(let ot=59;ot>=0;ot--){const ft=st-ot*ut,bt=(Math.random()-.5)*10,O=Y+bt,L=O+(Math.random()-.5)*5,$=Math.max(O,L)+Math.random()*3,lt=Math.min(O,L)-Math.random()*3,xt=Math.max(O,L,$),gt=Math.min(O,L,lt);V.push({time:ft,open:Number(O.toFixed(2)),high:Number(xt.toFixed(2)),low:Number(gt.toFixed(2)),close:Number(L.toFixed(2))}),Y=L}V.sort((ot,ft)=>ot.time-ft.time),console.log("[Chart Test] Testing chart with hardcoded data:",V.length,"candles"),console.log("[Chart Test] Sample test data:",V.slice(0,3));try{return N.current.setData(V),S.current&&S.current.timeScale().fitContent(),console.log("[Chart Test] Test chart data set successfully - chart is functional"),!0}catch(ot){return console.error("[Chart Test] Error setting test chart data:",ot),console.error("[Chart Test] This indicates a fundamental chart rendering issue"),!1}},X=st=>{if(!(!N.current||!st))try{N.current.createPriceLine({price:st,color:"#10B981",lineWidth:3,lineStyle:Da.Solid,axisLabelVisible:!0,title:`Current: ${st.toFixed(2)}`}),console.log("Current price line added:",st)}catch(ut){console.error("Error adding current price line:",ut)}},P=(st,ut)=>{if(!N.current)return;const V=st-ut;[{ratio:0,label:"0.0"},{ratio:1,label:"1.0"},{ratio:1.618,label:"1.618"},{ratio:2.618,label:"2.618"},{ratio:4.24,label:"4.24"}].forEach(ft=>{const bt=ut+V*ft.ratio;N.current.createPriceLine({price:bt,color:"#3B82F6",lineWidth:ft.ratio===0||ft.ratio===1?2:1,lineStyle:ft.ratio===0||ft.ratio===1?Da.Solid:Da.Dashed,axisLabelVisible:!0,title:ft.label})}),[{ratio:-.5,label:"-0.5"},{ratio:-1,label:"-1.0"},{ratio:-1.618,label:"-1.618"},{ratio:-2.618,label:"-2.618"},{ratio:-4.24,label:"-4.24"},{ratio:-5.08,label:"-5.08"},{ratio:-6.86,label:"-6.86"},{ratio:-11.01,label:"-11.01"}].forEach(ft=>{const bt=ut+V*ft.ratio;N.current.createPriceLine({price:bt,color:"#EF4444",lineWidth:1,lineStyle:Da.Dashed,axisLabelVisible:!0,title:ft.label})})},et=(st,ut)=>{const V=st-ut,Y=uR.map(ft=>({...ft,price:ut+V*ft.ratio})),ot=hR.map(ft=>({...ft,price:ut+V*ft.ratio}));return{positiveLevels:Y,negativeLevels:ot}},Q=st=>{st.key==="Enter"&&F()};_.useEffect(()=>{if(!m||!h||!h.chartData||!Array.isArray(h.chartData)||h.chartData.length===0){if(S.current){try{S.current.remove()}catch{}S.current=null,N.current=null}j.current&&(j.current.disconnect(),j.current=null),v(!1),D(!1);return}if(!E||!k.current){console.log("[Chart] Waiting for container to mount...",{containerMounted:E,hasRef:!!k.current});return}let st=!0;const ut=()=>{if(!st)return;const Y=k.current;if(!Y){console.error("[Chart] Container ref is null");return}Y.style.display="block",Y.style.visibility="visible",Y.style.width="100%",Y.style.height="600px",Y.style.minHeight="600px",Y.style.minWidth="400px",Y.style.position="relative",Y.style.overflow="hidden",requestAnimationFrame(()=>{if(!st||!Y)return;const ot=Y.getBoundingClientRect();let ft=ot.width||Y.offsetWidth||Y.clientWidth,bt=ot.height||Y.offsetHeight||Y.clientHeight;if((!ft||ft<=0)&&(ft=800,Y.style.width="800px"),(!bt||bt<=0)&&(bt=600,Y.style.height="600px"),console.log("[Chart] Container dimensions:",{width:ft,height:bt,rectWidth:ot.width,rectHeight:ot.height}),ft<=0||bt<=0){console.error("[Chart] Still invalid dimensions after forcing");return}V(Y,ft,bt)})},V=(Y,ot,ft)=>{if(st){if(S.current){try{S.current.remove()}catch(bt){console.warn("[Chart] Error removing existing chart:",bt)}S.current=null,N.current=null}j.current&&(j.current.disconnect(),j.current=null);try{const bt=document.documentElement.classList.contains("dark"),O=cR(Y,{width:ot,height:ft,layout:{backgroundColor:bt?"#1F2937":"#ffffff",textColor:bt?"#E5E7EB":"#333"},grid:{vertLines:{color:bt?"#374151":"#f0f0f0"},horzLines:{color:bt?"#374151":"#f0f0f0"}},crosshair:{mode:G0.Normal},timeScale:{borderColor:bt?"#374151":"#cccccc",timeVisible:!0,secondsVisible:!1},rightPriceScale:{visible:!0,borderColor:bt?"#374151":"#cccccc"}}),L=O.addCandlestickSeries({upColor:"#22C55E",downColor:"#EF4444",borderUpColor:"#22C55E",borderDownColor:"#EF4444",wickUpColor:"#22C55E",wickDownColor:"#EF4444"});S.current=O,N.current=L;const $=O,lt=L,xt=new ResizeObserver(()=>{if(S.current&&Y){const gt=Y.clientWidth||Y.offsetWidth||800,ht=Y.clientHeight||Y.offsetHeight||600;gt>0&&ht>0&&S.current.applyOptions({width:gt,height:ht})}});xt.observe(Y),j.current=xt,console.log("[Chart] Chart created successfully"),setTimeout(()=>{if(!st||!lt){console.warn("[Chart] Series not available for data setting");return}if(h.chartData&&h.chartData.length>0){console.log("[Chart] Setting data...",h.chartData.length,"points");const gt=h.chartData.map((ht,Tt)=>{try{let wt;if(typeof ht.time=="number")wt=Math.floor(ht.time);else if(typeof ht.time=="string"){const St=new Date(ht.time);if(wt=Math.floor(St.getTime()/1e3),isNaN(wt)||wt<=0)return null}else return null;const kt=Number(ht.open),ct=Number(ht.high),vt=Number(ht.low),yt=Number(ht.close);return isNaN(wt)||isNaN(kt)||isNaN(ct)||isNaN(vt)||isNaN(yt)||wt<=0||kt<=0||ct<=0||vt<=0||yt<=0?null:ct<vt||ct<Math.max(kt,yt)||vt>Math.min(kt,yt)?(console.warn(`[Chart] Invalid candlestick at index ${Tt}`),null):{time:wt,open:kt,high:ct,low:vt,close:yt}}catch(wt){return console.warn(`[Chart] Error processing item ${Tt}:`,wt),null}}).filter(ht=>ht!==null).sort((ht,Tt)=>ht.time-Tt.time);if(console.log("[Chart] Formatted data:",{original:h.chartData.length,formatted:gt.length,first:gt[0],last:gt[gt.length-1]}),gt.length>0)try{lt.setData(gt),$.timeScale().fitContent(),setTimeout(()=>{if(S.current&&Y){const ht=Y.clientWidth||ot,Tt=Y.clientHeight||ft;ht>0&&Tt>0&&(S.current.applyOptions({width:ht,height:Tt}),S.current.timeScale().fitContent())}},100),v(!0),console.log("[Chart] Data set successfully, chart ready!"),setTimeout(()=>{if(st&&N.current)try{h.current&&X(h.current),h.high&&h.low&&P(h.high,h.low)}catch(ht){console.error("[Chart] Error adding price lines:",ht)}},300)}catch(ht){console.error("[Chart] Error setting data:",ht),console.error("[Chart] Error details:",{message:ht.message,stack:ht.stack,dataLength:gt.length}),H()?(v(!0),console.log("[Chart] Using test data as fallback")):v(!1)}else console.error("[Chart] No valid formatted data after processing"),H()?(v(!0),console.log("[Chart] Using test data as fallback")):v(!1)}else console.error("[Chart] No chart data available"),v(!1)},100)}catch(bt){console.error("[Chart] Error initializing chart:",bt),v(!1)}}};return ut(),()=>{st=!1}},[m,h?.chartData?.length,E]),_.useEffect(()=>{let st=!0;const ut=setTimeout(()=>{st&&n&&F()},500);return()=>{st=!1,clearTimeout(ut)}},[]),_.useEffect(()=>()=>{if(j.current&&(j.current.disconnect(),j.current=null),S.current){try{S.current.remove()}catch(st){console.warn("Error removing chart on unmount:",st)}S.current=null,N.current=null}},[]);const{positiveLevels:J=[],negativeLevels:it=[]}=h?et(h.high,h.low):{};return g.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:" Fibonacci Retracement Calculator"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Calculate Fibonacci levels with real-time market data"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Market Data Input"}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Symbol (Stock/Crypto)"}),g.jsx("input",{type:"text",id:"symbol",value:n,onChange:st=>t(st.target.value),onKeyPress:Q,placeholder:"e.g., AAPL, TSLA, BTC-USD",className:"w-full px-4 py-2.5 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-colors"})]}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Period"}),g.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-2 border-blue-500 dark:border-blue-400 rounded-lg text-center text-base font-semibold text-blue-600 dark:text-blue-400",children:"Year to Date (YTD)"})]}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Fibonacci Anchor"}),g.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-2 border-blue-500 dark:border-blue-400 rounded-lg text-center text-base font-semibold text-blue-600 dark:text-blue-400",children:"First Trading Day of Year"})]}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Decimal Precision"}),g.jsx("div",{className:"flex gap-2",children:[2,3].map(st=>g.jsx("button",{className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition-all ${e===st?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400"}`,onClick:()=>i(st),children:st},st))})]}),g.jsx("button",{className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all disabled:opacity-60 disabled:cursor-not-allowed mt-2",onClick:F,disabled:r,children:r?"Calculating...":"Calculate Fibonacci Levels"}),g.jsx("div",{className:"mt-5 p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400 rounded",children:g.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:[g.jsx("strong",{children:"How to use:"})," Enter a stock symbol (e.g., AAPL, GOOGL) or crypto symbol (e.g., BTC-USD, ETH-USD) and click calculate. Fibonacci levels will be anchored to the first trading day of the current year."]})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Current Market Data"}),h&&g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-5 rounded-lg border border-gray-200 dark:border-gray-600 mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[h.symbol," - ",h.anchorInfo?.split("(")[0].trim()||"Period High/Low"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[g.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Current Price:"}),g.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.current.toFixed(e)]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[g.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Period High:"}),g.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.high.toFixed(e)]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[g.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Period Low:"}),g.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.low.toFixed(e)]})]}),g.jsxs("div",{className:"flex justify-between items-center py-2",children:[g.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Range:"}),g.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",(h.high-h.low).toFixed(e),"(",((h.high-h.low)/h.low*100).toFixed(2),"%)"]})]})]})]}),c&&g.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 rounded text-sm mb-4",children:c}),r&&g.jsx("div",{className:"text-center py-6 text-blue-600 dark:text-blue-400 font-medium",children:"Fetching market data..."})]})]}),m&&h&&g.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[450px_1fr] gap-6 mb-6",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Fibonacci Extension Levels"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-3 text-sm",children:" Positive Levels"}),g.jsx("div",{className:"space-y-2",children:J.map((st,ut)=>g.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded border border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[g.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:st.label}),g.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:st.price.toFixed(e)})]},ut))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-3 text-sm",children:" Negative Levels"}),g.jsx("div",{className:"space-y-2",children:it.map((st,ut)=>g.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded border border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[g.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:st.label}),g.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:st.price.toFixed(e)})]},ut))})]})]}),g.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400 rounded",children:g.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:[g.jsx("strong",{children:"Fibonacci Anchoring:"})," BULLISH candle: 0 = Low, 1 = High. BEARISH candle: 0 = High, 1 = Low. Levels extend from these anchor points."]})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Price Chart"}),r&&g.jsx("div",{className:"text-center py-6 text-blue-600 dark:text-blue-400 font-medium",children:"Loading chart data..."}),c&&g.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 rounded text-sm mb-4",children:c}),m&&h&&h.chartData&&g.jsxs("div",{ref:U,id:"price-chart",className:"w-full relative bg-white dark:bg-gray-800",style:{height:"600px",width:"100%",minHeight:"600px",minWidth:"400px",position:"relative",display:"block",visibility:"visible",overflow:"hidden",boxSizing:"border-box"},children:[!y&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500 dark:text-gray-400 z-10 bg-white dark:bg-gray-800 rounded",style:{zIndex:10,pointerEvents:"none"},children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto mb-2"}),g.jsx("p",{className:"text-sm",children:"Initializing chart..."}),g.jsx("p",{className:"text-xs mt-2 text-gray-400",children:E?"Container ready":"Waiting for container..."}),h?.chartData&&g.jsxs("p",{className:"text-xs mt-1 text-gray-400",children:["Data points: ",h.chartData.length]})]})}),y&&g.jsx("div",{className:"absolute top-2 right-2 z-20",children:g.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs px-2 py-1 rounded",children:" Chart Ready"})})]}),m&&h&&(!h.chartData||h.chartData.length===0)&&g.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 text-yellow-700 dark:text-yellow-400 rounded text-sm",children:[g.jsx("p",{className:"font-semibold",children:"No chart data available"}),g.jsx("p",{className:"text-xs mt-1",children:"The data was fetched but no valid chart points were found. Please try a different symbol or time period."})]})]})]})]})}function fR(){return g.jsx(ON,{children:g.jsx(hN,{children:g.jsxs(Si,{path:"/",element:g.jsx($N,{}),children:[g.jsx(Si,{index:!0,element:g.jsx(FM,{})}),g.jsx(Si,{path:"news",element:g.jsx(ZM,{})}),g.jsx(Si,{path:"trading",element:g.jsx(AT,{})}),g.jsxs(Si,{path:"projection",children:[g.jsx(Si,{index:!0,element:g.jsx(W5,{})}),g.jsx(Si,{path:"fib",element:g.jsx(dR,{})})]}),g.jsx(Si,{path:"data",element:g.jsx(G5,{})}),g.jsx(Si,{path:"api",element:g.jsx(Q5,{})}),g.jsx(Si,{path:"settings",element:g.jsx(nD,{})}),g.jsx(Si,{path:"*",element:g.jsx(oN,{to:"/",replace:!0})})]})})})}p_.createRoot(document.getElementById("root")).render(g.jsx(_.StrictMode,{children:g.jsx(fR,{})}));typeof window<"u"&&window.addEventListener("load",()=>{const n=document.createElement("script");n.src="/node_modules/preline/dist/preline.js",n.async=!0,document.querySelector('script[src="/node_modules/preline/dist/preline.js"]')||document.body.appendChild(n)});
