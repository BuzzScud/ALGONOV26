(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();const cN="modulepreload",uN=function(n,t){return new URL(n,t).href},Nb={},hN=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let g=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");r=g(e.map(m=>{if(m=uN(m,i),m in Nb)return;Nb[m]=!0;const b=m.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(i)for(let k=c.length-1;k>=0;k--){const S=c[k];if(S.href===m&&(!b||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=b?"stylesheet":cN,b||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),b)return new Promise((k,S)=>{v.addEventListener("load",k),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};function D1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Af={exports:{}},Wl={};var _b;function dN(){if(_b)return Wl;_b=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:l}}return Wl.Fragment=t,Wl.jsx=e,Wl.jsxs=e,Wl}var jb;function fN(){return jb||(jb=1,Af.exports=dN()),Af.exports}var f=fN(),Rf={exports:{}},Vt={};var Mb;function gN(){if(Mb)return Vt;Mb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function M(z,B,tt){this.props=z,this.context=B,this.refs=_,this.updater=tt||k}M.prototype.isReactComponent={},M.prototype.setState=function(z,B){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,B,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=M.prototype;function A(z,B,tt){this.props=z,this.context=B,this.refs=_,this.updater=tt||k}var U=A.prototype=new E;U.constructor=A,S(U,M.prototype),U.isPureReactComponent=!0;var R=Array.isArray;function q(){}var F={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function V(z,B,tt){var ct=tt.ref;return{$$typeof:n,type:z,key:B,ref:ct!==void 0?ct:null,props:tt}}function nt(z,B){return V(z.type,B,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function Y(z){var B={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(tt){return B[tt]})}var K=/\/+/g;function ot(z,B){return typeof z=="object"&&z!==null&&z.key!=null?Y(""+z.key):B.toString(36)}function ut(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(q,q):(z.status="pending",z.then(function(B){z.status==="pending"&&(z.status="fulfilled",z.value=B)},function(B){z.status==="pending"&&(z.status="rejected",z.reason=B)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,B,tt,ct,xt){var pt=typeof z;(pt==="undefined"||pt==="boolean")&&(z=null);var gt=!1;if(z===null)gt=!0;else switch(pt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(z.$$typeof){case n:case t:gt=!0;break;case m:return gt=z._init,L(gt(z._payload),B,tt,ct,xt)}}if(gt)return xt=xt(z),gt=ct===""?"."+ot(z,0):ct,R(xt)?(tt="",gt!=null&&(tt=gt.replace(K,"$&/")+"/"),L(xt,B,tt,"",function(mt){return mt})):xt!=null&&(P(xt)&&(xt=nt(xt,tt+(xt.key==null||z&&z.key===xt.key?"":(""+xt.key).replace(K,"$&/")+"/")+gt)),B.push(xt)),1;gt=0;var kt=ct===""?".":ct+":";if(R(z))for(var vt=0;vt<z.length;vt++)ct=z[vt],pt=kt+ot(ct,vt),gt+=L(ct,B,tt,pt,xt);else if(vt=v(z),typeof vt=="function")for(z=vt.call(z),vt=0;!(ct=z.next()).done;)ct=ct.value,pt=kt+ot(ct,vt++),gt+=L(ct,B,tt,pt,xt);else if(pt==="object"){if(typeof z.then=="function")return L(ut(z),B,tt,ct,xt);throw B=String(z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return gt}function X(z,B,tt){if(z==null)return z;var ct=[],xt=0;return L(z,ct,"","",function(pt){return B.call(tt,pt,xt++)}),ct}function at(z){if(z._status===-1){var B=z._result;B=B(),B.then(function(tt){(z._status===0||z._status===-1)&&(z._status=1,z._result=tt)},function(tt){(z._status===0||z._status===-1)&&(z._status=2,z._result=tt)}),z._status===-1&&(z._status=0,z._result=B)}if(z._status===1)return z._result.default;throw z._result}var yt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},bt={map:X,forEach:function(z,B,tt){X(z,function(){B.apply(this,arguments)},tt)},count:function(z){var B=0;return X(z,function(){B++}),B},toArray:function(z){return X(z,function(B){return B})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Vt.Activity=b,Vt.Children=bt,Vt.Component=M,Vt.Fragment=e,Vt.Profiler=r,Vt.PureComponent=A,Vt.StrictMode=i,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return F.H.useMemoCache(z)}},Vt.cache=function(z){return function(){return z.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(z,B,tt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ct=S({},z.props),xt=z.key;if(B!=null)for(pt in B.key!==void 0&&(xt=""+B.key),B)!Q.call(B,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&B.ref===void 0||(ct[pt]=B[pt]);var pt=arguments.length-2;if(pt===1)ct.children=tt;else if(1<pt){for(var gt=Array(pt),kt=0;kt<pt;kt++)gt[kt]=arguments[kt+2];ct.children=gt}return V(z.type,xt,ct)},Vt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Vt.createElement=function(z,B,tt){var ct,xt={},pt=null;if(B!=null)for(ct in B.key!==void 0&&(pt=""+B.key),B)Q.call(B,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(xt[ct]=B[ct]);var gt=arguments.length-2;if(gt===1)xt.children=tt;else if(1<gt){for(var kt=Array(gt),vt=0;vt<gt;vt++)kt[vt]=arguments[vt+2];xt.children=kt}if(z&&z.defaultProps)for(ct in gt=z.defaultProps,gt)xt[ct]===void 0&&(xt[ct]=gt[ct]);return V(z,pt,xt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(z){return{$$typeof:u,render:z}},Vt.isValidElement=P,Vt.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:at}},Vt.memo=function(z,B){return{$$typeof:g,type:z,compare:B===void 0?null:B}},Vt.startTransition=function(z){var B=F.T,tt={};F.T=tt;try{var ct=z(),xt=F.S;xt!==null&&xt(tt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(q,yt)}catch(pt){yt(pt)}finally{B!==null&&tt.types!==null&&(B.types=tt.types),F.T=B}},Vt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Vt.use=function(z){return F.H.use(z)},Vt.useActionState=function(z,B,tt){return F.H.useActionState(z,B,tt)},Vt.useCallback=function(z,B){return F.H.useCallback(z,B)},Vt.useContext=function(z){return F.H.useContext(z)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(z,B){return F.H.useDeferredValue(z,B)},Vt.useEffect=function(z,B){return F.H.useEffect(z,B)},Vt.useEffectEvent=function(z){return F.H.useEffectEvent(z)},Vt.useId=function(){return F.H.useId()},Vt.useImperativeHandle=function(z,B,tt){return F.H.useImperativeHandle(z,B,tt)},Vt.useInsertionEffect=function(z,B){return F.H.useInsertionEffect(z,B)},Vt.useLayoutEffect=function(z,B){return F.H.useLayoutEffect(z,B)},Vt.useMemo=function(z,B){return F.H.useMemo(z,B)},Vt.useOptimistic=function(z,B){return F.H.useOptimistic(z,B)},Vt.useReducer=function(z,B,tt){return F.H.useReducer(z,B,tt)},Vt.useRef=function(z){return F.H.useRef(z)},Vt.useState=function(z){return F.H.useState(z)},Vt.useSyncExternalStore=function(z,B,tt){return F.H.useSyncExternalStore(z,B,tt)},Vt.useTransition=function(){return F.H.useTransition()},Vt.version="19.2.0",Vt}var Cb;function eg(){return Cb||(Cb=1,Rf.exports=gN()),Rf.exports}var N=eg();const $n=D1(N);var Of={exports:{}},$l={},zf={exports:{}},Lf={};var Eb;function mN(){return Eb||(Eb=1,(function(n){function t(L,X){var at=L.length;L.push(X);t:for(;0<at;){var yt=at-1>>>1,bt=L[yt];if(0<r(bt,X))L[yt]=X,L[at]=bt,at=yt;else break t}}function e(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var X=L[0],at=L.pop();if(at!==X){L[0]=at;t:for(var yt=0,bt=L.length,z=bt>>>1;yt<z;){var B=2*(yt+1)-1,tt=L[B],ct=B+1,xt=L[ct];if(0>r(tt,at))ct<bt&&0>r(xt,tt)?(L[yt]=xt,L[ct]=at,yt=ct):(L[yt]=tt,L[B]=at,yt=B);else if(ct<bt&&0>r(xt,at))L[yt]=xt,L[ct]=at,yt=ct;else break t}}return X}function r(L,X){var at=L.sortIndex-X.sortIndex;return at!==0?at:L.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],g=[],m=1,b=null,y=3,v=!1,k=!1,S=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function U(L){for(var X=e(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=L)i(g),X.sortIndex=X.expirationTime,t(h,X);else break;X=e(g)}}function R(L){if(S=!1,U(L),!k)if(e(h)!==null)k=!0,q||(q=!0,Y());else{var X=e(g);X!==null&&ut(R,X.startTime-L)}}var q=!1,F=-1,Q=5,V=-1;function nt(){return _?!0:!(n.unstable_now()-V<Q)}function P(){if(_=!1,q){var L=n.unstable_now();V=L;var X=!0;try{t:{k=!1,S&&(S=!1,E(F),F=-1),v=!0;var at=y;try{e:{for(U(L),b=e(h);b!==null&&!(b.expirationTime>L&&nt());){var yt=b.callback;if(typeof yt=="function"){b.callback=null,y=b.priorityLevel;var bt=yt(b.expirationTime<=L);if(L=n.unstable_now(),typeof bt=="function"){b.callback=bt,U(L),X=!0;break e}b===e(h)&&i(h),U(L)}else i(h);b=e(h)}if(b!==null)X=!0;else{var z=e(g);z!==null&&ut(R,z.startTime-L),X=!1}}break t}finally{b=null,y=at,v=!1}X=void 0}}finally{X?Y():q=!1}}}var Y;if(typeof A=="function")Y=function(){A(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ot=K.port2;K.port1.onmessage=P,Y=function(){ot.postMessage(null)}}else Y=function(){M(P,0)};function ut(L,X){F=M(function(){L(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(L){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var at=y;y=X;try{return L()}finally{y=at}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var at=y;y=L;try{return X()}finally{y=at}},n.unstable_scheduleCallback=function(L,X,at){var yt=n.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?yt+at:yt):at=yt,L){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=at+bt,L={id:m++,callback:X,priorityLevel:L,startTime:at,expirationTime:bt,sortIndex:-1},at>yt?(L.sortIndex=at,t(g,L),e(h)===null&&L===e(g)&&(S?(E(F),F=-1):S=!0,ut(R,at-yt))):(L.sortIndex=bt,t(h,L),k||v||(k=!0,q||(q=!0,Y()))),L},n.unstable_shouldYield=nt,n.unstable_wrapCallback=function(L){var X=y;return function(){var at=y;y=X;try{return L.apply(this,arguments)}finally{y=at}}}})(Lf)),Lf}var Tb;function pN(){return Tb||(Tb=1,zf.exports=mN()),zf.exports}var Pf={exports:{}},En={};var Db;function xN(){if(Db)return En;Db=1;var n=eg();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(h,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:h,containerInfo:g,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(h,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(h,g,null,m)},En.flushSync=function(h){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=g,i.p=m,i.d.f()}},En.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},En.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},En.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var m=g.as,b=u(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,v=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:v}):m==="script"&&i.d.X(h,{crossOrigin:b,integrity:y,fetchPriority:v,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=u(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},En.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=u(m,g.crossOrigin);i.d.L(h,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(h,g){if(typeof h=="string")if(g){var m=u(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},En.requestFormReset=function(h){i.d.r(h)},En.unstable_batchedUpdates=function(h,g){return h(g)},En.useFormState=function(h,g,m){return c.H.useFormState(h,g,m)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.2.0",En}var Ab;function A1(){if(Ab)return Pf.exports;Ab=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pf.exports=xN(),Pf.exports}var Rb;function bN(){if(Rb)return $l;Rb=1;var n=pN(),t=eg(),e=A1();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var a=s,o=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(o=a.return),s=a.return;while(s)}return a.tag===3?o:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(l(s)!==s)throw Error(i(188))}function g(s){var a=s.alternate;if(!a){if(a=l(s),a===null)throw Error(i(188));return a!==s?null:s}for(var o=s,d=a;;){var p=o.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===o)return h(p),s;if(x===d)return h(p),a;x=x.sibling}throw Error(i(188))}if(o.return!==d.return)o=p,d=x;else{for(var w=!1,C=p.child;C;){if(C===o){w=!0,o=p,d=x;break}if(C===d){w=!0,d=p,o=x;break}C=C.sibling}if(!w){for(C=x.child;C;){if(C===o){w=!0,o=x,d=p;break}if(C===d){w=!0,d=x,o=p;break}C=C.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var K=Symbol.for("react.client.reference");function ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===K?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case M:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case q:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:ot(s.type)||"Memo";case Q:a=s._payload,s=s._init;try{return ot(s(a))}catch{}}return null}var ut=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},yt=[],bt=-1;function z(s){return{current:s}}function B(s){0>bt||(s.current=yt[bt],yt[bt]=null,bt--)}function tt(s,a){bt++,yt[bt]=s.current,s.current=a}var ct=z(null),xt=z(null),pt=z(null),gt=z(null);function kt(s,a){switch(tt(pt,a),tt(xt,s),tt(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?$x(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=$x(a),s=Gx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(ct),tt(ct,s)}function vt(){B(ct),B(xt),B(pt)}function mt(s){s.memoizedState!==null&&tt(gt,s);var a=ct.current,o=Gx(a,s.type);a!==o&&(tt(xt,s),tt(ct,o))}function Xt(s){xt.current===s&&(B(ct),B(xt)),gt.current===s&&(B(gt),Fl._currentValue=at)}var Yt,oe;function Lt(s){if(Yt===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Yt=a&&a[1]||"",oe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+s+oe}var ht=!1;function Ct(s,a){if(!s||ht)return"";ht=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(et){var Z=et}Reflect.construct(s,[],rt)}else{try{rt.call()}catch(et){Z=et}s.call(rt.prototype)}}else{try{throw Error()}catch(et){Z=et}(rt=s())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(et){if(et&&Z&&typeof et.stack=="string")return[et.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),w=x[0],C=x[1];if(w&&C){var O=w.split(`
`),G=C.split(`
`);for(p=d=0;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(d===O.length||p===G.length)for(d=O.length-1,p=G.length-1;1<=d&&0<=p&&O[d]!==G[p];)p--;for(;1<=d&&0<=p;d--,p--)if(O[d]!==G[p]){if(d!==1||p!==1)do if(d--,p--,0>p||O[d]!==G[p]){var it=`
`+O[d].replace(" at new "," at ");return s.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",s.displayName)),it}while(1<=d&&0<=p);break}}}finally{ht=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Lt(o):""}function ae(s,a){switch(s.tag){case 26:case 27:case 5:return Lt(s.type);case 16:return Lt("Lazy");case 13:return s.child!==a&&a!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Ct(s.type,!1);case 11:return Ct(s.type.render,!1);case 1:return Ct(s.type,!0);case 31:return Lt("Activity");default:return""}}function Pt(s){try{var a="",o=null;do a+=ae(s,o),o=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var je=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,$t=n.unstable_cancelCallback,hn=n.unstable_shouldYield,Jt=n.unstable_requestPaint,Ot=n.unstable_now,Ve=n.unstable_getCurrentPriorityLevel,Kn=n.unstable_ImmediatePriority,nn=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,dn=n.unstable_LowPriority,Sn=n.unstable_IdlePriority,Ue=n.log,Ae=n.unstable_setDisableYieldValue,di=null,sn=null;function kn(s){if(typeof Ue=="function"&&Ae(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(di,s)}catch{}}var Fe=Math.clz32?Math.clz32:xr,pr=Math.log,Ci=Math.LN2;function xr(s){return s>>>=0,s===0?32:31-(pr(s)/Ci|0)|0}var W=256,Ut=262144,wt=4194304;function zt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gt(s,a,o){var d=s.pendingLanes;if(d===0)return 0;var p=0,x=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var C=d&134217727;return C!==0?(d=C&~x,d!==0?p=zt(d):(w&=C,w!==0?p=zt(w):o||(o=C&~s,o!==0&&(p=zt(o))))):(C=d&~x,C!==0?p=zt(C):w!==0?p=zt(w):o||(o=d&~s,o!==0&&(p=zt(o)))),p===0?0:a!==0&&a!==p&&(a&x)===0&&(x=p&-p,o=a&-a,x>=o||x===32&&(o&4194048)!==0)?a:p}function he(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Le(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var s=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),s}function Bt(s){for(var a=[],o=0;31>o;o++)a.push(s);return a}function Rn(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function At(s,a,o,d,p,x){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,O=s.expirationTimes,G=s.hiddenUpdates;for(o=w&~o;0<o;){var it=31-Fe(o),rt=1<<it;C[it]=0,O[it]=-1;var Z=G[it];if(Z!==null)for(G[it]=null,it=0;it<Z.length;it++){var et=Z[it];et!==null&&(et.lane&=-536870913)}o&=~rt}d!==0&&ye(s,d,0),x!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=x&~(w&~a))}function ye(s,a,o){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Fe(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|o&261930}function Nn(s,a){var o=s.entangledLanes|=a;for(s=s.entanglements;o;){var d=31-Fe(o),p=1<<d;p&a|s[d]&a&&(s[d]|=a),o&=~p}}function On(s,a){var o=a&-a;return o=(o&42)!==0?1:_n(o),(o&(s.suspendedLanes|a))!==0?0:o}function _n(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function rn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function an(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:xb(s.type))}function Ht(s,a){var o=X.p;try{return X.p=s,a()}finally{X.p=o}}var ve=Math.random().toString(36).slice(2),le="__reactFiber$"+ve,ge="__reactProps$"+ve,Jn="__reactContainer$"+ve,ts="__reactEvents$"+ve,Cs="__reactListeners$"+ve,Ei="__reactHandles$"+ve,Ti="__reactResources$"+ve,jn="__reactMarker$"+ve;function Vi(s){delete s[le],delete s[ge],delete s[ts],delete s[Cs],delete s[Ei]}function Pe(s){var a=s[le];if(a)return a;for(var o=s.parentNode;o;){if(a=o[Jn]||o[le]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(s=eb(s);s!==null;){if(o=s[le])return o;s=eb(s)}return a}s=o,o=s.parentNode}return null}function Re(s){if(s=s[le]||s[Jn]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Ui(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Hn(s){var a=s[Ti];return a||(a=s[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function It(s){s[jn]=!0}var Di=new Set,ti={};function ln(s,a){Mn(s,a),Mn(s+"Capture",a)}function Mn(s,a){for(ti[s]=a,s=0;s<a.length;s++)Di.add(a[s])}var Oe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cn={},Es={};function dt(s){return je.call(Es,s)?!0:je.call(Cn,s)?!1:Oe.test(s)?Es[s]=!0:(Cn[s]=!0,!1)}function Mt(s,a,o){if(dt(a))if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+o)}}function _t(s,a,o){if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+o)}}function ne(s,a,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(a,o,""+d)}}function Ie(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function es(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fi(s,a,o){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,x=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,x.call(this,w)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ei(s){if(!s._valueTracker){var a=es(s)?"checked":"value";s._valueTracker=Fi(s,a,""+s[a])}}function Ts(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return s&&(d=es(s)?s.checked?"true":"false":s.value),s=d,s!==o?(a.setValue(s),!0):!1}function ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Mh=/[\n"\\]/g;function zn(s){return s.replace(Mh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function br(s,a,o,d,p,x,w,C){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ie(a)):s.value!==""+Ie(a)&&(s.value=""+Ie(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?sl(s,w,Ie(a)):o!=null?sl(s,w,Ie(o)):d!=null&&s.removeAttribute("value"),p==null&&x!=null&&(s.defaultChecked=!!x),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Ie(C):s.removeAttribute("name")}function il(s,a,o,d,p,x,w,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),a!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){ei(s);return}o=o!=null?""+Ie(o):"",a=a!=null?""+Ie(a):o,C||a===s.value||(s.value=a),s.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),ei(s)}function sl(s,a,o){a==="number"&&ni(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ds(s,a,o,d){if(s=s.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=a.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&d&&(s[o].defaultSelected=!0)}else{for(o=""+Ie(o),a=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function j(s,a,o){if(a!=null&&(a=""+Ie(a),a!==s.value&&(s.value=a),o==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=o!=null?""+Ie(o):""}function T(s,a,o,d){if(a==null){if(d!=null){if(o!=null)throw Error(i(92));if(ut(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),a=o}o=Ie(a),s.defaultValue=o,d=s.textContent,d===o&&d!==""&&d!==null&&(s.value=d),ei(s)}function D(s,a){if(a){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=a;return}}s.textContent=a}var J=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(s,a,o){var d=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,o):typeof o!="number"||o===0||J.has(a)?a==="float"?s.cssFloat=o:s[a]=(""+o).trim():s[a]=o+"px"}function St(s,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&o[p]!==d&&lt(s,p,d)}else for(var x in a)a.hasOwnProperty(x)&&lt(s,x,a[x])}function qt(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ge=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),on=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xe(s){return on.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Qe(){}var Ch=null;function Eh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Kr=null,Jr=null;function Wg(s){var a=Re(s);if(a&&(s=a.stateNode)){var o=s[ge]||null;t:switch(s=a.stateNode,a.type){case"input":if(br(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==s&&d.form===s.form){var p=d[ge]||null;if(!p)throw Error(i(90));br(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)d=o[a],d.form===s.form&&Ts(d)}break t;case"textarea":j(s,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Ds(s,!!o.multiple,a,!1)}}}var Th=!1;function $g(s,a,o){if(Th)return s(a,o);Th=!0;try{var d=s(a);return d}finally{if(Th=!1,(Kr!==null||Jr!==null)&&(zc(),Kr&&(a=Kr,s=Jr,Jr=Kr=null,Wg(a),s)))for(a=0;a<s.length;a++)Wg(s[a])}}function rl(s,a){var o=s.stateNode;if(o===null)return null;var d=o[ge]||null;if(d===null)return null;o=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=!1;if(ns)try{var al={};Object.defineProperty(al,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Dh=!1}var As=null,Ah=null,Xo=null;function Gg(){if(Xo)return Xo;var s,a=Ah,o=a.length,d,p="value"in As?As.value:As.textContent,x=p.length;for(s=0;s<o&&a[s]===p[s];s++);var w=o-s;for(d=1;d<=w&&a[o-d]===p[x-d];d++);return Xo=p.slice(s,1<d?1-d:void 0)}function Qo(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Zo(){return!0}function Xg(){return!1}function Vn(s){function a(o,d,p,x,w){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Zo:Xg,this.isPropagationStopped=Xg,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=Vn(yr),ll=b({},yr,{view:0,detail:0}),lS=Vn(ll),Rh,Oh,ol,Jo=b({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ol&&(ol&&s.type==="mousemove"?(Rh=s.screenX-ol.screenX,Oh=s.screenY-ol.screenY):Oh=Rh=0,ol=s),Rh)},movementY:function(s){return"movementY"in s?s.movementY:Oh}}),Qg=Vn(Jo),oS=b({},Jo,{dataTransfer:0}),cS=Vn(oS),uS=b({},ll,{relatedTarget:0}),zh=Vn(uS),hS=b({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=Vn(hS),fS=b({},yr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gS=Vn(fS),mS=b({},yr,{data:0}),Zg=Vn(mS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=bS[s])?!!a[s]:!1}function Lh(){return yS}var vS=b({},ll,{key:function(s){if(s.key){var a=pS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Qo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(s){return s.type==="keypress"?Qo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wS=Vn(vS),SS=b({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Vn(SS),kS=b({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),NS=Vn(kS),_S=b({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=Vn(_S),MS=b({},Jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=Vn(MS),ES=b({},yr,{newState:0,oldState:0}),TS=Vn(ES),DS=[9,13,27,32],Ph=ns&&"CompositionEvent"in window,cl=null;ns&&"documentMode"in document&&(cl=document.documentMode);var AS=ns&&"TextEvent"in window&&!cl,Jg=ns&&(!Ph||cl&&8<cl&&11>=cl),tm=" ",em=!1;function nm(s,a){switch(s){case"keyup":return DS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ta=!1;function RS(s,a){switch(s){case"compositionend":return im(a);case"keypress":return a.which!==32?null:(em=!0,tm);case"textInput":return s=a.data,s===tm&&em?null:s;default:return null}}function OS(s,a){if(ta)return s==="compositionend"||!Ph&&nm(s,a)?(s=Gg(),Xo=Ah=As=null,ta=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jg&&a.locale!=="ko"?null:a.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!zS[s.type]:a==="textarea"}function rm(s,a,o,d){Kr?Jr?Jr.push(d):Jr=[d]:Kr=d,a=Fc(a,"onChange"),0<a.length&&(o=new Ko("onChange","change",null,o,d),s.push({event:o,listeners:a}))}var ul=null,hl=null;function LS(s){Ux(s,0)}function tc(s){var a=Ui(s);if(Ts(a))return s}function am(s,a){if(s==="change")return a}var lm=!1;if(ns){var Bh;if(ns){var Hh="oninput"in document;if(!Hh){var om=document.createElement("div");om.setAttribute("oninput","return;"),Hh=typeof om.oninput=="function"}Bh=Hh}else Bh=!1;lm=Bh&&(!document.documentMode||9<document.documentMode)}function cm(){ul&&(ul.detachEvent("onpropertychange",um),hl=ul=null)}function um(s){if(s.propertyName==="value"&&tc(hl)){var a=[];rm(a,hl,s,Eh(s)),$g(LS,a)}}function PS(s,a,o){s==="focusin"?(cm(),ul=a,hl=o,ul.attachEvent("onpropertychange",um)):s==="focusout"&&cm()}function BS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tc(hl)}function HS(s,a){if(s==="click")return tc(a)}function VS(s,a){if(s==="input"||s==="change")return tc(a)}function US(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ii=typeof Object.is=="function"?Object.is:US;function dl(s,a){if(ii(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var o=Object.keys(s),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!je.call(a,p)||!ii(s[p],a[p]))return!1}return!0}function hm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dm(s,a){var o=hm(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=a&&d>=a)return{node:o,offset:a-s};s=d}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=hm(o)}}function fm(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?fm(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function gm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ni(s.document);a instanceof s.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)s=a.contentWindow;else break;a=ni(s.document)}return a}function Vh(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var FS=ns&&"documentMode"in document&&11>=document.documentMode,ea=null,Uh=null,fl=null,Fh=!1;function mm(s,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fh||ea==null||ea!==ni(d)||(d=ea,"selectionStart"in d&&Vh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fl&&dl(fl,d)||(fl=d,d=Fc(Uh,"onSelect"),0<d.length&&(a=new Ko("onSelect","select",null,a,o),s.push({event:a,listeners:d}),a.target=ea)))}function vr(s,a){var o={};return o[s.toLowerCase()]=a.toLowerCase(),o["Webkit"+s]="webkit"+a,o["Moz"+s]="moz"+a,o}var na={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},Yh={},pm={};ns&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function wr(s){if(Yh[s])return Yh[s];if(!na[s])return s;var a=na[s],o;for(o in a)if(a.hasOwnProperty(o)&&o in pm)return Yh[s]=a[o];return s}var xm=wr("animationend"),bm=wr("animationiteration"),ym=wr("animationstart"),YS=wr("transitionrun"),IS=wr("transitionstart"),qS=wr("transitioncancel"),vm=wr("transitionend"),wm=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Ai(s,a){wm.set(s,a),ln(a,[s])}var ec=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fi=[],ia=0,qh=0;function nc(){for(var s=ia,a=qh=ia=0;a<s;){var o=fi[a];fi[a++]=null;var d=fi[a];fi[a++]=null;var p=fi[a];fi[a++]=null;var x=fi[a];if(fi[a++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}x!==0&&Sm(o,p,x)}}function ic(s,a,o,d){fi[ia++]=s,fi[ia++]=a,fi[ia++]=o,fi[ia++]=d,qh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Wh(s,a,o,d){return ic(s,a,o,d),sc(s)}function Sr(s,a){return ic(s,null,null,a),sc(s)}function Sm(s,a,o){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o);for(var p=!1,x=s.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(p=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,p&&a!==null&&(p=31-Fe(o),s=x.hiddenUpdates,d=s[p],d===null?s[p]=[a]:d.push(a),a.lane=o|536870912),x):null}function sc(s){if(50<zl)throw zl=0,ef=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var sa={};function WS(s,a,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(s,a,o,d){return new WS(s,a,o,d)}function $h(s){return s=s.prototype,!(!s||!s.isReactComponent)}function is(s,a){var o=s.alternate;return o===null?(o=si(s.tag,a,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=a,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,a=s.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function km(s,a){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function rc(s,a,o,d,p,x){var w=0;if(d=s,typeof s=="function")$h(s)&&(w=1);else if(typeof s=="string")w=Zk(s,o,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case V:return s=si(31,o,a,p),s.elementType=V,s.lanes=x,s;case S:return kr(o.children,p,x,a);case _:w=8,p|=24;break;case M:return s=si(12,o,a,p|2),s.elementType=M,s.lanes=x,s;case R:return s=si(13,o,a,p),s.elementType=R,s.lanes=x,s;case q:return s=si(19,o,a,p),s.elementType=q,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:w=10;break t;case E:w=9;break t;case U:w=11;break t;case F:w=14;break t;case Q:w=16,d=null;break t}w=29,o=Error(i(130,s===null?"null":typeof s,"")),d=null}return a=si(w,o,a,p),a.elementType=s,a.type=d,a.lanes=x,a}function kr(s,a,o,d){return s=si(7,s,d,a),s.lanes=o,s}function Gh(s,a,o){return s=si(6,s,null,a),s.lanes=o,s}function Nm(s){var a=si(18,null,null,0);return a.stateNode=s,a}function Xh(s,a,o){return a=si(4,s.children!==null?s.children:[],s.key,a),a.lanes=o,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var _m=new WeakMap;function gi(s,a){if(typeof s=="object"&&s!==null){var o=_m.get(s);return o!==void 0?o:(a={value:s,source:a,stack:Pt(a)},_m.set(s,a),a)}return{value:s,source:a,stack:Pt(a)}}var ra=[],aa=0,ac=null,gl=0,mi=[],pi=0,Rs=null,Yi=1,Ii="";function ss(s,a){ra[aa++]=gl,ra[aa++]=ac,ac=s,gl=a}function jm(s,a,o){mi[pi++]=Yi,mi[pi++]=Ii,mi[pi++]=Rs,Rs=s;var d=Yi;s=Ii;var p=32-Fe(d)-1;d&=~(1<<p),o+=1;var x=32-Fe(a)+p;if(30<x){var w=p-p%5;x=(d&(1<<w)-1).toString(32),d>>=w,p-=w,Yi=1<<32-Fe(a)+p|o<<p|d,Ii=x+s}else Yi=1<<x|o<<p|d,Ii=s}function Qh(s){s.return!==null&&(ss(s,1),jm(s,1,0))}function Zh(s){for(;s===ac;)ac=ra[--aa],ra[aa]=null,gl=ra[--aa],ra[aa]=null;for(;s===Rs;)Rs=mi[--pi],mi[pi]=null,Ii=mi[--pi],mi[pi]=null,Yi=mi[--pi],mi[pi]=null}function Mm(s,a){mi[pi++]=Yi,mi[pi++]=Ii,mi[pi++]=Rs,Yi=a.id,Ii=a.overflow,Rs=s}var pn=null,Ce=null,ie=!1,Os=null,xi=!1,Kh=Error(i(519));function zs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(gi(a,s)),Kh}function Cm(s){var a=s.stateNode,o=s.type,d=s.memoizedProps;switch(a[le]=s,a[ge]=d,o){case"dialog":Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":case"embed":Zt("load",a);break;case"video":case"audio":for(o=0;o<Pl.length;o++)Zt(Pl[o],a);break;case"source":Zt("error",a);break;case"img":case"image":case"link":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"input":Zt("invalid",a),il(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Zt("invalid",a);break;case"textarea":Zt("invalid",a),T(a,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||d.suppressHydrationWarning===!0||qx(a.textContent,o)?(d.popover!=null&&(Zt("beforetoggle",a),Zt("toggle",a)),d.onScroll!=null&&Zt("scroll",a),d.onScrollEnd!=null&&Zt("scrollend",a),d.onClick!=null&&(a.onclick=Qe),a=!0):a=!1,a||zs(s,!0)}function Em(s){for(pn=s.return;pn;)switch(pn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:pn=pn.return}}function la(s){if(s!==pn)return!1;if(!ie)return Em(s),ie=!0,!1;var a=s.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||xf(s.type,s.memoizedProps)),o=!o),o&&Ce&&zs(s),Em(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ce=tb(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ce=tb(s)}else a===27?(a=Ce,Xs(s.type)?(s=Sf,Sf=null,Ce=s):Ce=a):Ce=pn?yi(s.stateNode.nextSibling):null;return!0}function Nr(){Ce=pn=null,ie=!1}function Jh(){var s=Os;return s!==null&&(In===null?In=s:In.push.apply(In,s),Os=null),s}function ml(s){Os===null?Os=[s]:Os.push(s)}var td=z(null),_r=null,rs=null;function Ls(s,a,o){tt(td,a._currentValue),a._currentValue=o}function as(s){s._currentValue=td.current,B(td)}function ed(s,a,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===o)break;s=s.return}}function nd(s,a,o,d){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var x=p.dependencies;if(x!==null){var w=p.child;x=x.firstContext;t:for(;x!==null;){var C=x;x=p;for(var O=0;O<a.length;O++)if(C.context===a[O]){x.lanes|=o,C=x.alternate,C!==null&&(C.lanes|=o),ed(x.return,o,s),d||(w=null);break t}x=C.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,x=w.alternate,x!==null&&(x.lanes|=o),ed(w,o,s),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===s){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function oa(s,a,o,d){s=null;for(var p=a,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var C=p.type;ii(p.pendingProps.value,w.value)||(s!==null?s.push(C):s=[C])}}else if(p===gt.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Fl):s=[Fl])}p=p.return}s!==null&&nd(a,s,o,d),a.flags|=262144}function lc(s){for(s=s.firstContext;s!==null;){if(!ii(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jr(s){_r=s,rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return Tm(_r,s)}function oc(s,a){return _r===null&&jr(s),Tm(s,a)}function Tm(s,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},rs===null){if(s===null)throw Error(i(308));rs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else rs=rs.next=a;return o}var $S=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(o,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(o){return o()})}},GS=n.unstable_scheduleCallback,XS=n.unstable_NormalPriority,Ze={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new $S,data:new Map,refCount:0}}function pl(s){s.refCount--,s.refCount===0&&GS(XS,function(){s.controller.abort()})}var xl=null,sd=0,ca=0,ua=null;function QS(s,a){if(xl===null){var o=xl=[];sd=0,ca=of(),ua={status:"pending",value:void 0,then:function(d){o.push(d)}}}return sd++,a.then(Dm,Dm),a}function Dm(){if(--sd===0&&xl!==null){ua!==null&&(ua.status="fulfilled");var s=xl;xl=null,ca=0,ua=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function ZS(s,a){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var Am=L.S;L.S=function(s,a){mx=Ot(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&QS(s,a),Am!==null&&Am(s,a)};var Mr=z(null);function rd(){var s=Mr.current;return s!==null?s:Ne.pooledCache}function cc(s,a){a===null?tt(Mr,Mr.current):tt(Mr,a.pool)}function Rm(){var s=rd();return s===null?null:{parent:Ze._currentValue,pool:s}}var ha=Error(i(460)),ad=Error(i(474)),uc=Error(i(542)),hc={then:function(){}};function Om(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zm(s,a,o){switch(o=s[o],o===void 0?s.push(a):o!==a&&(a.then(Qe,Qe),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Pm(s),s;default:if(typeof a.status=="string")a.then(Qe,Qe);else{if(s=Ne,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Pm(s),s}throw Er=a,ha}}function Cr(s){try{var a=s._init;return a(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Er=o,ha):o}}var Er=null;function Lm(){if(Er===null)throw Error(i(459));var s=Er;return Er=null,s}function Pm(s){if(s===ha||s===uc)throw Error(i(483))}var da=null,bl=0;function dc(s){var a=bl;return bl+=1,da===null&&(da=[]),zm(da,s,a)}function yl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function fc(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Bm(s){function a(I,H){if(s){var $=I.deletions;$===null?(I.deletions=[H],I.flags|=16):$.push(H)}}function o(I,H){if(!s)return null;for(;H!==null;)a(I,H),H=H.sibling;return null}function d(I){for(var H=new Map;I!==null;)I.key!==null?H.set(I.key,I):H.set(I.index,I),I=I.sibling;return H}function p(I,H){return I=is(I,H),I.index=0,I.sibling=null,I}function x(I,H,$){return I.index=$,s?($=I.alternate,$!==null?($=$.index,$<H?(I.flags|=67108866,H):$):(I.flags|=67108866,H)):(I.flags|=1048576,H)}function w(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function C(I,H,$,st){return H===null||H.tag!==6?(H=Gh($,I.mode,st),H.return=I,H):(H=p(H,$),H.return=I,H)}function O(I,H,$,st){var Et=$.type;return Et===S?it(I,H,$.props.children,st,$.key):H!==null&&(H.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Q&&Cr(Et)===H.type)?(H=p(H,$.props),yl(H,$),H.return=I,H):(H=rc($.type,$.key,$.props,null,I.mode,st),yl(H,$),H.return=I,H)}function G(I,H,$,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==$.containerInfo||H.stateNode.implementation!==$.implementation?(H=Xh($,I.mode,st),H.return=I,H):(H=p(H,$.children||[]),H.return=I,H)}function it(I,H,$,st,Et){return H===null||H.tag!==7?(H=kr($,I.mode,st,Et),H.return=I,H):(H=p(H,$),H.return=I,H)}function rt(I,H,$){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Gh(""+H,I.mode,$),H.return=I,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return $=rc(H.type,H.key,H.props,null,I.mode,$),yl($,H),$.return=I,$;case k:return H=Xh(H,I.mode,$),H.return=I,H;case Q:return H=Cr(H),rt(I,H,$)}if(ut(H)||Y(H))return H=kr(H,I.mode,$,null),H.return=I,H;if(typeof H.then=="function")return rt(I,dc(H),$);if(H.$$typeof===A)return rt(I,oc(I,H),$);fc(I,H)}return null}function Z(I,H,$,st){var Et=H!==null?H.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Et!==null?null:C(I,H,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return $.key===Et?O(I,H,$,st):null;case k:return $.key===Et?G(I,H,$,st):null;case Q:return $=Cr($),Z(I,H,$,st)}if(ut($)||Y($))return Et!==null?null:it(I,H,$,st,null);if(typeof $.then=="function")return Z(I,H,dc($),st);if($.$$typeof===A)return Z(I,H,oc(I,$),st);fc(I,$)}return null}function et(I,H,$,st,Et){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return I=I.get($)||null,C(H,I,""+st,Et);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case v:return I=I.get(st.key===null?$:st.key)||null,O(H,I,st,Et);case k:return I=I.get(st.key===null?$:st.key)||null,G(H,I,st,Et);case Q:return st=Cr(st),et(I,H,$,st,Et)}if(ut(st)||Y(st))return I=I.get($)||null,it(H,I,st,Et,null);if(typeof st.then=="function")return et(I,H,$,dc(st),Et);if(st.$$typeof===A)return et(I,H,$,oc(H,st),Et);fc(H,st)}return null}function Nt(I,H,$,st){for(var Et=null,ce=null,jt=H,Wt=H=0,ee=null;jt!==null&&Wt<$.length;Wt++){jt.index>Wt?(ee=jt,jt=null):ee=jt.sibling;var ue=Z(I,jt,$[Wt],st);if(ue===null){jt===null&&(jt=ee);break}s&&jt&&ue.alternate===null&&a(I,jt),H=x(ue,H,Wt),ce===null?Et=ue:ce.sibling=ue,ce=ue,jt=ee}if(Wt===$.length)return o(I,jt),ie&&ss(I,Wt),Et;if(jt===null){for(;Wt<$.length;Wt++)jt=rt(I,$[Wt],st),jt!==null&&(H=x(jt,H,Wt),ce===null?Et=jt:ce.sibling=jt,ce=jt);return ie&&ss(I,Wt),Et}for(jt=d(jt);Wt<$.length;Wt++)ee=et(jt,I,Wt,$[Wt],st),ee!==null&&(s&&ee.alternate!==null&&jt.delete(ee.key===null?Wt:ee.key),H=x(ee,H,Wt),ce===null?Et=ee:ce.sibling=ee,ce=ee);return s&&jt.forEach(function(tr){return a(I,tr)}),ie&&ss(I,Wt),Et}function Dt(I,H,$,st){if($==null)throw Error(i(151));for(var Et=null,ce=null,jt=H,Wt=H=0,ee=null,ue=$.next();jt!==null&&!ue.done;Wt++,ue=$.next()){jt.index>Wt?(ee=jt,jt=null):ee=jt.sibling;var tr=Z(I,jt,ue.value,st);if(tr===null){jt===null&&(jt=ee);break}s&&jt&&tr.alternate===null&&a(I,jt),H=x(tr,H,Wt),ce===null?Et=tr:ce.sibling=tr,ce=tr,jt=ee}if(ue.done)return o(I,jt),ie&&ss(I,Wt),Et;if(jt===null){for(;!ue.done;Wt++,ue=$.next())ue=rt(I,ue.value,st),ue!==null&&(H=x(ue,H,Wt),ce===null?Et=ue:ce.sibling=ue,ce=ue);return ie&&ss(I,Wt),Et}for(jt=d(jt);!ue.done;Wt++,ue=$.next())ue=et(jt,I,Wt,ue.value,st),ue!==null&&(s&&ue.alternate!==null&&jt.delete(ue.key===null?Wt:ue.key),H=x(ue,H,Wt),ce===null?Et=ue:ce.sibling=ue,ce=ue);return s&&jt.forEach(function(oN){return a(I,oN)}),ie&&ss(I,Wt),Et}function ke(I,H,$,st){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case v:t:{for(var Et=$.key;H!==null;){if(H.key===Et){if(Et=$.type,Et===S){if(H.tag===7){o(I,H.sibling),st=p(H,$.props.children),st.return=I,I=st;break t}}else if(H.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Q&&Cr(Et)===H.type){o(I,H.sibling),st=p(H,$.props),yl(st,$),st.return=I,I=st;break t}o(I,H);break}else a(I,H);H=H.sibling}$.type===S?(st=kr($.props.children,I.mode,st,$.key),st.return=I,I=st):(st=rc($.type,$.key,$.props,null,I.mode,st),yl(st,$),st.return=I,I=st)}return w(I);case k:t:{for(Et=$.key;H!==null;){if(H.key===Et)if(H.tag===4&&H.stateNode.containerInfo===$.containerInfo&&H.stateNode.implementation===$.implementation){o(I,H.sibling),st=p(H,$.children||[]),st.return=I,I=st;break t}else{o(I,H);break}else a(I,H);H=H.sibling}st=Xh($,I.mode,st),st.return=I,I=st}return w(I);case Q:return $=Cr($),ke(I,H,$,st)}if(ut($))return Nt(I,H,$,st);if(Y($)){if(Et=Y($),typeof Et!="function")throw Error(i(150));return $=Et.call($),Dt(I,H,$,st)}if(typeof $.then=="function")return ke(I,H,dc($),st);if($.$$typeof===A)return ke(I,H,oc(I,$),st);fc(I,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,H!==null&&H.tag===6?(o(I,H.sibling),st=p(H,$),st.return=I,I=st):(o(I,H),st=Gh($,I.mode,st),st.return=I,I=st),w(I)):o(I,H)}return function(I,H,$,st){try{bl=0;var Et=ke(I,H,$,st);return da=null,Et}catch(jt){if(jt===ha||jt===uc)throw jt;var ce=si(29,jt,null,I.mode);return ce.lanes=st,ce.return=I,ce}finally{}}}var Tr=Bm(!0),Hm=Bm(!1),Ps=!1;function ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Hs(s,a,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(de&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=sc(s),Sm(s,null,o),a}return ic(s,d,a,o),sc(s)}function vl(s,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,Nn(s,o)}}function cd(s,a){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?p=x=w:x=x.next=w,o=o.next}while(o!==null);x===null?p=x=a:x=x.next=a}else p=x=a;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=a:s.next=a,o.lastBaseUpdate=a}var ud=!1;function wl(){if(ud){var s=ua;if(s!==null)throw s}}function Sl(s,a,o,d){ud=!1;var p=s.updateQueue;Ps=!1;var x=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var O=C,G=O.next;O.next=null,w===null?x=G:w.next=G,w=O;var it=s.alternate;it!==null&&(it=it.updateQueue,C=it.lastBaseUpdate,C!==w&&(C===null?it.firstBaseUpdate=G:C.next=G,it.lastBaseUpdate=O))}if(x!==null){var rt=p.baseState;w=0,it=G=O=null,C=x;do{var Z=C.lane&-536870913,et=Z!==C.lane;if(et?(te&Z)===Z:(d&Z)===Z){Z!==0&&Z===ca&&(ud=!0),it!==null&&(it=it.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Nt=s,Dt=C;Z=a;var ke=o;switch(Dt.tag){case 1:if(Nt=Dt.payload,typeof Nt=="function"){rt=Nt.call(ke,rt,Z);break t}rt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Dt.payload,Z=typeof Nt=="function"?Nt.call(ke,rt,Z):Nt,Z==null)break t;rt=b({},rt,Z);break t;case 2:Ps=!0}}Z=C.callback,Z!==null&&(s.flags|=64,et&&(s.flags|=8192),et=p.callbacks,et===null?p.callbacks=[Z]:et.push(Z))}else et={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},it===null?(G=it=et,O=rt):it=it.next=et,w|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;et=C,C=et.next,et.next=null,p.lastBaseUpdate=et,p.shared.pending=null}}while(!0);it===null&&(O=rt),p.baseState=O,p.firstBaseUpdate=G,p.lastBaseUpdate=it,x===null&&(p.shared.lanes=0),Is|=w,s.lanes=w,s.memoizedState=rt}}function Vm(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Um(s,a){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Vm(o[s],a)}var fa=z(null),gc=z(0);function Fm(s,a){s=ms,tt(gc,s),tt(fa,a),ms=s|a.baseLanes}function hd(){tt(gc,ms),tt(fa,fa.current)}function dd(){ms=gc.current,B(fa),B(gc)}var ri=z(null),bi=null;function Vs(s){var a=s.alternate;tt(qe,qe.current&1),tt(ri,s),bi===null&&(a===null||fa.current!==null||a.memoizedState!==null)&&(bi=s)}function fd(s){tt(qe,qe.current),tt(ri,s),bi===null&&(bi=s)}function Ym(s){s.tag===22?(tt(qe,qe.current),tt(ri,s),bi===null&&(bi=s)):Us()}function Us(){tt(qe,qe.current),tt(ri,ri.current)}function ai(s){B(ri),bi===s&&(bi=null),B(qe)}var qe=z(0);function mc(s){for(var a=s;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||vf(o)||wf(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ls=0,Ft=null,we=null,Ke=null,pc=!1,ga=!1,Dr=!1,xc=0,kl=0,ma=null,KS=0;function Be(){throw Error(i(321))}function gd(s,a){if(a===null)return!1;for(var o=0;o<a.length&&o<s.length;o++)if(!ii(s[o],a[o]))return!1;return!0}function md(s,a,o,d,p,x){return ls=x,Ft=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=s===null||s.memoizedState===null?jp:Td,Dr=!1,x=o(d,p),Dr=!1,ga&&(x=qm(a,o,d,p)),Im(s),x}function Im(s){L.H=jl;var a=we!==null&&we.next!==null;if(ls=0,Ke=we=Ft=null,pc=!1,kl=0,ma=null,a)throw Error(i(300));s===null||Je||(s=s.dependencies,s!==null&&lc(s)&&(Je=!0))}function qm(s,a,o,d){Ft=s;var p=0;do{if(ga&&(ma=null),kl=0,ga=!1,25<=p)throw Error(i(301));if(p+=1,Ke=we=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=Mp,x=a(o,d)}while(ga);return x}function JS(){var s=L.H,a=s.useState()[0];return a=typeof a.then=="function"?Nl(a):a,s=s.useState()[0],(we!==null?we.memoizedState:null)!==s&&(Ft.flags|=1024),a}function pd(){var s=xc!==0;return xc=0,s}function xd(s,a,o){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~o}function bd(s){if(pc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}pc=!1}ls=0,Ke=we=Ft=null,ga=!1,kl=xc=0,ma=null}function Ln(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ft.memoizedState=Ke=s:Ke=Ke.next=s,Ke}function We(){if(we===null){var s=Ft.alternate;s=s!==null?s.memoizedState:null}else s=we.next;var a=Ke===null?Ft.memoizedState:Ke.next;if(a!==null)Ke=a,we=s;else{if(s===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));we=s,s={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ke===null?Ft.memoizedState=Ke=s:Ke=Ke.next=s}return Ke}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(s){var a=kl;return kl+=1,ma===null&&(ma=[]),s=zm(ma,s,a),a=Ft,(Ke===null?a.memoizedState:Ke.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?jp:Td),s}function yc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nl(s);if(s.$$typeof===A)return xn(s)}throw Error(i(438,String(s)))}function yd(s){var a=null,o=Ft.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var d=Ft.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=bc(),Ft.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(s),d=0;d<s;d++)o[d]=nt;return a.index++,o}function os(s,a){return typeof a=="function"?a(s):a}function vc(s){var a=We();return vd(a,we,s)}function vd(s,a,o){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var p=s.baseQueue,x=d.pending;if(x!==null){if(p!==null){var w=p.next;p.next=x.next,x.next=w}a.baseQueue=p=x,d.pending=null}if(x=s.baseState,p===null)s.memoizedState=x;else{a=p.next;var C=w=null,O=null,G=a,it=!1;do{var rt=G.lane&-536870913;if(rt!==G.lane?(te&rt)===rt:(ls&rt)===rt){var Z=G.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),rt===ca&&(it=!0);else if((ls&Z)===Z){G=G.next,Z===ca&&(it=!0);continue}else rt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(C=O=rt,w=x):O=O.next=rt,Ft.lanes|=Z,Is|=Z;rt=G.action,Dr&&o(x,rt),x=G.hasEagerState?G.eagerState:o(x,rt)}else Z={lane:rt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(C=O=Z,w=x):O=O.next=Z,Ft.lanes|=rt,Is|=rt;G=G.next}while(G!==null&&G!==a);if(O===null?w=x:O.next=C,!ii(x,s.memoizedState)&&(Je=!0,it&&(o=ua,o!==null)))throw o;s.memoizedState=x,s.baseState=w,s.baseQueue=O,d.lastRenderedState=x}return p===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function wd(s){var a=We(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=o.dispatch,p=o.pending,x=a.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do x=s(x,w.action),w=w.next;while(w!==p);ii(x,a.memoizedState)||(Je=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,d]}function Wm(s,a,o){var d=Ft,p=We(),x=ie;if(x){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!ii((we||p).memoizedState,o);if(w&&(p.memoizedState=o,Je=!0),p=p.queue,Nd(Xm.bind(null,d,p,s),[s]),p.getSnapshot!==a||w||Ke!==null&&Ke.memoizedState.tag&1){if(d.flags|=2048,pa(9,{destroy:void 0},Gm.bind(null,d,p,o,a),null),Ne===null)throw Error(i(349));x||(ls&127)!==0||$m(d,a,o)}return o}function $m(s,a,o){s.flags|=16384,s={getSnapshot:a,value:o},a=Ft.updateQueue,a===null?(a=bc(),Ft.updateQueue=a,a.stores=[s]):(o=a.stores,o===null?a.stores=[s]:o.push(s))}function Gm(s,a,o,d){a.value=o,a.getSnapshot=d,Qm(a)&&Zm(s)}function Xm(s,a,o){return o(function(){Qm(a)&&Zm(s)})}function Qm(s){var a=s.getSnapshot;s=s.value;try{var o=a();return!ii(s,o)}catch{return!0}}function Zm(s){var a=Sr(s,2);a!==null&&qn(a,s,2)}function Sd(s){var a=Ln();if(typeof s=="function"){var o=s;if(s=o(),Dr){kn(!0);try{o()}finally{kn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},a}function Km(s,a,o,d){return s.baseState=o,vd(s,we,typeof d=="function"?d:os)}function tk(s,a,o,d,p){if(kc(s))throw Error(i(485));if(s=a.action,s!==null){var x={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){x.listeners.push(w)}};L.T!==null?o(!0):x.isTransition=!1,d(x),o=a.pending,o===null?(x.next=a.pending=x,Jm(a,x)):(x.next=o.next,a.pending=o.next=x)}}function Jm(s,a){var o=a.action,d=a.payload,p=s.state;if(a.isTransition){var x=L.T,w={};L.T=w;try{var C=o(p,d),O=L.S;O!==null&&O(w,C),tp(s,a,C)}catch(G){kd(s,a,G)}finally{x!==null&&w.types!==null&&(x.types=w.types),L.T=x}}else try{x=o(p,d),tp(s,a,x)}catch(G){kd(s,a,G)}}function tp(s,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){ep(s,a,d)},function(d){return kd(s,a,d)}):ep(s,a,o)}function ep(s,a,o){a.status="fulfilled",a.value=o,np(a),s.state=o,a=s.pending,a!==null&&(o=a.next,o===a?s.pending=null:(o=o.next,a.next=o,Jm(s,o)))}function kd(s,a,o){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=o,np(a),a=a.next;while(a!==d)}s.action=null}function np(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ip(s,a){return a}function sp(s,a){if(ie){var o=Ne.formState;if(o!==null){t:{var d=Ft;if(ie){if(Ce){e:{for(var p=Ce,x=xi;p.nodeType!==8;){if(!x){p=null;break e}if(p=yi(p.nextSibling),p===null){p=null;break e}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){Ce=yi(p.nextSibling),d=p.data==="F!";break t}}zs(d)}d=!1}d&&(a=o[0])}}return o=Ln(),o.memoizedState=o.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:a},o.queue=d,o=kp.bind(null,Ft,d),d.dispatch=o,d=Sd(!1),x=Ed.bind(null,Ft,!1,d.queue),d=Ln(),p={state:a,dispatch:null,action:s,pending:null},d.queue=p,o=tk.bind(null,Ft,p,x,o),p.dispatch=o,d.memoizedState=s,[a,o,!1]}function rp(s){var a=We();return ap(a,we,s)}function ap(s,a,o){if(a=vd(s,a,ip)[0],s=vc(os)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Nl(a)}catch(w){throw w===ha?uc:w}else d=a;a=We();var p=a.queue,x=p.dispatch;return o!==a.memoizedState&&(Ft.flags|=2048,pa(9,{destroy:void 0},ek.bind(null,p,o),null)),[d,x,s]}function ek(s,a){s.action=a}function lp(s){var a=We(),o=we;if(o!==null)return ap(a,o,s);We(),a=a.memoizedState,o=We();var d=o.queue.dispatch;return o.memoizedState=s,[a,d,!1]}function pa(s,a,o,d){return s={tag:s,create:o,deps:d,inst:a,next:null},a=Ft.updateQueue,a===null&&(a=bc(),Ft.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,a.lastEffect=s),s}function op(){return We().memoizedState}function wc(s,a,o,d){var p=Ln();Ft.flags|=s,p.memoizedState=pa(1|a,{destroy:void 0},o,d===void 0?null:d)}function Sc(s,a,o,d){var p=We();d=d===void 0?null:d;var x=p.memoizedState.inst;we!==null&&d!==null&&gd(d,we.memoizedState.deps)?p.memoizedState=pa(a,x,o,d):(Ft.flags|=s,p.memoizedState=pa(1|a,x,o,d))}function cp(s,a){wc(8390656,8,s,a)}function Nd(s,a){Sc(2048,8,s,a)}function nk(s){Ft.flags|=4;var a=Ft.updateQueue;if(a===null)a=bc(),Ft.updateQueue=a,a.events=[s];else{var o=a.events;o===null?a.events=[s]:o.push(s)}}function up(s){var a=We().memoizedState;return nk({ref:a,nextImpl:s}),function(){if((de&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function hp(s,a){return Sc(4,2,s,a)}function dp(s,a){return Sc(4,4,s,a)}function fp(s,a){if(typeof a=="function"){s=s();var o=a(s);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function gp(s,a,o){o=o!=null?o.concat([s]):null,Sc(4,4,fp.bind(null,a,s),o)}function _d(){}function mp(s,a){var o=We();a=a===void 0?null:a;var d=o.memoizedState;return a!==null&&gd(a,d[1])?d[0]:(o.memoizedState=[s,a],s)}function pp(s,a){var o=We();a=a===void 0?null:a;var d=o.memoizedState;if(a!==null&&gd(a,d[1]))return d[0];if(d=s(),Dr){kn(!0);try{s()}finally{kn(!1)}}return o.memoizedState=[d,a],d}function jd(s,a,o){return o===void 0||(ls&1073741824)!==0&&(te&261930)===0?s.memoizedState=a:(s.memoizedState=o,s=xx(),Ft.lanes|=s,Is|=s,o)}function xp(s,a,o,d){return ii(o,a)?o:fa.current!==null?(s=jd(s,o,d),ii(s,a)||(Je=!0),s):(ls&42)===0||(ls&1073741824)!==0&&(te&261930)===0?(Je=!0,s.memoizedState=o):(s=xx(),Ft.lanes|=s,Is|=s,a)}function bp(s,a,o,d,p){var x=X.p;X.p=x!==0&&8>x?x:8;var w=L.T,C={};L.T=C,Ed(s,!1,a,o);try{var O=p(),G=L.S;if(G!==null&&G(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var it=ZS(O,d);_l(s,a,it,ci(s))}else _l(s,a,d,ci(s))}catch(rt){_l(s,a,{then:function(){},status:"rejected",reason:rt},ci())}finally{X.p=x,w!==null&&C.types!==null&&(w.types=C.types),L.T=w}}function ik(){}function Md(s,a,o,d){if(s.tag!==5)throw Error(i(476));var p=yp(s).queue;bp(s,p,a,at,o===null?ik:function(){return vp(s),o(d)})}function yp(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:at},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:o},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function vp(s){var a=yp(s);a.next===null&&(a=s.alternate.memoizedState),_l(s,a.next.queue,{},ci())}function Cd(){return xn(Fl)}function wp(){return We().memoizedState}function Sp(){return We().memoizedState}function sk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var o=ci();s=Bs(o);var d=Hs(a,s,o);d!==null&&(qn(d,a,o),vl(d,a,o)),a={cache:id()},s.payload=a;return}a=a.return}}function rk(s,a,o){var d=ci();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(s)?Np(a,o):(o=Wh(s,a,o,d),o!==null&&(qn(o,s,d),_p(o,a,d)))}function kp(s,a,o){var d=ci();_l(s,a,o,d)}function _l(s,a,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(s))Np(a,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var w=a.lastRenderedState,C=x(w,o);if(p.hasEagerState=!0,p.eagerState=C,ii(C,w))return ic(s,a,p,0),Ne===null&&nc(),!1}catch{}finally{}if(o=Wh(s,a,p,d),o!==null)return qn(o,s,d),_p(o,a,d),!0}return!1}function Ed(s,a,o,d){if(d={lane:2,revertLane:of(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},kc(s)){if(a)throw Error(i(479))}else a=Wh(s,o,d,2),a!==null&&qn(a,s,2)}function kc(s){var a=s.alternate;return s===Ft||a!==null&&a===Ft}function Np(s,a){ga=pc=!0;var o=s.pending;o===null?a.next=a:(a.next=o.next,o.next=a),s.pending=a}function _p(s,a,o){if((o&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,Nn(s,o)}}var jl={readContext:xn,use:yc,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};jl.useEffectEvent=Be;var jp={readContext:xn,use:yc,useCallback:function(s,a){return Ln().memoizedState=[s,a===void 0?null:a],s},useContext:xn,useEffect:cp,useImperativeHandle:function(s,a,o){o=o!=null?o.concat([s]):null,wc(4194308,4,fp.bind(null,a,s),o)},useLayoutEffect:function(s,a){return wc(4194308,4,s,a)},useInsertionEffect:function(s,a){wc(4,2,s,a)},useMemo:function(s,a){var o=Ln();a=a===void 0?null:a;var d=s();if(Dr){kn(!0);try{s()}finally{kn(!1)}}return o.memoizedState=[d,a],d},useReducer:function(s,a,o){var d=Ln();if(o!==void 0){var p=o(a);if(Dr){kn(!0);try{o(a)}finally{kn(!1)}}}else p=a;return d.memoizedState=d.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},d.queue=s,s=s.dispatch=rk.bind(null,Ft,s),[d.memoizedState,s]},useRef:function(s){var a=Ln();return s={current:s},a.memoizedState=s},useState:function(s){s=Sd(s);var a=s.queue,o=kp.bind(null,Ft,a);return a.dispatch=o,[s.memoizedState,o]},useDebugValue:_d,useDeferredValue:function(s,a){var o=Ln();return jd(o,s,a)},useTransition:function(){var s=Sd(!1);return s=bp.bind(null,Ft,s.queue,!0,!1),Ln().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,o){var d=Ft,p=Ln();if(ie){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Ne===null)throw Error(i(349));(te&127)!==0||$m(d,a,o)}p.memoizedState=o;var x={value:o,getSnapshot:a};return p.queue=x,cp(Xm.bind(null,d,x,s),[s]),d.flags|=2048,pa(9,{destroy:void 0},Gm.bind(null,d,x,o,a),null),o},useId:function(){var s=Ln(),a=Ne.identifierPrefix;if(ie){var o=Ii,d=Yi;o=(d&~(1<<32-Fe(d)-1)).toString(32)+o,a="_"+a+"R_"+o,o=xc++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=KS++,a="_"+a+"r_"+o.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Cd,useFormState:sp,useActionState:sp,useOptimistic:function(s){var a=Ln();a.memoizedState=a.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Ed.bind(null,Ft,!0,o),o.dispatch=a,[s,a]},useMemoCache:yd,useCacheRefresh:function(){return Ln().memoizedState=sk.bind(null,Ft)},useEffectEvent:function(s){var a=Ln(),o={impl:s};return a.memoizedState=o,function(){if((de&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Td={readContext:xn,use:yc,useCallback:mp,useContext:xn,useEffect:Nd,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:pp,useReducer:vc,useRef:op,useState:function(){return vc(os)},useDebugValue:_d,useDeferredValue:function(s,a){var o=We();return xp(o,we.memoizedState,s,a)},useTransition:function(){var s=vc(os)[0],a=We().memoizedState;return[typeof s=="boolean"?s:Nl(s),a]},useSyncExternalStore:Wm,useId:wp,useHostTransitionStatus:Cd,useFormState:rp,useActionState:rp,useOptimistic:function(s,a){var o=We();return Km(o,we,s,a)},useMemoCache:yd,useCacheRefresh:Sp};Td.useEffectEvent=up;var Mp={readContext:xn,use:yc,useCallback:mp,useContext:xn,useEffect:Nd,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:dp,useMemo:pp,useReducer:wd,useRef:op,useState:function(){return wd(os)},useDebugValue:_d,useDeferredValue:function(s,a){var o=We();return we===null?jd(o,s,a):xp(o,we.memoizedState,s,a)},useTransition:function(){var s=wd(os)[0],a=We().memoizedState;return[typeof s=="boolean"?s:Nl(s),a]},useSyncExternalStore:Wm,useId:wp,useHostTransitionStatus:Cd,useFormState:lp,useActionState:lp,useOptimistic:function(s,a){var o=We();return we!==null?Km(o,we,s,a):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:yd,useCacheRefresh:Sp};Mp.useEffectEvent=up;function Dd(s,a,o,d){a=s.memoizedState,o=o(d,a),o=o==null?a:b({},a,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Ad={enqueueSetState:function(s,a,o){s=s._reactInternals;var d=ci(),p=Bs(d);p.payload=a,o!=null&&(p.callback=o),a=Hs(s,p,d),a!==null&&(qn(a,s,d),vl(a,s,d))},enqueueReplaceState:function(s,a,o){s=s._reactInternals;var d=ci(),p=Bs(d);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=Hs(s,p,d),a!==null&&(qn(a,s,d),vl(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var o=ci(),d=Bs(o);d.tag=2,a!=null&&(d.callback=a),a=Hs(s,d,o),a!==null&&(qn(a,s,o),vl(a,s,o))}};function Cp(s,a,o,d,p,x,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,w):a.prototype&&a.prototype.isPureReactComponent?!dl(o,d)||!dl(p,x):!0}function Ep(s,a,o,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==s&&Ad.enqueueReplaceState(a,a.state,null)}function Ar(s,a){var o=a;if("ref"in a){o={};for(var d in a)d!=="ref"&&(o[d]=a[d])}if(s=s.defaultProps){o===a&&(o=b({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Tp(s){ec(s)}function Dp(s){console.error(s)}function Ap(s){ec(s)}function Nc(s,a){try{var o=s.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Rp(s,a,o){try{var d=s.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rd(s,a,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Nc(s,a)},o}function Op(s){return s=Bs(s),s.tag=3,s}function zp(s,a,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var x=d.value;s.payload=function(){return p(x)},s.callback=function(){Rp(a,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Rp(a,o,d),typeof p!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function ak(s,a,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=o.alternate,a!==null&&oa(a,o,p,!0),o=ri.current,o!==null){switch(o.tag){case 31:case 13:return bi===null?Lc():o.alternate===null&&He===0&&(He=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===hc?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([d]):a.add(d),rf(s,d,p)),!1;case 22:return o.flags|=65536,d===hc?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([d]):o.add(d)),rf(s,d,p)),!1}throw Error(i(435,o.tag))}return rf(s,d,p),Lc(),!1}if(ie)return a=ri.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==Kh&&(s=Error(i(422),{cause:d}),ml(gi(s,o)))):(d!==Kh&&(a=Error(i(423),{cause:d}),ml(gi(a,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,d=gi(d,o),p=Rd(s.stateNode,d,p),cd(s,p),He!==4&&(He=2)),!1;var x=Error(i(520),{cause:d});if(x=gi(x,o),Ol===null?Ol=[x]:Ol.push(x),He!==4&&(He=2),a===null)return!0;d=gi(d,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Rd(o.stateNode,d,s),cd(o,s),!1;case 1:if(a=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qs===null||!qs.has(x))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Op(p),zp(p,s,o,d),cd(o,p),!1}o=o.return}while(o!==null);return!1}var Od=Error(i(461)),Je=!1;function bn(s,a,o,d){a.child=s===null?Hm(a,null,o,d):Tr(a,s.child,o,d)}function Lp(s,a,o,d,p){o=o.render;var x=a.ref;if("ref"in d){var w={};for(var C in d)C!=="ref"&&(w[C]=d[C])}else w=d;return jr(a),d=md(s,a,o,w,x,p),C=pd(),s!==null&&!Je?(xd(s,a,p),cs(s,a,p)):(ie&&C&&Qh(a),a.flags|=1,bn(s,a,d,p),a.child)}function Pp(s,a,o,d,p){if(s===null){var x=o.type;return typeof x=="function"&&!$h(x)&&x.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=x,Bp(s,a,x,d,p)):(s=rc(o.type,null,d,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,!Fd(s,p)){var w=x.memoizedProps;if(o=o.compare,o=o!==null?o:dl,o(w,d)&&s.ref===a.ref)return cs(s,a,p)}return a.flags|=1,s=is(x,d),s.ref=a.ref,s.return=a,a.child=s}function Bp(s,a,o,d,p){if(s!==null){var x=s.memoizedProps;if(dl(x,d)&&s.ref===a.ref)if(Je=!1,a.pendingProps=d=x,Fd(s,p))(s.flags&131072)!==0&&(Je=!0);else return a.lanes=s.lanes,cs(s,a,p)}return zd(s,a,o,d,p)}function Hp(s,a,o,d){var p=d.children,x=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~x}else d=0,a.child=null;return Vp(s,a,x,o,d)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&cc(a,x!==null?x.cachePool:null),x!==null?Fm(a,x):hd(),Ym(a);else return d=a.lanes=536870912,Vp(s,a,x!==null?x.baseLanes|o:o,o,d)}else x!==null?(cc(a,x.cachePool),Fm(a,x),Us(),a.memoizedState=null):(s!==null&&cc(a,null),hd(),Us());return bn(s,a,p,o),a.child}function Ml(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Vp(s,a,o,d,p){var x=rd();return x=x===null?null:{parent:Ze._currentValue,pool:x},a.memoizedState={baseLanes:o,cachePool:x},s!==null&&cc(a,null),hd(),Ym(a),s!==null&&oa(s,a,d,!0),a.childLanes=p,null}function _c(s,a){return a=Mc({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Up(s,a,o){return Tr(a,s.child,null,o),s=_c(a,a.pendingProps),s.flags|=2,ai(a),a.memoizedState=null,s}function lk(s,a,o){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(ie){if(d.mode==="hidden")return s=_c(a,d),a.lanes=536870912,Ml(null,s);if(fd(a),(s=Ce)?(s=Jx(s,xi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Yi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},o=Nm(s),o.return=a,a.child=o,pn=a,Ce=null)):s=null,s===null)throw zs(a);return a.lanes=536870912,null}return _c(a,d)}var x=s.memoizedState;if(x!==null){var w=x.dehydrated;if(fd(a),p)if(a.flags&256)a.flags&=-257,a=Up(s,a,o);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Je||oa(s,a,o,!1),p=(o&s.childLanes)!==0,Je||p){if(d=Ne,d!==null&&(w=On(d,o),w!==0&&w!==x.retryLane))throw x.retryLane=w,Sr(s,w),qn(d,s,w),Od;Lc(),a=Up(s,a,o)}else s=x.treeContext,Ce=yi(w.nextSibling),pn=a,ie=!0,Os=null,xi=!1,s!==null&&Mm(a,s),a=_c(a,d),a.flags|=4096;return a}return s=is(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function jc(s,a){var o=a.ref;if(o===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(a.flags|=4194816)}}function zd(s,a,o,d,p){return jr(a),o=md(s,a,o,d,void 0,p),d=pd(),s!==null&&!Je?(xd(s,a,p),cs(s,a,p)):(ie&&d&&Qh(a),a.flags|=1,bn(s,a,o,p),a.child)}function Fp(s,a,o,d,p,x){return jr(a),a.updateQueue=null,o=qm(a,d,o,p),Im(s),d=pd(),s!==null&&!Je?(xd(s,a,x),cs(s,a,x)):(ie&&d&&Qh(a),a.flags|=1,bn(s,a,o,x),a.child)}function Yp(s,a,o,d,p){if(jr(a),a.stateNode===null){var x=sa,w=o.contextType;typeof w=="object"&&w!==null&&(x=xn(w)),x=new o(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Ad,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},ld(a),w=o.contextType,x.context=typeof w=="object"&&w!==null?xn(w):sa,x.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Dd(a,o,w,d),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(w=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),w!==x.state&&Ad.enqueueReplaceState(x,x.state,null),Sl(a,d,x,p),wl(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){x=a.stateNode;var C=a.memoizedProps,O=Ar(o,C);x.props=O;var G=x.context,it=o.contextType;w=sa,typeof it=="object"&&it!==null&&(w=xn(it));var rt=o.getDerivedStateFromProps;it=typeof rt=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,it||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||G!==w)&&Ep(a,x,d,w),Ps=!1;var Z=a.memoizedState;x.state=Z,Sl(a,d,x,p),wl(),G=a.memoizedState,C||Z!==G||Ps?(typeof rt=="function"&&(Dd(a,o,rt,d),G=a.memoizedState),(O=Ps||Cp(a,o,O,d,Z,G,w))?(it||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=G),x.props=d,x.state=G,x.context=w,d=O):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,od(s,a),w=a.memoizedProps,it=Ar(o,w),x.props=it,rt=a.pendingProps,Z=x.context,G=o.contextType,O=sa,typeof G=="object"&&G!==null&&(O=xn(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==rt||Z!==O)&&Ep(a,x,d,O),Ps=!1,Z=a.memoizedState,x.state=Z,Sl(a,d,x,p),wl();var et=a.memoizedState;w!==rt||Z!==et||Ps||s!==null&&s.dependencies!==null&&lc(s.dependencies)?(typeof C=="function"&&(Dd(a,o,C,d),et=a.memoizedState),(it=Ps||Cp(a,o,it,d,Z,et,O)||s!==null&&s.dependencies!==null&&lc(s.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,et,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,et,O)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=et),x.props=d,x.state=et,x.context=O,d=it):(typeof x.componentDidUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),d=!1)}return x=d,jc(s,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,s!==null&&d?(a.child=Tr(a,s.child,null,p),a.child=Tr(a,null,o,p)):bn(s,a,o,p),a.memoizedState=x.state,s=a.child):s=cs(s,a,p),s}function Ip(s,a,o,d){return Nr(),a.flags|=256,bn(s,a,o,d),a.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(s){return{baseLanes:s,cachePool:Rm()}}function Bd(s,a,o){return s=s!==null?s.childLanes&~o:0,a&&(s|=oi),s}function qp(s,a,o){var d=a.pendingProps,p=!1,x=(a.flags&128)!==0,w;if((w=x)||(w=s!==null&&s.memoizedState===null?!1:(qe.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(ie){if(p?Vs(a):Us(),(s=Ce)?(s=Jx(s,xi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Rs!==null?{id:Yi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},o=Nm(s),o.return=a,a.child=o,pn=a,Ce=null)):s=null,s===null)throw zs(a);return wf(s)?a.lanes=32:a.lanes=536870912,null}var C=d.children;return d=d.fallback,p?(Us(),p=a.mode,C=Mc({mode:"hidden",children:C},p),d=kr(d,p,o,null),C.return=a,d.return=a,C.sibling=d,a.child=C,d=a.child,d.memoizedState=Pd(o),d.childLanes=Bd(s,w,o),a.memoizedState=Ld,Ml(null,d)):(Vs(a),Hd(a,C))}var O=s.memoizedState;if(O!==null&&(C=O.dehydrated,C!==null)){if(x)a.flags&256?(Vs(a),a.flags&=-257,a=Vd(s,a,o)):a.memoizedState!==null?(Us(),a.child=s.child,a.flags|=128,a=null):(Us(),C=d.fallback,p=a.mode,d=Mc({mode:"visible",children:d.children},p),C=kr(C,p,o,null),C.flags|=2,d.return=a,C.return=a,d.sibling=C,a.child=d,Tr(a,s.child,null,o),d=a.child,d.memoizedState=Pd(o),d.childLanes=Bd(s,w,o),a.memoizedState=Ld,a=Ml(null,d));else if(Vs(a),wf(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var G=w.dgst;w=G,d=Error(i(419)),d.stack="",d.digest=w,ml({value:d,source:null,stack:null}),a=Vd(s,a,o)}else if(Je||oa(s,a,o,!1),w=(o&s.childLanes)!==0,Je||w){if(w=Ne,w!==null&&(d=On(w,o),d!==0&&d!==O.retryLane))throw O.retryLane=d,Sr(s,d),qn(w,s,d),Od;vf(C)||Lc(),a=Vd(s,a,o)}else vf(C)?(a.flags|=192,a.child=s.child,a=null):(s=O.treeContext,Ce=yi(C.nextSibling),pn=a,ie=!0,Os=null,xi=!1,s!==null&&Mm(a,s),a=Hd(a,d.children),a.flags|=4096);return a}return p?(Us(),C=d.fallback,p=a.mode,O=s.child,G=O.sibling,d=is(O,{mode:"hidden",children:d.children}),d.subtreeFlags=O.subtreeFlags&65011712,G!==null?C=is(G,C):(C=kr(C,p,o,null),C.flags|=2),C.return=a,d.return=a,d.sibling=C,a.child=d,Ml(null,d),d=a.child,C=s.child.memoizedState,C===null?C=Pd(o):(p=C.cachePool,p!==null?(O=Ze._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=Rm(),C={baseLanes:C.baseLanes|o,cachePool:p}),d.memoizedState=C,d.childLanes=Bd(s,w,o),a.memoizedState=Ld,Ml(s.child,d)):(Vs(a),o=s.child,s=o.sibling,o=is(o,{mode:"visible",children:d.children}),o.return=a,o.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=o,a.memoizedState=null,o)}function Hd(s,a){return a=Mc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Mc(s,a){return s=si(22,s,null,a),s.lanes=0,s}function Vd(s,a,o){return Tr(a,s.child,null,o),s=Hd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Wp(s,a,o){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),ed(s.return,a,o)}function Ud(s,a,o,d,p,x){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=p,w.treeForkCount=x)}function $p(s,a,o){var d=a.pendingProps,p=d.revealOrder,x=d.tail;d=d.children;var w=qe.current,C=(w&2)!==0;if(C?(w=w&1|2,a.flags|=128):w&=1,tt(qe,w),bn(s,a,d,o),d=ie?gl:0,!C&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wp(s,o,a);else if(s.tag===19)Wp(s,o,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=a.child,p=null;o!==null;)s=o.alternate,s!==null&&mc(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),Ud(a,!1,p,o,x,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&mc(s)===null){a.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Ud(a,!0,o,null,x,d);break;case"together":Ud(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function cs(s,a,o){if(s!==null&&(a.dependencies=s.dependencies),Is|=a.lanes,(o&a.childLanes)===0)if(s!==null){if(oa(s,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,o=is(s,s.pendingProps),a.child=o,o.return=a;s.sibling!==null;)s=s.sibling,o=o.sibling=is(s,s.pendingProps),o.return=a;o.sibling=null}return a.child}function Fd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&lc(s)))}function ok(s,a,o){switch(a.tag){case 3:kt(a,a.stateNode.containerInfo),Ls(a,Ze,s.memoizedState.cache),Nr();break;case 27:case 5:mt(a);break;case 4:kt(a,a.stateNode.containerInfo);break;case 10:Ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,fd(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Vs(a),a.flags|=128,null):(o&a.child.childLanes)!==0?qp(s,a,o):(Vs(a),s=cs(s,a,o),s!==null?s.sibling:null);Vs(a);break;case 19:var p=(s.flags&128)!==0;if(d=(o&a.childLanes)!==0,d||(oa(s,a,o,!1),d=(o&a.childLanes)!==0),p){if(d)return $p(s,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),tt(qe,qe.current),d)break;return null;case 22:return a.lanes=0,Hp(s,a,o,a.pendingProps);case 24:Ls(a,Ze,s.memoizedState.cache)}return cs(s,a,o)}function Gp(s,a,o){if(s!==null)if(s.memoizedProps!==a.pendingProps)Je=!0;else{if(!Fd(s,o)&&(a.flags&128)===0)return Je=!1,ok(s,a,o);Je=(s.flags&131072)!==0}else Je=!1,ie&&(a.flags&1048576)!==0&&jm(a,gl,a.index);switch(a.lanes=0,a.tag){case 16:t:{var d=a.pendingProps;if(s=Cr(a.elementType),a.type=s,typeof s=="function")$h(s)?(d=Ar(s,d),a.tag=1,a=Yp(null,a,s,d,o)):(a.tag=0,a=zd(null,a,s,d,o));else{if(s!=null){var p=s.$$typeof;if(p===U){a.tag=11,a=Lp(null,a,s,d,o);break t}else if(p===F){a.tag=14,a=Pp(null,a,s,d,o);break t}}throw a=ot(s)||s,Error(i(306,a,""))}}return a;case 0:return zd(s,a,a.type,a.pendingProps,o);case 1:return d=a.type,p=Ar(d,a.pendingProps),Yp(s,a,d,p,o);case 3:t:{if(kt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));d=a.pendingProps;var x=a.memoizedState;p=x.element,od(s,a),Sl(a,d,null,o);var w=a.memoizedState;if(d=w.cache,Ls(a,Ze,d),d!==x.cache&&nd(a,[Ze],o,!0),wl(),d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Ip(s,a,d,o);break t}else if(d!==p){p=gi(Error(i(424)),a),ml(p),a=Ip(s,a,d,o);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ce=yi(s.firstChild),pn=a,ie=!0,Os=null,xi=!0,o=Hm(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nr(),d===p){a=cs(s,a,o);break t}bn(s,a,d,o)}a=a.child}return a;case 26:return jc(s,a),s===null?(o=rb(a.type,null,a.pendingProps,null))?a.memoizedState=o:ie||(o=a.type,s=a.pendingProps,d=Yc(pt.current).createElement(o),d[le]=a,d[ge]=s,yn(d,o,s),It(d),a.stateNode=d):a.memoizedState=rb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return mt(a),s===null&&ie&&(d=a.stateNode=nb(a.type,a.pendingProps,pt.current),pn=a,xi=!0,p=Ce,Xs(a.type)?(Sf=p,Ce=yi(d.firstChild)):Ce=p),bn(s,a,a.pendingProps.children,o),jc(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ie&&((p=d=Ce)&&(d=Bk(d,a.type,a.pendingProps,xi),d!==null?(a.stateNode=d,pn=a,Ce=yi(d.firstChild),xi=!1,p=!0):p=!1),p||zs(a)),mt(a),p=a.type,x=a.pendingProps,w=s!==null?s.memoizedProps:null,d=x.children,xf(p,x)?d=null:w!==null&&xf(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=md(s,a,JS,null,null,o),Fl._currentValue=p),jc(s,a),bn(s,a,d,o),a.child;case 6:return s===null&&ie&&((s=o=Ce)&&(o=Hk(o,a.pendingProps,xi),o!==null?(a.stateNode=o,pn=a,Ce=null,s=!0):s=!1),s||zs(a)),null;case 13:return qp(s,a,o);case 4:return kt(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=Tr(a,null,d,o):bn(s,a,d,o),a.child;case 11:return Lp(s,a,a.type,a.pendingProps,o);case 7:return bn(s,a,a.pendingProps,o),a.child;case 8:return bn(s,a,a.pendingProps.children,o),a.child;case 12:return bn(s,a,a.pendingProps.children,o),a.child;case 10:return d=a.pendingProps,Ls(a,a.type,d.value),bn(s,a,d.children,o),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,jr(a),p=xn(p),d=d(p),a.flags|=1,bn(s,a,d,o),a.child;case 14:return Pp(s,a,a.type,a.pendingProps,o);case 15:return Bp(s,a,a.type,a.pendingProps,o);case 19:return $p(s,a,o);case 31:return lk(s,a,o);case 22:return Hp(s,a,o,a.pendingProps);case 24:return jr(a),d=xn(Ze),s===null?(p=rd(),p===null&&(p=Ne,x=id(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=o),p=x),a.memoizedState={parent:d,cache:p},ld(a),Ls(a,Ze,p)):((s.lanes&o)!==0&&(od(s,a),Sl(a,null,null,o),wl()),p=s.memoizedState,x=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ls(a,Ze,d)):(d=x.cache,Ls(a,Ze,d),d!==p.cache&&nd(a,[Ze],o,!0))),bn(s,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function us(s){s.flags|=4}function Yd(s,a,o,d,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(wx())s.flags|=8192;else throw Er=hc,ad}else s.flags&=-16777217}function Xp(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ub(a))if(wx())s.flags|=8192;else throw Er=hc,ad}function Cc(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ye():536870912,s.lanes|=a,va|=a)}function Cl(s,a){if(!ie)switch(s.tailMode){case"hidden":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ee(s){var a=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(a)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=o,a}function ck(s,a,o){var d=a.pendingProps;switch(Zh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(a),null;case 1:return Ee(a),null;case 3:return o=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),as(Ze),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(la(a)?us(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jh())),Ee(a),null;case 26:var p=a.type,x=a.memoizedState;return s===null?(us(a),x!==null?(Ee(a),Xp(a,x)):(Ee(a),Yd(a,p,null,d,o))):x?x!==s.memoizedState?(us(a),Ee(a),Xp(a,x)):(Ee(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&us(a),Ee(a),Yd(a,p,s,d,o)),null;case 27:if(Xt(a),o=pt.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}s=ct.current,la(a)?Cm(a):(s=nb(p,d,o),a.stateNode=s,us(a))}return Ee(a),null;case 5:if(Xt(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}if(x=ct.current,la(a))Cm(a);else{var w=Yc(pt.current);switch(x){case 1:x=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:x=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":x=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":x=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":x=w.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}x[le]=a,x[ge]=d;t:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)x.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break t;for(;w.sibling===null;){if(w.return===null||w.return===a)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=x;t:switch(yn(x,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}d&&us(a)}}return Ee(a),Yd(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,o),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&us(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(s=pt.current,la(a)){if(s=a.stateNode,o=a.memoizedProps,d=null,p=pn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}s[le]=a,s=!!(s.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||qx(s.nodeValue,o)),s||zs(a,!0)}else s=Yc(s).createTextNode(d),s[le]=a,a.stateNode=s}return Ee(a),null;case 31:if(o=a.memoizedState,s===null||s.memoizedState!==null){if(d=la(a),o!==null){if(s===null){if(!d)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[le]=a}else Nr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ee(a),s=!1}else o=Jh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return a.flags&256?(ai(a),a):(ai(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ee(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=la(a),d!==null&&d.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[le]=a}else Nr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ee(a),p=!1}else p=Jh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ai(a),a):(ai(a),null)}return ai(a),(a.flags&128)!==0?(a.lanes=o,a):(o=d!==null,s=s!==null&&s.memoizedState!==null,o&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==p&&(d.flags|=2048)),o!==s&&o&&(a.child.flags|=8192),Cc(a,a.updateQueue),Ee(a),null);case 4:return vt(),s===null&&df(a.stateNode.containerInfo),Ee(a),null;case 10:return as(a.type),Ee(a),null;case 19:if(B(qe),d=a.memoizedState,d===null)return Ee(a),null;if(p=(a.flags&128)!==0,x=d.rendering,x===null)if(p)Cl(d,!1);else{if(He!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=mc(s),x!==null){for(a.flags|=128,Cl(d,!1),s=x.updateQueue,a.updateQueue=s,Cc(a,s),a.subtreeFlags=0,s=o,o=a.child;o!==null;)km(o,s),o=o.sibling;return tt(qe,qe.current&1|2),ie&&ss(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Ot()>Rc&&(a.flags|=128,p=!0,Cl(d,!1),a.lanes=4194304)}else{if(!p)if(s=mc(x),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,Cc(a,s),Cl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ie)return Ee(a),null}else 2*Ot()-d.renderingStartTime>Rc&&o!==536870912&&(a.flags|=128,p=!0,Cl(d,!1),a.lanes=4194304);d.isBackwards?(x.sibling=a.child,a.child=x):(s=d.last,s!==null?s.sibling=x:a.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ot(),s.sibling=null,o=qe.current,tt(qe,p?o&1|2:o&1),ie&&ss(a,d.treeForkCount),s):(Ee(a),null);case 22:case 23:return ai(a),dd(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(o&536870912)!==0&&(a.flags&128)===0&&(Ee(a),a.subtreeFlags&6&&(a.flags|=8192)):Ee(a),o=a.updateQueue,o!==null&&Cc(a,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048),s!==null&&B(Mr),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),as(Ze),Ee(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function uk(s,a){switch(Zh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return as(Ze),vt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Xt(a),null;case 31:if(a.memoizedState!==null){if(ai(a),a.alternate===null)throw Error(i(340));Nr()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(ai(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Nr()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return B(qe),null;case 4:return vt(),null;case 10:return as(a.type),null;case 22:case 23:return ai(a),dd(),s!==null&&B(Mr),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return as(Ze),null;case 25:return null;default:return null}}function Qp(s,a){switch(Zh(a),a.tag){case 3:as(Ze),vt();break;case 26:case 27:case 5:Xt(a);break;case 4:vt();break;case 31:a.memoizedState!==null&&ai(a);break;case 13:ai(a);break;case 19:B(qe);break;case 10:as(a.type);break;case 22:case 23:ai(a),dd(),s!==null&&B(Mr);break;case 24:as(Ze)}}function El(s,a){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&s)===s){d=void 0;var x=o.create,w=o.inst;d=x(),w.destroy=d}o=o.next}while(o!==p)}}catch(C){pe(a,a.return,C)}}function Fs(s,a,o){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&s)===s){var w=d.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,p=a;var O=o,G=C;try{G()}catch(it){pe(p,O,it)}}}d=d.next}while(d!==x)}}catch(it){pe(a,a.return,it)}}function Zp(s){var a=s.updateQueue;if(a!==null){var o=s.stateNode;try{Um(a,o)}catch(d){pe(s,s.return,d)}}}function Kp(s,a,o){o.props=Ar(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(d){pe(s,a,d)}}function Tl(s,a){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof o=="function"?s.refCleanup=o(d):o.current=d}}catch(p){pe(s,a,p)}}function qi(s,a){var o=s.ref,d=s.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){pe(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){pe(s,a,p)}else o.current=null}function Jp(s){var a=s.type,o=s.memoizedProps,d=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break t;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){pe(s,s.return,p)}}function Id(s,a,o){try{var d=s.stateNode;Ak(d,s.type,o,a),d[ge]=a}catch(p){pe(s,s.return,p)}}function tx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xs(s.type)||s.tag===4}function qd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||tx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wd(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(s),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Qe));else if(d!==4&&(d===27&&Xs(s.type)&&(o=s.stateNode,a=null),s=s.child,s!==null))for(Wd(s,a,o),s=s.sibling;s!==null;)Wd(s,a,o),s=s.sibling}function Ec(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?o.insertBefore(s,a):o.appendChild(s);else if(d!==4&&(d===27&&Xs(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ec(s,a,o),s=s.sibling;s!==null;)Ec(s,a,o),s=s.sibling}function ex(s){var a=s.stateNode,o=s.memoizedProps;try{for(var d=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);yn(a,d,o),a[le]=s,a[ge]=o}catch(x){pe(s,s.return,x)}}var hs=!1,tn=!1,$d=!1,nx=typeof WeakSet=="function"?WeakSet:Set,fn=null;function hk(s,a){if(s=s.containerInfo,mf=Qc,s=gm(s),Vh(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break t}var w=0,C=-1,O=-1,G=0,it=0,rt=s,Z=null;e:for(;;){for(var et;rt!==o||p!==0&&rt.nodeType!==3||(C=w+p),rt!==x||d!==0&&rt.nodeType!==3||(O=w+d),rt.nodeType===3&&(w+=rt.nodeValue.length),(et=rt.firstChild)!==null;)Z=rt,rt=et;for(;;){if(rt===s)break e;if(Z===o&&++G===p&&(C=w),Z===x&&++it===d&&(O=w),(et=rt.nextSibling)!==null)break;rt=Z,Z=rt.parentNode}rt=et}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(pf={focusedElem:s,selectionRange:o},Qc=!1,fn=a;fn!==null;)if(a=fn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,fn=s;else for(;fn!==null;){switch(a=fn,x=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,o=a,p=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var Nt=Ar(o.type,p);s=d.getSnapshotBeforeUpdate(Nt,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(Dt){pe(o,o.return,Dt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,o=s.nodeType,o===9)yf(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":yf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,fn=s;break}fn=a.return}}function ix(s,a,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:fs(s,o),d&4&&El(5,o);break;case 1:if(fs(s,o),d&4)if(s=o.stateNode,a===null)try{s.componentDidMount()}catch(w){pe(o,o.return,w)}else{var p=Ar(o.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){pe(o,o.return,w)}}d&64&&Zp(o),d&512&&Tl(o,o.return);break;case 3:if(fs(s,o),d&64&&(s=o.updateQueue,s!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Um(s,a)}catch(w){pe(o,o.return,w)}}break;case 27:a===null&&d&4&&ex(o);case 26:case 5:fs(s,o),a===null&&d&4&&Jp(o),d&512&&Tl(o,o.return);break;case 12:fs(s,o);break;case 31:fs(s,o),d&4&&ax(s,o);break;case 13:fs(s,o),d&4&&lx(s,o),d&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=vk.bind(null,o),Vk(s,o))));break;case 22:if(d=o.memoizedState!==null||hs,!d){a=a!==null&&a.memoizedState!==null||tn,p=hs;var x=tn;hs=d,(tn=a)&&!x?gs(s,o,(o.subtreeFlags&8772)!==0):fs(s,o),hs=p,tn=x}break;case 30:break;default:fs(s,o)}}function sx(s){var a=s.alternate;a!==null&&(s.alternate=null,sx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Vi(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Te=null,Un=!1;function ds(s,a,o){for(o=o.child;o!==null;)rx(s,a,o),o=o.sibling}function rx(s,a,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 26:tn||qi(o,a),ds(s,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||qi(o,a);var d=Te,p=Un;Xs(o.type)&&(Te=o.stateNode,Un=!1),ds(s,a,o),Hl(o.stateNode),Te=d,Un=p;break;case 5:tn||qi(o,a);case 6:if(d=Te,p=Un,Te=null,ds(s,a,o),Te=d,Un=p,Te!==null)if(Un)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(o.stateNode)}catch(x){pe(o,a,x)}else try{Te.removeChild(o.stateNode)}catch(x){pe(o,a,x)}break;case 18:Te!==null&&(Un?(s=Te,Zx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ca(s)):Zx(Te,o.stateNode));break;case 4:d=Te,p=Un,Te=o.stateNode.containerInfo,Un=!0,ds(s,a,o),Te=d,Un=p;break;case 0:case 11:case 14:case 15:Fs(2,o,a),tn||Fs(4,o,a),ds(s,a,o);break;case 1:tn||(qi(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Kp(o,a,d)),ds(s,a,o);break;case 21:ds(s,a,o);break;case 22:tn=(d=tn)||o.memoizedState!==null,ds(s,a,o),tn=d;break;default:ds(s,a,o)}}function ax(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ca(s)}catch(o){pe(a,a.return,o)}}}function lx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ca(s)}catch(o){pe(a,a.return,o)}}function dk(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new nx),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new nx),a;default:throw Error(i(435,s.tag))}}function Tc(s,a){var o=dk(s);a.forEach(function(d){if(!o.has(d)){o.add(d);var p=wk.bind(null,s,d);d.then(p,p)}})}function Fn(s,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],x=s,w=a,C=w;t:for(;C!==null;){switch(C.tag){case 27:if(Xs(C.type)){Te=C.stateNode,Un=!1;break t}break;case 5:Te=C.stateNode,Un=!1;break t;case 3:case 4:Te=C.stateNode.containerInfo,Un=!0;break t}C=C.return}if(Te===null)throw Error(i(160));rx(x,w,p),Te=null,Un=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ox(a,s),a=a.sibling}var Ri=null;function ox(s,a){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fn(a,s),Yn(s),d&4&&(Fs(3,s,s.return),El(3,s),Fs(5,s,s.return));break;case 1:Fn(a,s),Yn(s),d&512&&(tn||o===null||qi(o,o.return)),d&64&&hs&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=Ri;if(Fn(a,s),Yn(s),d&512&&(tn||o===null||qi(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=s.memoizedState,o===null)if(d===null)if(s.stateNode===null){t:{d=s.type,o=s.memoizedProps,p=p.ownerDocument||p;e:switch(d){case"title":x=p.getElementsByTagName("title")[0],(!x||x[jn]||x[le]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(d),p.head.insertBefore(x,p.querySelector("head > title"))),yn(x,d,o),x[le]=s,It(x),d=x;break t;case"link":var w=ob("link","href",p).get(d+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(x=w[C],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}x=p.createElement(d),yn(x,d,o),p.head.appendChild(x);break;case"meta":if(w=ob("meta","content",p).get(d+(o.content||""))){for(C=0;C<w.length;C++)if(x=w[C],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}x=p.createElement(d),yn(x,d,o),p.head.appendChild(x);break;default:throw Error(i(468,d))}x[le]=s,It(x),d=x}s.stateNode=d}else cb(p,s.type,s.stateNode);else s.stateNode=lb(p,d,s.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?cb(p,s.type,s.stateNode):lb(p,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Id(s,s.memoizedProps,o.memoizedProps)}break;case 27:Fn(a,s),Yn(s),d&512&&(tn||o===null||qi(o,o.return)),o!==null&&d&4&&Id(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Fn(a,s),Yn(s),d&512&&(tn||o===null||qi(o,o.return)),s.flags&32){p=s.stateNode;try{D(p,"")}catch(Nt){pe(s,s.return,Nt)}}d&4&&s.stateNode!=null&&(p=s.memoizedProps,Id(s,p,o!==null?o.memoizedProps:p)),d&1024&&($d=!0);break;case 6:if(Fn(a,s),Yn(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,o=s.stateNode;try{o.nodeValue=d}catch(Nt){pe(s,s.return,Nt)}}break;case 3:if(Wc=null,p=Ri,Ri=Ic(a.containerInfo),Fn(a,s),Ri=p,Yn(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ca(a.containerInfo)}catch(Nt){pe(s,s.return,Nt)}$d&&($d=!1,cx(s));break;case 4:d=Ri,Ri=Ic(s.stateNode.containerInfo),Fn(a,s),Yn(s),Ri=d;break;case 12:Fn(a,s),Yn(s);break;case 31:Fn(a,s),Yn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 13:Fn(a,s),Yn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ac=Ot()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 22:p=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=hs,it=tn;if(hs=G||p,tn=it||O,Fn(a,s),tn=it,hs=G,Yn(s),d&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||O||hs||tn||Rr(s)),o=null,a=s;;){if(a.tag===5||a.tag===26){if(o===null){O=o=a;try{if(x=O.stateNode,p)w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=O.stateNode;var rt=O.memoizedProps.style,Z=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Nt){pe(O,O.return,Nt)}}}else if(a.tag===6){if(o===null){O=a;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(Nt){pe(O,O.return,Nt)}}}else if(a.tag===18){if(o===null){O=a;try{var et=O.stateNode;p?Kx(et,!0):Kx(O.stateNode,!1)}catch(Nt){pe(O,O.return,Nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Tc(s,o))));break;case 19:Fn(a,s),Yn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Tc(s,d)));break;case 30:break;case 21:break;default:Fn(a,s),Yn(s)}}function Yn(s){var a=s.flags;if(a&2){try{for(var o,d=s.return;d!==null;){if(tx(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,x=qd(s);Ec(s,x,p);break;case 5:var w=o.stateNode;o.flags&32&&(D(w,""),o.flags&=-33);var C=qd(s);Ec(s,C,w);break;case 3:case 4:var O=o.stateNode.containerInfo,G=qd(s);Wd(s,G,O);break;default:throw Error(i(161))}}catch(it){pe(s,s.return,it)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;cx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function fs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ix(s,a.alternate,a),a=a.sibling}function Rr(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Fs(4,a,a.return),Rr(a);break;case 1:qi(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Kp(a,a.return,o),Rr(a);break;case 27:Hl(a.stateNode);case 26:case 5:qi(a,a.return),Rr(a);break;case 22:a.memoizedState===null&&Rr(a);break;case 30:Rr(a);break;default:Rr(a)}s=s.sibling}}function gs(s,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=s,x=a,w=x.flags;switch(x.tag){case 0:case 11:case 15:gs(p,x,o),El(4,x);break;case 1:if(gs(p,x,o),d=x,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){pe(d,d.return,G)}if(d=x,p=d.updateQueue,p!==null){var C=d.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)Vm(O[p],C)}catch(G){pe(d,d.return,G)}}o&&w&64&&Zp(x),Tl(x,x.return);break;case 27:ex(x);case 26:case 5:gs(p,x,o),o&&d===null&&w&4&&Jp(x),Tl(x,x.return);break;case 12:gs(p,x,o);break;case 31:gs(p,x,o),o&&w&4&&ax(p,x);break;case 13:gs(p,x,o),o&&w&4&&lx(p,x);break;case 22:x.memoizedState===null&&gs(p,x,o),Tl(x,x.return);break;case 30:break;default:gs(p,x,o)}a=a.sibling}}function Gd(s,a){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&pl(o))}function Xd(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&pl(s))}function Oi(s,a,o,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ux(s,a,o,d),a=a.sibling}function ux(s,a,o,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(s,a,o,d),p&2048&&El(9,a);break;case 1:Oi(s,a,o,d);break;case 3:Oi(s,a,o,d),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&pl(s)));break;case 12:if(p&2048){Oi(s,a,o,d),s=a.stateNode;try{var x=a.memoizedProps,w=x.id,C=x.onPostCommit;typeof C=="function"&&C(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){pe(a,a.return,O)}}else Oi(s,a,o,d);break;case 31:Oi(s,a,o,d);break;case 13:Oi(s,a,o,d);break;case 23:break;case 22:x=a.stateNode,w=a.alternate,a.memoizedState!==null?x._visibility&2?Oi(s,a,o,d):Dl(s,a):x._visibility&2?Oi(s,a,o,d):(x._visibility|=2,xa(s,a,o,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Gd(w,a);break;case 24:Oi(s,a,o,d),p&2048&&Xd(a.alternate,a);break;default:Oi(s,a,o,d)}}function xa(s,a,o,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=s,w=a,C=o,O=d,G=w.flags;switch(w.tag){case 0:case 11:case 15:xa(x,w,C,O,p),El(8,w);break;case 23:break;case 22:var it=w.stateNode;w.memoizedState!==null?it._visibility&2?xa(x,w,C,O,p):Dl(x,w):(it._visibility|=2,xa(x,w,C,O,p)),p&&G&2048&&Gd(w.alternate,w);break;case 24:xa(x,w,C,O,p),p&&G&2048&&Xd(w.alternate,w);break;default:xa(x,w,C,O,p)}a=a.sibling}}function Dl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=s,d=a,p=d.flags;switch(d.tag){case 22:Dl(o,d),p&2048&&Gd(d.alternate,d);break;case 24:Dl(o,d),p&2048&&Xd(d.alternate,d);break;default:Dl(o,d)}a=a.sibling}}var Al=8192;function ba(s,a,o){if(s.subtreeFlags&Al)for(s=s.child;s!==null;)hx(s,a,o),s=s.sibling}function hx(s,a,o){switch(s.tag){case 26:ba(s,a,o),s.flags&Al&&s.memoizedState!==null&&Kk(o,Ri,s.memoizedState,s.memoizedProps);break;case 5:ba(s,a,o);break;case 3:case 4:var d=Ri;Ri=Ic(s.stateNode.containerInfo),ba(s,a,o),Ri=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Al,Al=16777216,ba(s,a,o),Al=d):ba(s,a,o));break;default:ba(s,a,o)}}function dx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Rl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];fn=d,gx(d,s)}dx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fx(s),s=s.sibling}function fx(s){switch(s.tag){case 0:case 11:case 15:Rl(s),s.flags&2048&&Fs(9,s,s.return);break;case 3:Rl(s);break;case 12:Rl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Dc(s)):Rl(s);break;default:Rl(s)}}function Dc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];fn=d,gx(d,s)}dx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Fs(8,a,a.return),Dc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Dc(a));break;default:Dc(a)}s=s.sibling}}function gx(s,a){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Fs(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pl(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,fn=d;else t:for(o=s;fn!==null;){d=fn;var p=d.sibling,x=d.return;if(sx(d),d===o){fn=null;break t}if(p!==null){p.return=x,fn=p;break t}fn=x}}}var fk={getCacheForType:function(s){var a=xn(Ze),o=a.data.get(s);return o===void 0&&(o=s(),a.data.set(s,o)),o},cacheSignal:function(){return xn(Ze).controller.signal}},gk=typeof WeakMap=="function"?WeakMap:Map,de=0,Ne=null,Qt=null,te=0,me=0,li=null,Ys=!1,ya=!1,Qd=!1,ms=0,He=0,Is=0,Or=0,Zd=0,oi=0,va=0,Ol=null,In=null,Kd=!1,Ac=0,mx=0,Rc=1/0,Oc=null,qs=null,cn=0,Ws=null,wa=null,ps=0,Jd=0,tf=null,px=null,zl=0,ef=null;function ci(){return(de&2)!==0&&te!==0?te&-te:L.T!==null?of():an()}function xx(){if(oi===0)if((te&536870912)===0||ie){var s=Ut;Ut<<=1,(Ut&3932160)===0&&(Ut=262144),oi=s}else oi=536870912;return s=ri.current,s!==null&&(s.flags|=32),oi}function qn(s,a,o){(s===Ne&&(me===2||me===9)||s.cancelPendingCommit!==null)&&(Sa(s,0),$s(s,te,oi,!1)),Rn(s,o),((de&2)===0||s!==Ne)&&(s===Ne&&((de&2)===0&&(Or|=o),He===4&&$s(s,te,oi,!1)),Wi(s))}function bx(s,a,o){if((de&6)!==0)throw Error(i(327));var d=!o&&(a&127)===0&&(a&s.expiredLanes)===0||he(s,a),p=d?xk(s,a):sf(s,a,!0),x=d;do{if(p===0){ya&&!d&&$s(s,a,0,!1);break}else{if(o=s.current.alternate,x&&!mk(o)){p=sf(s,a,!1),x=!1;continue}if(p===2){if(x=a,s.errorRecoveryDisabledLanes&x)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var C=s;p=Ol;var O=C.current.memoizedState.isDehydrated;if(O&&(Sa(C,w).flags|=256),w=sf(C,w,!1),w!==2){if(Qd&&!O){C.errorRecoveryDisabledLanes|=x,Or|=x,p=4;break t}x=In,In=p,x!==null&&(In===null?In=x:In.push.apply(In,x))}p=w}if(x=!1,p!==2)continue}}if(p===1){Sa(s,0),$s(s,a,0,!0);break}t:{switch(d=s,x=p,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:$s(d,a,oi,!Ys);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ac+300-Ot(),10<p)){if($s(d,a,oi,!Ys),Gt(d,0,!0)!==0)break t;ps=a,d.timeoutHandle=Xx(yx.bind(null,d,o,In,Oc,Kd,a,oi,Or,va,Ys,x,"Throttled",-0,0),p);break t}yx(d,o,In,Oc,Kd,a,oi,Or,va,Ys,x,null,-0,0)}}break}while(!0);Wi(s)}function yx(s,a,o,d,p,x,w,C,O,G,it,rt,Z,et){if(s.timeoutHandle=-1,rt=a.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},hx(a,x,rt);var Nt=(x&62914560)===x?Ac-Ot():(x&4194048)===x?mx-Ot():0;if(Nt=Jk(rt,Nt),Nt!==null){ps=x,s.cancelPendingCommit=Nt(Mx.bind(null,s,a,x,o,d,p,w,C,O,it,rt,null,Z,et)),$s(s,x,w,!G);return}}Mx(s,a,x,o,d,p,w,C,O)}function mk(s){for(var a=s;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],x=p.getSnapshot;p=p.value;try{if(!ii(x(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $s(s,a,o,d){a&=~Zd,a&=~Or,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var p=a;0<p;){var x=31-Fe(p),w=1<<x;d[x]=-1,p&=~w}o!==0&&ye(s,o,a)}function zc(){return(de&6)===0?(Ll(0),!1):!0}function nf(){if(Qt!==null){if(me===0)var s=Qt.return;else s=Qt,rs=_r=null,bd(s),da=null,bl=0,s=Qt;for(;s!==null;)Qp(s.alternate,s),s=s.return;Qt=null}}function Sa(s,a){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,zk(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ps=0,nf(),Ne=s,Qt=o=is(s.current,null),te=a,me=0,li=null,Ys=!1,ya=he(s,a),Qd=!1,va=oi=Zd=Or=Is=He=0,In=Ol=null,Kd=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var p=31-Fe(d),x=1<<p;a|=s[p],d&=~x}return ms=a,nc(),o}function vx(s,a){Ft=null,L.H=jl,a===ha||a===uc?(a=Lm(),me=3):a===ad?(a=Lm(),me=4):me=a===Od?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,li=a,Qt===null&&(He=1,Nc(s,gi(a,s.current)))}function wx(){var s=ri.current;return s===null?!0:(te&4194048)===te?bi===null:(te&62914560)===te||(te&536870912)!==0?s===bi:!1}function Sx(){var s=L.H;return L.H=jl,s===null?jl:s}function kx(){var s=L.A;return L.A=fk,s}function Lc(){He=4,Ys||(te&4194048)!==te&&ri.current!==null||(ya=!0),(Is&134217727)===0&&(Or&134217727)===0||Ne===null||$s(Ne,te,oi,!1)}function sf(s,a,o){var d=de;de|=2;var p=Sx(),x=kx();(Ne!==s||te!==a)&&(Oc=null,Sa(s,a)),a=!1;var w=He;t:do try{if(me!==0&&Qt!==null){var C=Qt,O=li;switch(me){case 8:nf(),w=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(a=!0);var G=me;if(me=0,li=null,ka(s,C,O,G),o&&ya){w=0;break t}break;default:G=me,me=0,li=null,ka(s,C,O,G)}}pk(),w=He;break}catch(it){vx(s,it)}while(!0);return a&&s.shellSuspendCounter++,rs=_r=null,de=d,L.H=p,L.A=x,Qt===null&&(Ne=null,te=0,nc()),w}function pk(){for(;Qt!==null;)Nx(Qt)}function xk(s,a){var o=de;de|=2;var d=Sx(),p=kx();Ne!==s||te!==a?(Oc=null,Rc=Ot()+500,Sa(s,a)):ya=he(s,a);t:do try{if(me!==0&&Qt!==null){a=Qt;var x=li;e:switch(me){case 1:me=0,li=null,ka(s,a,x,1);break;case 2:case 9:if(Om(x)){me=0,li=null,_x(a);break}a=function(){me!==2&&me!==9||Ne!==s||(me=7),Wi(s)},x.then(a,a);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:Om(x)?(me=0,li=null,_x(a)):(me=0,li=null,ka(s,a,x,7));break;case 5:var w=null;switch(Qt.tag){case 26:w=Qt.memoizedState;case 5:case 27:var C=Qt;if(w?ub(w):C.stateNode.complete){me=0,li=null;var O=C.sibling;if(O!==null)Qt=O;else{var G=C.return;G!==null?(Qt=G,Pc(G)):Qt=null}break e}}me=0,li=null,ka(s,a,x,5);break;case 6:me=0,li=null,ka(s,a,x,6);break;case 8:nf(),He=6;break t;default:throw Error(i(462))}}bk();break}catch(it){vx(s,it)}while(!0);return rs=_r=null,L.H=d,L.A=p,de=o,Qt!==null?0:(Ne=null,te=0,nc(),He)}function bk(){for(;Qt!==null&&!hn();)Nx(Qt)}function Nx(s){var a=Gp(s.alternate,s,ms);s.memoizedProps=s.pendingProps,a===null?Pc(s):Qt=a}function _x(s){var a=s,o=a.alternate;switch(a.tag){case 15:case 0:a=Fp(o,a,a.pendingProps,a.type,void 0,te);break;case 11:a=Fp(o,a,a.pendingProps,a.type.render,a.ref,te);break;case 5:bd(a);default:Qp(o,a),a=Qt=km(a,ms),a=Gp(o,a,ms)}s.memoizedProps=s.pendingProps,a===null?Pc(s):Qt=a}function ka(s,a,o,d){rs=_r=null,bd(a),da=null,bl=0;var p=a.return;try{if(ak(s,p,a,o,te)){He=1,Nc(s,gi(o,s.current)),Qt=null;return}}catch(x){if(p!==null)throw Qt=p,x;He=1,Nc(s,gi(o,s.current)),Qt=null;return}a.flags&32768?(ie||d===1?s=!0:ya||(te&536870912)!==0?s=!1:(Ys=s=!0,(d===2||d===9||d===3||d===6)&&(d=ri.current,d!==null&&d.tag===13&&(d.flags|=16384))),jx(a,s)):Pc(a)}function Pc(s){var a=s;do{if((a.flags&32768)!==0){jx(a,Ys);return}s=a.return;var o=ck(a.alternate,a,ms);if(o!==null){Qt=o;return}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=s}while(a!==null);He===0&&(He=5)}function jx(s,a){do{var o=uk(s.alternate,s);if(o!==null){o.flags&=32767,Qt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(s=s.sibling,s!==null)){Qt=s;return}Qt=s=o}while(s!==null);He=6,Qt=null}function Mx(s,a,o,d,p,x,w,C,O){s.cancelPendingCommit=null;do Bc();while(cn!==0);if((de&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=qh,At(s,o,x,w,C,O),s===Ne&&(Qt=Ne=null,te=0),wa=a,Ws=s,ps=o,Jd=x,tf=p,px=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Sk(Me,function(){return Ax(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=L.T,L.T=null,p=X.p,X.p=2,w=de,de|=4;try{hk(s,a,o)}finally{de=w,X.p=p,L.T=d}}cn=1,Cx(),Ex(),Tx()}}function Cx(){if(cn===1){cn=0;var s=Ws,a=wa,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var d=X.p;X.p=2;var p=de;de|=4;try{ox(a,s);var x=pf,w=gm(s.containerInfo),C=x.focusedElem,O=x.selectionRange;if(w!==C&&C&&C.ownerDocument&&fm(C.ownerDocument.documentElement,C)){if(O!==null&&Vh(C)){var G=O.start,it=O.end;if(it===void 0&&(it=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(it,C.value.length);else{var rt=C.ownerDocument||document,Z=rt&&rt.defaultView||window;if(Z.getSelection){var et=Z.getSelection(),Nt=C.textContent.length,Dt=Math.min(O.start,Nt),ke=O.end===void 0?Dt:Math.min(O.end,Nt);!et.extend&&Dt>ke&&(w=ke,ke=Dt,Dt=w);var I=dm(C,Dt),H=dm(C,ke);if(I&&H&&(et.rangeCount!==1||et.anchorNode!==I.node||et.anchorOffset!==I.offset||et.focusNode!==H.node||et.focusOffset!==H.offset)){var $=rt.createRange();$.setStart(I.node,I.offset),et.removeAllRanges(),Dt>ke?(et.addRange($),et.extend(H.node,H.offset)):($.setEnd(H.node,H.offset),et.addRange($))}}}}for(rt=[],et=C;et=et.parentNode;)et.nodeType===1&&rt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<rt.length;C++){var st=rt[C];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Qc=!!mf,pf=mf=null}finally{de=p,X.p=d,L.T=o}}s.current=a,cn=2}}function Ex(){if(cn===2){cn=0;var s=Ws,a=wa,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var d=X.p;X.p=2;var p=de;de|=4;try{ix(s,a.alternate,a)}finally{de=p,X.p=d,L.T=o}}cn=3}}function Tx(){if(cn===4||cn===3){cn=0,Jt();var s=Ws,a=wa,o=ps,d=px;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,wa=Ws=null,Dx(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(qs=null),rn(o),a=a.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(di,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=L.T,p=X.p,X.p=2,L.T=null;try{for(var x=s.onRecoverableError,w=0;w<d.length;w++){var C=d[w];x(C.value,{componentStack:C.stack})}}finally{L.T=a,X.p=p}}(ps&3)!==0&&Bc(),Wi(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===ef?zl++:(zl=0,ef=s):zl=0,Ll(0)}}function Dx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,pl(a)))}function Bc(){return Cx(),Ex(),Tx(),Ax()}function Ax(){if(cn!==5)return!1;var s=Ws,a=Jd;Jd=0;var o=rn(ps),d=L.T,p=X.p;try{X.p=32>o?32:o,L.T=null,o=tf,tf=null;var x=Ws,w=ps;if(cn=0,wa=Ws=null,ps=0,(de&6)!==0)throw Error(i(331));var C=de;if(de|=4,fx(x.current),ux(x,x.current,w,o),de=C,Ll(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(di,x)}catch{}return!0}finally{X.p=p,L.T=d,Dx(s,a)}}function Rx(s,a,o){a=gi(o,a),a=Rd(s.stateNode,a,2),s=Hs(s,a,2),s!==null&&(Rn(s,2),Wi(s))}function pe(s,a,o){if(s.tag===3)Rx(s,s,o);else for(;a!==null;){if(a.tag===3){Rx(a,s,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))){s=gi(o,s),o=Op(2),d=Hs(a,o,2),d!==null&&(zp(o,d,a,s),Rn(d,2),Wi(d));break}}a=a.return}}function rf(s,a,o){var d=s.pingCache;if(d===null){d=s.pingCache=new gk;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(o)||(Qd=!0,p.add(o),s=yk.bind(null,s,a,o),a.then(s,s))}function yk(s,a,o){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Ne===s&&(te&o)===o&&(He===4||He===3&&(te&62914560)===te&&300>Ot()-Ac?(de&2)===0&&Sa(s,0):Zd|=o,va===te&&(va=0)),Wi(s)}function Ox(s,a){a===0&&(a=Ye()),s=Sr(s,a),s!==null&&(Rn(s,a),Wi(s))}function vk(s){var a=s.memoizedState,o=0;a!==null&&(o=a.retryLane),Ox(s,o)}function wk(s,a){var o=0;switch(s.tag){case 31:case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),Ox(s,o)}function Sk(s,a){return be(s,a)}var Hc=null,Na=null,af=!1,Vc=!1,lf=!1,Gs=0;function Wi(s){s!==Na&&s.next===null&&(Na===null?Hc=Na=s:Na=Na.next=s),Vc=!0,af||(af=!0,Nk())}function Ll(s,a){if(!lf&&Vc){lf=!0;do for(var o=!1,d=Hc;d!==null;){if(s!==0){var p=d.pendingLanes;if(p===0)var x=0;else{var w=d.suspendedLanes,C=d.pingedLanes;x=(1<<31-Fe(42|s)+1)-1,x&=p&~(w&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Bx(d,x))}else x=te,x=Gt(d,d===Ne?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||he(d,x)||(o=!0,Bx(d,x));d=d.next}while(o);lf=!1}}function kk(){zx()}function zx(){Vc=af=!1;var s=0;Gs!==0&&Ok()&&(s=Gs);for(var a=Ot(),o=null,d=Hc;d!==null;){var p=d.next,x=Lx(d,a);x===0?(d.next=null,o===null?Hc=p:o.next=p,p===null&&(Na=o)):(o=d,(s!==0||(x&3)!==0)&&(Vc=!0)),d=p}cn!==0&&cn!==5||Ll(s),Gs!==0&&(Gs=0)}function Lx(s,a){for(var o=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var w=31-Fe(x),C=1<<w,O=p[w];O===-1?((C&o)===0||(C&d)!==0)&&(p[w]=Le(C,a)):O<=a&&(s.expiredLanes|=C),x&=~C}if(a=Ne,o=te,o=Gt(s,s===a?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,o===0||s===a&&(me===2||me===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&$t(d),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||he(s,o)){if(a=o&-o,a===s.callbackPriority)return a;switch(d!==null&&$t(d),rn(o)){case 2:case 8:o=nn;break;case 32:o=Me;break;case 268435456:o=Sn;break;default:o=Me}return d=Px.bind(null,s),o=be(o,d),s.callbackPriority=a,s.callbackNode=o,a}return d!==null&&d!==null&&$t(d),s.callbackPriority=2,s.callbackNode=null,2}function Px(s,a){if(cn!==0&&cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Bc()&&s.callbackNode!==o)return null;var d=te;return d=Gt(s,s===Ne?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(bx(s,d,a),Lx(s,Ot()),s.callbackNode!=null&&s.callbackNode===o?Px.bind(null,s):null)}function Bx(s,a){if(Bc())return null;bx(s,a,!0)}function Nk(){Lk(function(){(de&6)!==0?be(Kn,kk):zx()})}function of(){if(Gs===0){var s=ca;s===0&&(s=W,W<<=1,(W&261888)===0&&(W=256)),Gs=s}return Gs}function Hx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xe(""+s)}function Vx(s,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,s.id&&o.setAttribute("form",s.id),a.parentNode.insertBefore(o,a),s=new FormData(s),o.parentNode.removeChild(o),s}function _k(s,a,o,d,p){if(a==="submit"&&o&&o.stateNode===p){var x=Hx((p[ge]||null).action),w=d.submitter;w&&(a=(a=w[ge]||null)?Hx(a.formAction):w.getAttribute("formAction"),a!==null&&(x=a,w=null));var C=new Ko("action","action",null,d,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Gs!==0){var O=w?Vx(p,w):new FormData(p);Md(o,{pending:!0,data:O,method:p.method,action:x},null,O)}}else typeof x=="function"&&(C.preventDefault(),O=w?Vx(p,w):new FormData(p),Md(o,{pending:!0,data:O,method:p.method,action:x},x,O))},currentTarget:p}]})}}for(var cf=0;cf<Ih.length;cf++){var uf=Ih[cf],jk=uf.toLowerCase(),Mk=uf[0].toUpperCase()+uf.slice(1);Ai(jk,"on"+Mk)}Ai(xm,"onAnimationEnd"),Ai(bm,"onAnimationIteration"),Ai(ym,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(YS,"onTransitionRun"),Ai(IS,"onTransitionStart"),Ai(qS,"onTransitionCancel"),Ai(vm,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ck=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Ux(s,a){a=(a&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],p=d.event;d=d.listeners;t:{var x=void 0;if(a)for(var w=d.length-1;0<=w;w--){var C=d[w],O=C.instance,G=C.currentTarget;if(C=C.listener,O!==x&&p.isPropagationStopped())break t;x=C,p.currentTarget=G;try{x(p)}catch(it){ec(it)}p.currentTarget=null,x=O}else for(w=0;w<d.length;w++){if(C=d[w],O=C.instance,G=C.currentTarget,C=C.listener,O!==x&&p.isPropagationStopped())break t;x=C,p.currentTarget=G;try{x(p)}catch(it){ec(it)}p.currentTarget=null,x=O}}}}function Zt(s,a){var o=a[ts];o===void 0&&(o=a[ts]=new Set);var d=s+"__bubble";o.has(d)||(Fx(a,s,2,!1),o.add(d))}function hf(s,a,o){var d=0;a&&(d|=4),Fx(o,s,d,a)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function df(s){if(!s[Uc]){s[Uc]=!0,Di.forEach(function(o){o!=="selectionchange"&&(Ck.has(o)||hf(o,!1,s),hf(o,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Uc]||(a[Uc]=!0,hf("selectionchange",!1,a))}}function Fx(s,a,o,d){switch(xb(a)){case 2:var p=nN;break;case 8:p=iN;break;default:p=Mf}o=p.bind(null,a,o,s),p=void 0,!Dh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(a,o,{capture:!0,passive:p}):s.addEventListener(a,o,!0):p!==void 0?s.addEventListener(a,o,{passive:p}):s.addEventListener(a,o,!1)}function ff(s,a,o,d,p){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var C=d.stateNode.containerInfo;if(C===p)break;if(w===4)for(w=d.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;C!==null;){if(w=Pe(C),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){d=x=w;continue t}C=C.parentNode}}d=d.return}$g(function(){var G=x,it=Eh(o),rt=[];t:{var Z=wm.get(s);if(Z!==void 0){var et=Ko,Nt=s;switch(s){case"keypress":if(Qo(o)===0)break t;case"keydown":case"keyup":et=wS;break;case"focusin":Nt="focus",et=zh;break;case"focusout":Nt="blur",et=zh;break;case"beforeblur":case"afterblur":et=zh;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=NS;break;case xm:case bm:case ym:et=dS;break;case vm:et=jS;break;case"scroll":case"scrollend":et=lS;break;case"wheel":et=CS;break;case"copy":case"cut":case"paste":et=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Kg;break;case"toggle":case"beforetoggle":et=TS}var Dt=(a&4)!==0,ke=!Dt&&(s==="scroll"||s==="scrollend"),I=Dt?Z!==null?Z+"Capture":null:Z;Dt=[];for(var H=G,$;H!==null;){var st=H;if($=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||$===null||I===null||(st=rl(H,I),st!=null&&Dt.push(Bl(H,st,$))),ke)break;H=H.return}0<Dt.length&&(Z=new et(Z,Nt,null,o,it),rt.push({event:Z,listeners:Dt}))}}if((a&7)===0){t:{if(Z=s==="mouseover"||s==="pointerover",et=s==="mouseout"||s==="pointerout",Z&&o!==Ch&&(Nt=o.relatedTarget||o.fromElement)&&(Pe(Nt)||Nt[Jn]))break t;if((et||Z)&&(Z=it.window===it?it:(Z=it.ownerDocument)?Z.defaultView||Z.parentWindow:window,et?(Nt=o.relatedTarget||o.toElement,et=G,Nt=Nt?Pe(Nt):null,Nt!==null&&(ke=l(Nt),Dt=Nt.tag,Nt!==ke||Dt!==5&&Dt!==27&&Dt!==6)&&(Nt=null)):(et=null,Nt=G),et!==Nt)){if(Dt=Qg,st="onMouseLeave",I="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Dt=Kg,st="onPointerLeave",I="onPointerEnter",H="pointer"),ke=et==null?Z:Ui(et),$=Nt==null?Z:Ui(Nt),Z=new Dt(st,H+"leave",et,o,it),Z.target=ke,Z.relatedTarget=$,st=null,Pe(it)===G&&(Dt=new Dt(I,H+"enter",Nt,o,it),Dt.target=$,Dt.relatedTarget=ke,st=Dt),ke=st,et&&Nt)e:{for(Dt=Ek,I=et,H=Nt,$=0,st=I;st;st=Dt(st))$++;st=0;for(var Et=H;Et;Et=Dt(Et))st++;for(;0<$-st;)I=Dt(I),$--;for(;0<st-$;)H=Dt(H),st--;for(;$--;){if(I===H||H!==null&&I===H.alternate){Dt=I;break e}I=Dt(I),H=Dt(H)}Dt=null}else Dt=null;et!==null&&Yx(rt,Z,et,Dt,!1),Nt!==null&&ke!==null&&Yx(rt,ke,Nt,Dt,!0)}}t:{if(Z=G?Ui(G):window,et=Z.nodeName&&Z.nodeName.toLowerCase(),et==="select"||et==="input"&&Z.type==="file")var ce=am;else if(sm(Z))if(lm)ce=VS;else{ce=BS;var jt=PS}else et=Z.nodeName,!et||et.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&qt(G.elementType)&&(ce=am):ce=HS;if(ce&&(ce=ce(s,G))){rm(rt,ce,o,it);break t}jt&&jt(s,Z,G),s==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&sl(Z,"number",Z.value)}switch(jt=G?Ui(G):window,s){case"focusin":(sm(jt)||jt.contentEditable==="true")&&(ea=jt,Uh=G,fl=null);break;case"focusout":fl=Uh=ea=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,mm(rt,o,it);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":mm(rt,o,it)}var Wt;if(Ph)t:{switch(s){case"compositionstart":var ee="onCompositionStart";break t;case"compositionend":ee="onCompositionEnd";break t;case"compositionupdate":ee="onCompositionUpdate";break t}ee=void 0}else ta?nm(s,o)&&(ee="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ee="onCompositionStart");ee&&(Jg&&o.locale!=="ko"&&(ta||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&ta&&(Wt=Gg()):(As=it,Ah="value"in As?As.value:As.textContent,ta=!0)),jt=Fc(G,ee),0<jt.length&&(ee=new Zg(ee,s,null,o,it),rt.push({event:ee,listeners:jt}),Wt?ee.data=Wt:(Wt=im(o),Wt!==null&&(ee.data=Wt)))),(Wt=AS?RS(s,o):OS(s,o))&&(ee=Fc(G,"onBeforeInput"),0<ee.length&&(jt=new Zg("onBeforeInput","beforeinput",null,o,it),rt.push({event:jt,listeners:ee}),jt.data=Wt)),_k(rt,s,G,o,it)}Ux(rt,a)})}function Bl(s,a,o){return{instance:s,listener:a,currentTarget:o}}function Fc(s,a){for(var o=a+"Capture",d=[];s!==null;){var p=s,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=rl(s,o),p!=null&&d.unshift(Bl(s,p,x)),p=rl(s,a),p!=null&&d.push(Bl(s,p,x))),s.tag===3)return d;s=s.return}return[]}function Ek(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Yx(s,a,o,d,p){for(var x=a._reactName,w=[];o!==null&&o!==d;){var C=o,O=C.alternate,G=C.stateNode;if(C=C.tag,O!==null&&O===d)break;C!==5&&C!==26&&C!==27||G===null||(O=G,p?(G=rl(o,x),G!=null&&w.unshift(Bl(o,G,O))):p||(G=rl(o,x),G!=null&&w.push(Bl(o,G,O)))),o=o.return}w.length!==0&&s.push({event:a,listeners:w})}var Tk=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function Ix(s){return(typeof s=="string"?s:""+s).replace(Tk,`
`).replace(Dk,"")}function qx(s,a){return a=Ix(a),Ix(s)===a}function Se(s,a,o,d,p,x){switch(o){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||D(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&D(s,""+d);break;case"className":_t(s,"class",d);break;case"tabIndex":_t(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_t(s,o,d);break;case"style":St(s,d,x);break;case"data":if(a!=="object"){_t(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||o!=="href")){s.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=Xe(""+d),s.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(a!=="input"&&Se(s,a,"name",p.name,p,null),Se(s,a,"formEncType",p.formEncType,p,null),Se(s,a,"formMethod",p.formMethod,p,null),Se(s,a,"formTarget",p.formTarget,p,null)):(Se(s,a,"encType",p.encType,p,null),Se(s,a,"method",p.method,p,null),Se(s,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=Xe(""+d),s.setAttribute(o,d);break;case"onClick":d!=null&&(s.onclick=Qe);break;case"onScroll":d!=null&&Zt("scroll",s);break;case"onScrollEnd":d!=null&&Zt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}o=Xe(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""+d):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":d===!0?s.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,d):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(o,d):s.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(o):s.setAttribute(o,d);break;case"popover":Zt("beforetoggle",s),Zt("toggle",s),Mt(s,"popover",d);break;case"xlinkActuate":ne(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ne(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ne(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ne(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ne(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ne(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ne(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ne(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ne(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Mt(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ge.get(o)||o,Mt(s,o,d))}}function gf(s,a,o,d,p,x){switch(o){case"style":St(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof d=="string"?D(s,d):(typeof d=="number"||typeof d=="bigint")&&D(s,""+d);break;case"onScroll":d!=null&&Zt("scroll",s);break;case"onScrollEnd":d!=null&&Zt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ti.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),x=s[ge]||null,x=x!=null?x[o]:null,typeof x=="function"&&s.removeEventListener(a,x,p),typeof d=="function")){typeof x!="function"&&x!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(a,d,p);break t}o in s?s[o]=d:d===!0?s.setAttribute(o,""):Mt(s,o,d)}}}function yn(s,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",s),Zt("load",s);var d=!1,p=!1,x;for(x in o)if(o.hasOwnProperty(x)){var w=o[x];if(w!=null)switch(x){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Se(s,a,x,w,o,null)}}p&&Se(s,a,"srcSet",o.srcSet,o,null),d&&Se(s,a,"src",o.src,o,null);return;case"input":Zt("invalid",s);var C=x=w=p=null,O=null,G=null;for(d in o)if(o.hasOwnProperty(d)){var it=o[d];if(it!=null)switch(d){case"name":p=it;break;case"type":w=it;break;case"checked":O=it;break;case"defaultChecked":G=it;break;case"value":x=it;break;case"defaultValue":C=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:Se(s,a,d,it,o,null)}}il(s,x,C,O,G,w,p,!1);return;case"select":Zt("invalid",s),d=w=x=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":x=C;break;case"defaultValue":w=C;break;case"multiple":d=C;default:Se(s,a,p,C,o,null)}a=x,o=w,s.multiple=!!d,a!=null?Ds(s,!!d,a,!1):o!=null&&Ds(s,!!d,o,!0);return;case"textarea":Zt("invalid",s),x=p=d=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":d=C;break;case"defaultValue":p=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Se(s,a,w,C,o,null)}T(s,d,p,x);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(d=o[O],d!=null))switch(O){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Se(s,a,O,d,o,null)}return;case"dialog":Zt("beforetoggle",s),Zt("toggle",s),Zt("cancel",s),Zt("close",s);break;case"iframe":case"object":Zt("load",s);break;case"video":case"audio":for(d=0;d<Pl.length;d++)Zt(Pl[d],s);break;case"image":Zt("error",s),Zt("load",s);break;case"details":Zt("toggle",s);break;case"embed":case"source":case"link":Zt("error",s),Zt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(d=o[G],d!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Se(s,a,G,d,o,null)}return;default:if(qt(a)){for(it in o)o.hasOwnProperty(it)&&(d=o[it],d!==void 0&&gf(s,a,it,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&Se(s,a,C,d,o,null))}function Ak(s,a,o,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,w=null,C=null,O=null,G=null,it=null;for(et in o){var rt=o[et];if(o.hasOwnProperty(et)&&rt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":O=rt;default:d.hasOwnProperty(et)||Se(s,a,et,null,d,rt)}}for(var Z in d){var et=d[Z];if(rt=o[Z],d.hasOwnProperty(Z)&&(et!=null||rt!=null))switch(Z){case"type":x=et;break;case"name":p=et;break;case"checked":G=et;break;case"defaultChecked":it=et;break;case"value":w=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:et!==rt&&Se(s,a,Z,et,d,rt)}}br(s,w,C,O,G,it,x,p);return;case"select":et=w=C=Z=null;for(x in o)if(O=o[x],o.hasOwnProperty(x)&&O!=null)switch(x){case"value":break;case"multiple":et=O;default:d.hasOwnProperty(x)||Se(s,a,x,null,d,O)}for(p in d)if(x=d[p],O=o[p],d.hasOwnProperty(p)&&(x!=null||O!=null))switch(p){case"value":Z=x;break;case"defaultValue":C=x;break;case"multiple":w=x;default:x!==O&&Se(s,a,p,x,d,O)}a=C,o=w,d=et,Z!=null?Ds(s,!!o,Z,!1):!!d!=!!o&&(a!=null?Ds(s,!!o,a,!0):Ds(s,!!o,o?[]:"",!1));return;case"textarea":et=Z=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Se(s,a,C,null,d,p)}for(w in d)if(p=d[w],x=o[w],d.hasOwnProperty(w)&&(p!=null||x!=null))switch(w){case"value":Z=p;break;case"defaultValue":et=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==x&&Se(s,a,w,p,d,x)}j(s,Z,et);return;case"option":for(var Nt in o)if(Z=o[Nt],o.hasOwnProperty(Nt)&&Z!=null&&!d.hasOwnProperty(Nt))switch(Nt){case"selected":s.selected=!1;break;default:Se(s,a,Nt,null,d,Z)}for(O in d)if(Z=d[O],et=o[O],d.hasOwnProperty(O)&&Z!==et&&(Z!=null||et!=null))switch(O){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Se(s,a,O,Z,d,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)Z=o[Dt],o.hasOwnProperty(Dt)&&Z!=null&&!d.hasOwnProperty(Dt)&&Se(s,a,Dt,null,d,Z);for(G in d)if(Z=d[G],et=o[G],d.hasOwnProperty(G)&&Z!==et&&(Z!=null||et!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Se(s,a,G,Z,d,et)}return;default:if(qt(a)){for(var ke in o)Z=o[ke],o.hasOwnProperty(ke)&&Z!==void 0&&!d.hasOwnProperty(ke)&&gf(s,a,ke,void 0,d,Z);for(it in d)Z=d[it],et=o[it],!d.hasOwnProperty(it)||Z===et||Z===void 0&&et===void 0||gf(s,a,it,Z,d,et);return}}for(var I in o)Z=o[I],o.hasOwnProperty(I)&&Z!=null&&!d.hasOwnProperty(I)&&Se(s,a,I,null,d,Z);for(rt in d)Z=d[rt],et=o[rt],!d.hasOwnProperty(rt)||Z===et||Z==null&&et==null||Se(s,a,rt,Z,d,et)}function Wx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rk(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],x=p.transferSize,w=p.initiatorType,C=p.duration;if(x&&C&&Wx(w)){for(w=0,C=p.responseEnd,d+=1;d<o.length;d++){var O=o[d],G=O.startTime;if(G>C)break;var it=O.transferSize,rt=O.initiatorType;it&&Wx(rt)&&(O=O.responseEnd,w+=it*(O<C?1:(C-G)/(O-G)))}if(--d,a+=8*(x+w)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var mf=null,pf=null;function Yc(s){return s.nodeType===9?s:s.ownerDocument}function $x(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function xf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bf=null;function Ok(){var s=window.event;return s&&s.type==="popstate"?s===bf?!1:(bf=s,!0):(bf=null,!1)}var Xx=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(s){return Qx.resolve(null).then(s).catch(Pk)}:Xx;function Pk(s){setTimeout(function(){throw s})}function Xs(s){return s==="head"}function Zx(s,a){var o=a,d=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){s.removeChild(p),Ca(a);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Hl(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Hl(o);for(var x=o.firstChild;x;){var w=x.nextSibling,C=x.nodeName;x[jn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=w}}else o==="body"&&Hl(s.ownerDocument.body);o=p}while(o);Ca(a)}function Kx(s,a){var o=s;s=0;do{var d=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=d}while(o)}function yf(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yf(o),Vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function Bk(s,a,o,d){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[jn])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=yi(s.nextSibling),s===null)break}return null}function Hk(s,a,o){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=yi(s.nextSibling),s===null))return null;return s}function Jx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=yi(s.nextSibling),s===null))return null;return s}function vf(s){return s.data==="$?"||s.data==="$~"}function wf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Vk(s,a){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||o.readyState!=="loading")a();else{var d=function(){a(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function yi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Sf=null;function tb(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(a===0)return yi(s.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}s=s.nextSibling}return null}function eb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return s;a--}else o!=="/$"&&o!=="/&"||a++}s=s.previousSibling}return null}function nb(s,a,o){switch(a=Yc(o),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Hl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Vi(s)}var vi=new Map,ib=new Set;function Ic(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xs=X.d;X.d={f:Uk,r:Fk,D:Yk,C:Ik,L:qk,m:Wk,X:Gk,S:$k,M:Xk};function Uk(){var s=xs.f(),a=zc();return s||a}function Fk(s){var a=Re(s);a!==null&&a.tag===5&&a.type==="form"?vp(a):xs.r(s)}var _a=typeof document>"u"?null:document;function sb(s,a,o){var d=_a;if(d&&typeof a=="string"&&a){var p=zn(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ib.has(p)||(ib.add(p),s={rel:s,crossOrigin:o,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),yn(a,"link",s),It(a),d.head.appendChild(a)))}}function Yk(s){xs.D(s),sb("dns-prefetch",s,null)}function Ik(s,a){xs.C(s,a),sb("preconnect",s,a)}function qk(s,a,o){xs.L(s,a,o);var d=_a;if(d&&s&&a){var p='link[rel="preload"][as="'+zn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+zn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+zn(o.imageSizes)+'"]')):p+='[href="'+zn(s)+'"]';var x=p;switch(a){case"style":x=ja(s);break;case"script":x=Ma(s)}vi.has(x)||(s=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:s,as:a},o),vi.set(x,s),d.querySelector(p)!==null||a==="style"&&d.querySelector(Vl(x))||a==="script"&&d.querySelector(Ul(x))||(a=d.createElement("link"),yn(a,"link",s),It(a),d.head.appendChild(a)))}}function Wk(s,a){xs.m(s,a);var o=_a;if(o&&s){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+zn(d)+'"][href="'+zn(s)+'"]',x=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ma(s)}if(!vi.has(x)&&(s=b({rel:"modulepreload",href:s},a),vi.set(x,s),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ul(x)))return}d=o.createElement("link"),yn(d,"link",s),It(d),o.head.appendChild(d)}}}function $k(s,a,o){xs.S(s,a,o);var d=_a;if(d&&s){var p=Hn(d).hoistableStyles,x=ja(s);a=a||"default";var w=p.get(x);if(!w){var C={loading:0,preload:null};if(w=d.querySelector(Vl(x)))C.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},o),(o=vi.get(x))&&kf(s,o);var O=w=d.createElement("link");It(O),yn(O,"link",s),O._p=new Promise(function(G,it){O.onload=G,O.onerror=it}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qc(w,a,d)}w={type:"stylesheet",instance:w,count:1,state:C},p.set(x,w)}}}function Gk(s,a){xs.X(s,a);var o=_a;if(o&&s){var d=Hn(o).hoistableScripts,p=Ma(s),x=d.get(p);x||(x=o.querySelector(Ul(p)),x||(s=b({src:s,async:!0},a),(a=vi.get(p))&&Nf(s,a),x=o.createElement("script"),It(x),yn(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function Xk(s,a){xs.M(s,a);var o=_a;if(o&&s){var d=Hn(o).hoistableScripts,p=Ma(s),x=d.get(p);x||(x=o.querySelector(Ul(p)),x||(s=b({src:s,async:!0,type:"module"},a),(a=vi.get(p))&&Nf(s,a),x=o.createElement("script"),It(x),yn(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function rb(s,a,o,d){var p=(p=pt.current)?Ic(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ja(o.href),o=Hn(p).hoistableStyles,d=o.get(a),d||(d={type:"style",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=ja(o.href);var x=Hn(p).hoistableStyles,w=x.get(s);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,w),(x=p.querySelector(Vl(s)))&&!x._p&&(w.instance=x,w.state.loading=5),vi.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(s,o),x||Qk(p,s,o,w.state))),a&&d===null)throw Error(i(528,""));return w}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ma(o),o=Hn(p).hoistableScripts,d=o.get(a),d||(d={type:"script",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ja(s){return'href="'+zn(s)+'"'}function Vl(s){return'link[rel="stylesheet"]['+s+"]"}function ab(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function Qk(s,a,o,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),yn(a,"link",o),It(a),s.head.appendChild(a))}function Ma(s){return'[src="'+zn(s)+'"]'}function Ul(s){return"script[async]"+s}function lb(s,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+zn(o.href)+'"]');if(d)return a.instance=d,It(d),d;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),It(d),yn(d,"style",p),qc(d,o.precedence,s),a.instance=d;case"stylesheet":p=ja(o.href);var x=s.querySelector(Vl(p));if(x)return a.state.loading|=4,a.instance=x,It(x),x;d=ab(o),(p=vi.get(p))&&kf(d,p),x=(s.ownerDocument||s).createElement("link"),It(x);var w=x;return w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),yn(x,"link",d),a.state.loading|=4,qc(x,o.precedence,s),a.instance=x;case"script":return x=Ma(o.src),(p=s.querySelector(Ul(x)))?(a.instance=p,It(p),p):(d=o,(p=vi.get(x))&&(d=b({},o),Nf(d,p)),s=s.ownerDocument||s,p=s.createElement("script"),It(p),yn(p,"link",d),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,qc(d,o.precedence,s));return a.instance}function qc(s,a,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,x=p,w=0;w<d.length;w++){var C=d[w];if(C.dataset.precedence===a)x=C;else if(x!==p)break}x?x.parentNode.insertBefore(s,x.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(s,a.firstChild))}function kf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Nf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Wc=null;function ob(s,a,o){if(Wc===null){var d=new Map,p=Wc=new Map;p.set(o,d)}else p=Wc,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(s))return d;for(d.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var x=o[p];if(!(x[jn]||x[le]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var w=x.getAttribute(a)||"";w=s+w;var C=d.get(w);C?C.push(x):d.set(w,[x])}}return d}function cb(s,a,o){s=s.ownerDocument||s,s.head.insertBefore(o,a==="title"?s.querySelector("head > title"):null)}function Zk(s,a,o){if(o===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ub(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Kk(s,a,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ja(d.href),x=a.querySelector(Vl(p));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=$c.bind(s),a.then(s,s)),o.state.loading|=4,o.instance=x,It(x);return}x=a.ownerDocument||a,d=ab(d),(p=vi.get(p))&&kf(d,p),x=x.createElement("link"),It(x);var w=x;w._p=new Promise(function(C,O){w.onload=C,w.onerror=O}),yn(x,"link",d),o.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=$c.bind(s),a.addEventListener("load",o),a.addEventListener("error",o))}}var _f=0;function Jk(s,a){return s.stylesheets&&s.count===0&&Xc(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var d=setTimeout(function(){if(s.stylesheets&&Xc(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+a);0<s.imgBytes&&_f===0&&(_f=62500*Rk());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xc(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>_f?50:800)+a);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gc=null;function Xc(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gc=new Map,a.forEach(tN,s),Gc=null,$c.call(s))}function tN(s,a){if(!(a.state.loading&4)){var o=Gc.get(s);if(o)var d=o.get(null);else{o=new Map,Gc.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var w=p[x];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}p=a.instance,w=p.getAttribute("data-precedence"),x=o.get(w)||d,x===d&&o.set(null,p),o.set(w,p),this.count++,d=$c.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),x?x.parentNode.insertBefore(p,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Fl={$$typeof:A,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function eN(s,a,o,d,p,x,w,C,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function hb(s,a,o,d,p,x,w,C,O,G,it,rt){return s=new eN(s,a,o,w,O,G,it,rt,C),a=1,x===!0&&(a|=24),x=si(3,null,null,a),s.current=x,x.stateNode=s,a=id(),a.refCount++,s.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:a},ld(x),s}function db(s){return s?(s=sa,s):sa}function fb(s,a,o,d,p,x){p=db(p),d.context===null?d.context=p:d.pendingContext=p,d=Bs(a),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Hs(s,d,a),o!==null&&(qn(o,s,a),vl(o,s,a))}function gb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<a?o:a}}function jf(s,a){gb(s,a),(s=s.alternate)&&gb(s,a)}function mb(s){if(s.tag===13||s.tag===31){var a=Sr(s,67108864);a!==null&&qn(a,s,67108864),jf(s,67108864)}}function pb(s){if(s.tag===13||s.tag===31){var a=ci();a=_n(a);var o=Sr(s,a);o!==null&&qn(o,s,a),jf(s,a)}}var Qc=!0;function nN(s,a,o,d){var p=L.T;L.T=null;var x=X.p;try{X.p=2,Mf(s,a,o,d)}finally{X.p=x,L.T=p}}function iN(s,a,o,d){var p=L.T;L.T=null;var x=X.p;try{X.p=8,Mf(s,a,o,d)}finally{X.p=x,L.T=p}}function Mf(s,a,o,d){if(Qc){var p=Cf(d);if(p===null)ff(s,a,d,Zc,o),bb(s,d);else if(rN(p,s,a,o,d))d.stopPropagation();else if(bb(s,d),a&4&&-1<sN.indexOf(s)){for(;p!==null;){var x=Re(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var w=zt(x.pendingLanes);if(w!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var O=1<<31-Fe(w);C.entanglements[1]|=O,w&=~O}Wi(x),(de&6)===0&&(Rc=Ot()+500,Ll(0))}}break;case 31:case 13:C=Sr(x,2),C!==null&&qn(C,x,2),zc(),jf(x,2)}if(x=Cf(d),x===null&&ff(s,a,d,Zc,o),x===p)break;p=x}p!==null&&d.stopPropagation()}else ff(s,a,d,null,o)}}function Cf(s){return s=Eh(s),Ef(s)}var Zc=null;function Ef(s){if(Zc=null,s=Pe(s),s!==null){var a=l(s);if(a===null)s=null;else{var o=a.tag;if(o===13){if(s=c(a),s!==null)return s;s=null}else if(o===31){if(s=u(a),s!==null)return s;s=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Zc=s,null}function xb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case Kn:return 2;case nn:return 8;case Me:case dn:return 32;case Sn:return 268435456;default:return 32}default:return 32}}var Tf=!1,Qs=null,Zs=null,Ks=null,Yl=new Map,Il=new Map,Js=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bb(s,a){switch(s){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Yl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(a.pointerId)}}function ql(s,a,o,d,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},a!==null&&(a=Re(a),a!==null&&mb(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function rN(s,a,o,d,p){switch(a){case"focusin":return Qs=ql(Qs,s,a,o,d,p),!0;case"dragenter":return Zs=ql(Zs,s,a,o,d,p),!0;case"mouseover":return Ks=ql(Ks,s,a,o,d,p),!0;case"pointerover":var x=p.pointerId;return Yl.set(x,ql(Yl.get(x)||null,s,a,o,d,p)),!0;case"gotpointercapture":return x=p.pointerId,Il.set(x,ql(Il.get(x)||null,s,a,o,d,p)),!0}return!1}function yb(s){var a=Pe(s.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){s.blockedOn=a,Ht(s.priority,function(){pb(o)});return}}else if(a===31){if(a=u(o),a!==null){s.blockedOn=a,Ht(s.priority,function(){pb(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var o=Cf(s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);Ch=d,o.target.dispatchEvent(d),Ch=null}else return a=Re(o),a!==null&&mb(a),s.blockedOn=o,!1;a.shift()}return!0}function vb(s,a,o){Kc(s)&&o.delete(a)}function aN(){Tf=!1,Qs!==null&&Kc(Qs)&&(Qs=null),Zs!==null&&Kc(Zs)&&(Zs=null),Ks!==null&&Kc(Ks)&&(Ks=null),Yl.forEach(vb),Il.forEach(vb)}function Jc(s,a){s.blockedOn===a&&(s.blockedOn=null,Tf||(Tf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aN)))}var tu=null;function wb(s){tu!==s&&(tu=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tu===s&&(tu=null);for(var a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],p=s[a+2];if(typeof d!="function"){if(Ef(d||o)===null)continue;break}var x=Re(o);x!==null&&(s.splice(a,3),a-=3,Md(x,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function Ca(s){function a(O){return Jc(O,s)}Qs!==null&&Jc(Qs,s),Zs!==null&&Jc(Zs,s),Ks!==null&&Jc(Ks,s),Yl.forEach(a),Il.forEach(a);for(var o=0;o<Js.length;o++){var d=Js[o];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Js.length&&(o=Js[0],o.blockedOn===null);)yb(o),o.blockedOn===null&&Js.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],x=o[d+1],w=p[ge]||null;if(typeof x=="function")w||wb(o);else if(w){var C=null;if(x&&x.hasAttribute("formAction")){if(p=x,w=x[ge]||null)C=w.formAction;else if(Ef(p)!==null)continue}else C=w.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),wb(o)}}}function Sb(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Df(s){this._internalRoot=s}eu.prototype.render=Df.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,d=ci();fb(o,d,s,a,null,null)},eu.prototype.unmount=Df.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;fb(s.current,2,null,s,null,null),zc(),a[Jn]=null}};function eu(s){this._internalRoot=s}eu.prototype.unstable_scheduleHydration=function(s){if(s){var a=an();s={blockedOn:null,target:s,priority:a};for(var o=0;o<Js.length&&a!==0&&a<Js[o].priority;o++);Js.splice(o,0,s),o===0&&yb(s)}};var kb=t.version;if(kb!=="19.2.0")throw Error(i(527,kb,"19.2.0"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var lN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{di=nu.inject(lN),sn=nu}catch{}}return $l.createRoot=function(s,a){if(!r(s))throw Error(i(299));var o=!1,d="",p=Tp,x=Dp,w=Ap;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=hb(s,1,!1,null,null,o,d,null,p,x,w,Sb),s[Jn]=a.current,df(s),new Df(a)},$l.hydrateRoot=function(s,a,o){if(!r(s))throw Error(i(299));var d=!1,p="",x=Tp,w=Dp,C=Ap,O=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),a=hb(s,1,!0,a,o??null,d,p,O,x,w,C,Sb),a.context=db(null),o=a.current,d=ci(),d=_n(d),p=Bs(d),p.callback=null,Hs(o,p,d),o=d,a.current.lanes=o,Rn(a,o),Wi(a),s[Jn]=a.current,df(s),new eu(a)},$l.version="19.2.0",$l}var Ob;function yN(){if(Ob)return Of.exports;Ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Of.exports=bN(),Of.exports}var vN=yN();var zb="popstate";function wN(n={}){function t(i,r){let{pathname:l,search:c,hash:u}=i.location;return M0("",{pathname:l,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:wo(r)}return kN(t,e,null,n)}function De(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ji(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function Lb(n,t){return{usr:n.state,key:n.key,idx:t}}function M0(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Xa(t):t,state:e,key:t&&t.key||i||SN()}}function wo({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Xa(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function kN(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:l=!1}=i,c=r.history,u="POP",h=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function b(){u="POP";let _=m(),M=_==null?null:_-g;g=_,h&&h({action:u,location:S.location,delta:M})}function y(_,M){u="PUSH";let E=M0(S.location,_,M);g=m()+1;let A=Lb(E,g),U=S.createHref(E);try{c.pushState(A,"",U)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(U)}l&&h&&h({action:u,location:S.location,delta:1})}function v(_,M){u="REPLACE";let E=M0(S.location,_,M);g=m();let A=Lb(E,g),U=S.createHref(E);c.replaceState(A,"",U),l&&h&&h({action:u,location:S.location,delta:0})}function k(_){return NN(_)}let S={get action(){return u},get location(){return n(r,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(zb,b),h=_,()=>{r.removeEventListener(zb,b),h=null}},createHref(_){return t(r,_)},createURL:k,encodeLocation(_){let M=k(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:v,go(_){return c.go(_)}};return S}function NN(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),De(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:wo(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function R1(n,t,e="/"){return _N(n,t,e,!1)}function _N(n,t,e,i){let r=typeof t=="string"?Xa(t):t,l=_s(r.pathname||"/",e);if(l==null)return null;let c=O1(n);jN(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let g=PN(l);u=zN(c[h],g,i)}return u}function O1(n,t=[],e=[],i="",r=!1){let l=(c,u,h=r,g)=>{let m={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;De(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let b=Ns([i,m.relativePath]),y=e.concat(m);c.children&&c.children.length>0&&(De(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),O1(c.children,t,y,b,h)),!(c.path==null&&!c.index)&&t.push({path:b,score:RN(b,c.index),routesMeta:y})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let h of z1(c.path))l(c,u,!0,h)}),t}function z1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return r?[l,""]:[l];let c=z1(i.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),r&&u.push(...c),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function jN(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:ON(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var MN=/^:[\w-]+$/,CN=3,EN=2,TN=1,DN=10,AN=-2,Pb=n=>n==="*";function RN(n,t){let e=n.split("/"),i=e.length;return e.some(Pb)&&(i+=AN),t&&(i+=EN),e.filter(r=>!Pb(r)).reduce((r,l)=>r+(MN.test(l)?CN:l===""?TN:DN),i)}function ON(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function zN(n,t,e=!1){let{routesMeta:i}=n,r={},l="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],g=u===i.length-1,m=l==="/"?t:t.slice(l.length)||"/",b=Uu({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},m),y=h.route;if(!b&&g&&e&&!i[i.length-1].route.index&&(b=Uu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Ns([l,b.pathname]),pathnameBase:FN(Ns([l,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(l=Ns([l,b.pathnameBase]))}return c}function Uu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=LN(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:b},y)=>{if(m==="*"){let k=u[y]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[y];return b&&!v?g[m]=void 0:g[m]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function LN(n,t=!1,e=!0){ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function PN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function _s(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var BN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HN=n=>BN.test(n);function VN(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Xa(n):n,l;if(e)if(HN(e))l=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?l=Bb(e.substring(1),"/"):l=Bb(e,t)}else l=t;return{pathname:l,search:YN(i),hash:IN(r)}}function Bb(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Bf(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ng(n){let t=UN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function ig(n,t,e,i=!1){let r;typeof n=="string"?r=Xa(n):(r={...n},De(!r.pathname||!r.pathname.includes("?"),Bf("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),Bf("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),Bf("#","search","hash",r)));let l=n===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),b-=1;r.pathname=y.join("/")}u=b>=0?t[b]:"/"}let h=VN(r,u),g=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(g||m)&&(h.pathname+="/"),h}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),FN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L1=["POST","PUT","PATCH","DELETE"];new Set(L1);var WN=["GET",...L1];new Set(WN);var Qa=N.createContext(null);Qa.displayName="DataRouter";var lh=N.createContext(null);lh.displayName="DataRouterState";N.createContext(!1);var P1=N.createContext({isTransitioning:!1});P1.displayName="ViewTransition";var $N=N.createContext(new Map);$N.displayName="Fetchers";var GN=N.createContext(null);GN.displayName="Await";var Bi=N.createContext(null);Bi.displayName="Navigation";var Ro=N.createContext(null);Ro.displayName="Location";var Hi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var sg=N.createContext(null);sg.displayName="RouteError";function XN(n,{relative:t}={}){De(Za(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=N.useContext(Bi),{hash:r,pathname:l,search:c}=Oo(n,{relative:t}),u=l;return e!=="/"&&(u=l==="/"?e:Ns([e,l])),i.createHref({pathname:u,search:c,hash:r})}function Za(){return N.useContext(Ro)!=null}function js(){return De(Za(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ro).location}var B1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H1(n){N.useContext(Bi).static||N.useLayoutEffect(n)}function rg(){let{isDataRoute:n}=N.useContext(Hi);return n?u_():QN()}function QN(){De(Za(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Qa),{basename:t,navigator:e}=N.useContext(Bi),{matches:i}=N.useContext(Hi),{pathname:r}=js(),l=JSON.stringify(ng(i)),c=N.useRef(!1);return H1(()=>{c.current=!0}),N.useCallback((h,g={})=>{if(ji(c.current,B1),!c.current)return;if(typeof h=="number"){e.go(h);return}let m=ig(h,JSON.parse(l),r,g.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ns([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,l,r,n])}var ZN=N.createContext(null);function KN(n){let t=N.useContext(Hi).outlet;return N.useMemo(()=>t&&N.createElement(ZN.Provider,{value:n},t),[t,n])}function Oo(n,{relative:t}={}){let{matches:e}=N.useContext(Hi),{pathname:i}=js(),r=JSON.stringify(ng(e));return N.useMemo(()=>ig(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function JN(n,t){return V1(n,t)}function V1(n,t,e,i,r){De(Za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Bi),{matches:c}=N.useContext(Hi),u=c[c.length-1],h=u?u.params:{},g=u?u.pathname:"/",m=u?u.pathnameBase:"/",b=u&&u.route;{let E=b&&b.path||"";U1(g,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=js(),v;if(t){let E=typeof t=="string"?Xa(t):t;De(m==="/"||E.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let k=v.pathname||"/",S=k;if(m!=="/"){let E=m.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=R1(n,{pathname:S});ji(b||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ji(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=s_(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Ns([m,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:Ns([m,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,e,i,r);return t&&M?N.createElement(Ro.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function t_(){let n=c_(),t=qN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),e?N.createElement("pre",{style:r},e):null,c)}var e_=N.createElement(t_,null),n_=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?N.createElement(Hi.Provider,{value:this.props.routeContext},N.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i_({routeContext:n,match:t,children:e}){let i=N.useContext(Qa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Hi.Provider,{value:n},e)}function s_(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let m=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);De(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(e)for(let m=0;m<l.length;m++){let b=l[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=m),b.route.id){let{loaderData:y,errors:v}=e,k=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||k){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let g=e&&i?(m,b)=>{i(m,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:b})}:void 0;return l.reduceRight((m,b,y)=>{let v,k=!1,S=null,_=null;e&&(v=c&&b.route.id?c[b.route.id]:void 0,S=b.route.errorElement||e_,u&&(h<0&&y===0?(U1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):h===y&&(k=!0,_=b.route.hydrateFallbackElement||null)));let M=t.concat(l.slice(0,y+1)),E=()=>{let A;return v?A=S:k?A=_:b.route.Component?A=N.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=m,N.createElement(i_,{match:b,routeContext:{outlet:m,matches:M,isDataRoute:e!=null},children:A})};return e&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?N.createElement(n_,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:E(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:g}):E()},null)}function ag(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(n){let t=N.useContext(Qa);return De(t,ag(n)),t}function a_(n){let t=N.useContext(lh);return De(t,ag(n)),t}function l_(n){let t=N.useContext(Hi);return De(t,ag(n)),t}function lg(n){let t=l_(n),e=t.matches[t.matches.length-1];return De(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function o_(){return lg("useRouteId")}function c_(){let n=N.useContext(sg),t=a_("useRouteError"),e=lg("useRouteError");return n!==void 0?n:t.errors?.[e]}function u_(){let{router:n}=r_("useNavigate"),t=lg("useNavigate"),e=N.useRef(!1);return H1(()=>{e.current=!0}),N.useCallback(async(r,l={})=>{ji(e.current,B1),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...l}))},[n,t])}var Hb={};function U1(n,t,e){!t&&!Hb[n]&&(Hb[n]=!0,ji(!1,e))}N.memo(h_);function h_({routes:n,future:t,state:e,unstable_onError:i}){return V1(n,void 0,e,i,t)}function d_({to:n,replace:t,state:e,relative:i}){De(Za(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=N.useContext(Bi);ji(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Hi),{pathname:c}=js(),u=rg(),h=ig(n,ng(l),c,i==="path"),g=JSON.stringify(h);return N.useEffect(()=>{u(JSON.parse(g),{replace:t,state:e,relative:i})},[u,g,i,t,e]),null}function f_(n){return KN(n.context)}function Si(n){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g_({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:l=!1}){De(!Za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof e=="string"&&(e=Xa(e));let{pathname:h="/",search:g="",hash:m="",state:b=null,key:y="default"}=e,v=N.useMemo(()=>{let k=_s(h,c);return k==null?null:{location:{pathname:k,search:g,hash:m,state:b,key:y},navigationType:i}},[c,h,g,m,b,y,i]);return ji(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Bi.Provider,{value:u},N.createElement(Ro.Provider,{children:t,value:v}))}function m_({children:n,location:t}){return JN(C0(n),t)}function C0(n,t=[]){let e=[];return N.Children.forEach(n,(i,r)=>{if(!N.isValidElement(i))return;let l=[...t,r];if(i.type===N.Fragment){e.push.apply(e,C0(i.props.children,l));return}De(i.type===Si,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=C0(i.props.children,l)),e.push(c)}),e}var Du="get",Au="application/x-www-form-urlencoded";function oh(n){return n!=null&&typeof n.tagName=="string"}function p_(n){return oh(n)&&n.tagName.toLowerCase()==="button"}function x_(n){return oh(n)&&n.tagName.toLowerCase()==="form"}function b_(n){return oh(n)&&n.tagName.toLowerCase()==="input"}function y_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v_(n,t){return n.button===0&&(!t||t==="_self")&&!y_(n)}var iu=null;function w_(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var S_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(n){return n!=null&&!S_.has(n)?(ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):n}function k_(n,t){let e,i,r,l,c;if(x_(n)){let u=n.getAttribute("action");i=u?_s(u,t):null,e=n.getAttribute("method")||Du,r=Hf(n.getAttribute("enctype"))||Au,l=new FormData(n)}else if(p_(n)||b_(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?_s(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Du,r=Hf(n.getAttribute("formenctype"))||Hf(u.getAttribute("enctype"))||Au,l=new FormData(u,n),!w_()){let{name:g,type:m,value:b}=n;if(m==="image"){let y=g?`${g}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else g&&l.append(g,b)}}else{if(oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Du,i=null,r=Au,c=n}return l&&r==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function N_(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&_s(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function __(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function M_(n,t,e){let i=await Promise.all(n.map(async r=>{let l=t.routes[r.route.id];if(l){let c=await __(l,e);return c.links?c.links():[]}return[]}));return D_(i.flat(1).filter(j_).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Vb(n,t,e,i,r,l){let c=(h,g)=>e[g]?h.route.id!==e[g].route.id:!0,u=(h,g)=>e[g].pathname!==h.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,g)=>c(h,g)||u(h,g)):l==="data"?t.filter((h,g)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,g)||u(h,g))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function C_(n,t,{includeHydrateFallback:e}={}){return E_(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function E_(n){return[...new Set(n)]}function T_(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function D_(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let l=JSON.stringify(T_(r));return e.has(l)||(e.add(l),i.push({key:l,link:r})),i},[])}function F1(){let n=N.useContext(Qa);return og(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function A_(){let n=N.useContext(lh);return og(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cg=N.createContext(void 0);cg.displayName="FrameworkContext";function Y1(){let n=N.useContext(cg);return og(n,"You must render this element inside a <HydratedRouter> element"),n}function R_(n,t){let e=N.useContext(cg),[i,r]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:g,onMouseLeave:m,onTouchStart:b}=t,y=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=M=>{M.forEach(E=>{c(E.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[n]),N.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},k=()=>{r(!1),c(!1)};return e?n!=="intent"?[l,y,{}]:[l,y,{onFocus:Gl(u,v),onBlur:Gl(h,k),onMouseEnter:Gl(g,v),onMouseLeave:Gl(m,k),onTouchStart:Gl(b,v)}]:[!1,y,{}]}function Gl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function O_({page:n,...t}){let{router:e}=F1(),i=N.useMemo(()=>R1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?N.createElement(L_,{page:n,matches:i,...t}):null}function z_(n){let{manifest:t,routeModules:e}=Y1(),[i,r]=N.useState([]);return N.useEffect(()=>{let l=!1;return M_(n,t,e).then(c=>{l||r(c)}),()=>{l=!0}},[n,t,e]),i}function L_({page:n,matches:t,...e}){let i=js(),{manifest:r,routeModules:l}=Y1(),{basename:c}=F1(),{loaderData:u,matches:h}=A_(),g=N.useMemo(()=>Vb(n,t,h,r,i,"data"),[n,t,h,r,i]),m=N.useMemo(()=>Vb(n,t,h,r,i,"assets"),[n,t,h,r,i]),b=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,S=!1;if(t.forEach(M=>{let E=r.routes[M.route.id];!E||!E.hasLoader||(!g.some(A=>A.route.id===M.route.id)&&M.route.id in u&&l[M.route.id]?.shouldRevalidate||E.hasClientLoader?S=!0:k.add(M.route.id))}),k.size===0)return[];let _=N_(n,c,"data");return S&&k.size>0&&_.searchParams.set("_routes",t.filter(M=>k.has(M.route.id)).map(M=>M.route.id).join(",")),[_.pathname+_.search]},[c,u,i,r,g,t,n,l]),y=N.useMemo(()=>C_(m,r),[m,r]),v=z_(m);return N.createElement(N.Fragment,null,b.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...e})),y.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...e})),v.map(({key:k,link:S})=>N.createElement("link",{key:k,nonce:e.nonce,...S})))}function P_(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I1&&(window.__reactRouterVersion="7.9.6")}catch{}function B_({basename:n,children:t,window:e}){let i=N.useRef();i.current==null&&(i.current=wN({window:e,v5Compat:!0}));let r=i.current,[l,c]=N.useState({action:r.action,location:r.location}),u=N.useCallback(h=>{N.startTransition(()=>c(h))},[c]);return N.useLayoutEffect(()=>r.listen(u),[r,u]),N.createElement(g_,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:r})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=N.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:l,replace:c,state:u,target:h,to:g,preventScrollReset:m,viewTransition:b,...y},v){let{basename:k}=N.useContext(Bi),S=typeof g=="string"&&q1.test(g),_,M=!1;if(typeof g=="string"&&S&&(_=g,I1))try{let V=new URL(window.location.href),nt=g.startsWith("//")?new URL(V.protocol+g):new URL(g),P=_s(nt.pathname,k);nt.origin===V.origin&&P!=null?g=P+nt.search+nt.hash:M=!0}catch{ji(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=XN(g,{relative:r}),[A,U,R]=R_(i,y),q=U_(g,{replace:c,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:b});function F(V){t&&t(V),V.defaultPrevented||q(V)}let Q=N.createElement("a",{...y,...R,href:_||E,onClick:M||l?t:F,ref:P_(v,U),target:h,"data-discover":!S&&e==="render"?"true":void 0});return A&&!S?N.createElement(N.Fragment,null,Q,N.createElement(O_,{page:E})):Q});ug.displayName="Link";var W1=N.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:l,to:c,viewTransition:u,children:h,...g},m){let b=Oo(c,{relative:g.relative}),y=js(),v=N.useContext(lh),{navigator:k,basename:S}=N.useContext(Bi),_=v!=null&&W_(b)&&u===!0,M=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,E=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(E=E.toLowerCase(),A=A?A.toLowerCase():null,M=M.toLowerCase()),A&&S&&(A=_s(A,S)||A);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let R=E===M||!r&&E.startsWith(M)&&E.charAt(U)==="/",q=A!=null&&(A===M||!r&&A.startsWith(M)&&A.charAt(M.length)==="/"),F={isActive:R,isPending:q,isTransitioning:_},Q=R?t:void 0,V;typeof i=="function"?V=i(F):V=[i,R?"active":null,q?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let nt=typeof l=="function"?l(F):l;return N.createElement(ug,{...g,"aria-current":Q,className:V,ref:m,style:nt,to:c,viewTransition:u},typeof h=="function"?h(F):h)});W1.displayName="NavLink";var H_=N.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:l,method:c=Du,action:u,onSubmit:h,relative:g,preventScrollReset:m,viewTransition:b,...y},v)=>{let k=I_(),S=q_(u,{relative:g}),_=c.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&q1.test(u),E=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let U=A.nativeEvent.submitter,R=U?.getAttribute("formmethod")||c;k(U||A.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:r,state:l,relative:g,preventScrollReset:m,viewTransition:b})};return N.createElement("form",{ref:v,method:_,action:S,onSubmit:i?h:E,...y,"data-discover":!M&&n==="render"?"true":void 0})});H_.displayName="Form";function V_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(n){let t=N.useContext(Qa);return De(t,V_(n)),t}function U_(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=rg(),h=js(),g=Oo(n,{relative:l});return N.useCallback(m=>{if(v_(m,t)){m.preventDefault();let b=e!==void 0?e:wo(h)===wo(g);u(n,{replace:b,state:i,preventScrollReset:r,relative:l,viewTransition:c})}},[h,u,g,e,i,t,n,r,l,c])}var F_=0,Y_=()=>`__${String(++F_)}__`;function I_(){let{router:n}=$1("useSubmit"),{basename:t}=N.useContext(Bi),e=o_();return N.useCallback(async(i,r={})=>{let{action:l,method:c,encType:u,formData:h,body:g}=k_(i,t);if(r.navigate===!1){let m=r.fetcherKey||Y_();await n.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:g,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:h,body:g,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function q_(n,{relative:t}={}){let{basename:e}=N.useContext(Bi),i=N.useContext(Hi);De(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),l={...Oo(n||".",{relative:t})},c=js();if(n==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(b=>b).forEach(b=>u.append("index",b));let m=u.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Ns([e,l.pathname])),wo(l)}function W_(n,{relative:t}={}){let e=N.useContext(P1);De(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$1("useViewTransitionState"),r=Oo(n,{relative:t});if(!e.isTransitioning)return!1;let l=_s(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=_s(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Uu(r.pathname,c)!=null||Uu(r.pathname,l)!=null}var io=A1();function $_(){return f.jsxs("div",{className:"flex items-center gap-x-3 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[f.jsx("div",{className:"relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-white dark:bg-gray-700 rounded-full",children:f.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"JD"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"John Doe"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"john.doe@example.com"})]})]})}function G1(n){const t=n.getMonth()+1,e=n.getDate(),i=n.getFullYear(),r=t.toString().split("").reduce((h,g)=>h+parseInt(g),0),l=e.toString().split("").reduce((h,g)=>h+parseInt(g),0),c=i.toString().split("").reduce((h,g)=>h+parseInt(g),0);let u=r+l+c;for(;u>9&&u!==11&&u!==22&&u!==33;)u=u.toString().split("").reduce((h,g)=>h+parseInt(g),0);return u}function X1(n){const t={1:{number:1,title:"New Beginnings",description:"Leadership, initiative, and fresh starts tend to receive more focus. A day for taking action and starting new projects."},2:{number:2,title:"Cooperation",description:"Cooperation, diplomacy, and partnerships tend to receive more focus. A day for collaboration and building relationships."},3:{number:3,title:"Creativity & Communication",description:"Socializing and the arts tend to receive more focus. A day favorable for creative endeavors and effective communication."},4:{number:4,title:"Stability & Organization",description:"Practicality, stability, and organization tend to receive more focus. A day for building foundations and structure."},5:{number:5,title:"Change & Adventure",description:"Change, adventure, and freedom tend to receive more focus. A day for exploration and embracing new experiences."},6:{number:6,title:"Nurturing & Responsibility",description:"Nurturing, responsibility, and domesticity tend to receive more focus. A day for caring for others and home matters."},7:{number:7,title:"Introspection & Wisdom",description:"Introspection, wisdom, and seeking knowledge tend to receive more focus. A day for reflection and spiritual growth."},8:{number:8,title:"Abundance & Power",description:"Abundance, power, and manifestation tend to receive more focus. A day for achieving goals and material success."},9:{number:9,title:"Completion & Compassion",description:"Completion, humanitarianism, and compassion tend to receive more focus. A day for service to others and endings."},11:{number:11,title:"Intuition & Inspiration",description:"Intuition, inspiration, and spiritual insight tend to receive more focus. A master number day for higher awareness."},22:{number:22,title:"Master Builder",description:"Master building, practical idealism, and large-scale projects tend to receive more focus. A master number day for manifestation."},33:{number:33,title:"Master Teacher",description:"Master teaching, compassion, and healing tend to receive more focus. A master number day for service to humanity."}};return t[n]||t[1]}function G_({timezone:n="America/New_York",city:t="New York",country:e="United States",onRemove:i}){const[r,l]=N.useState(new Date);N.useEffect(()=>{const E=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(E)},[]);const u=new Intl.DateTimeFormat("en-US",{timeZone:n,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,day:"2-digit",month:"short",year:"numeric"}).formatToParts(r),h=u.find(E=>E.type==="hour").value+":"+u.find(E=>E.type==="minute").value+":"+u.find(E=>E.type==="second").value+" "+u.find(E=>E.type==="dayPeriod").value,g=u.find(E=>E.type==="month").value+" "+u.find(E=>E.type==="day").value+", "+u.find(E=>E.type==="year").value,m=u.find(E=>E.type==="month").value,b=parseInt(u.find(E=>E.type==="day").value),y=parseInt(u.find(E=>E.type==="year").value),k={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}[m]||1,S=new Date(y,k-1,b),_=G1(S),M=X1(_);return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border border-gray-200 dark:border-gray-700 relative",children:[i&&f.jsx("button",{type:"button",onClick:i,className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove clock",children:f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:t}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e}),f.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 font-mono",children:h}),f.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:g}),f.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:M.number}),f.jsx("span",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:M.title})]})})]})]})}const Xl=[{timezone:"America/New_York",city:"New York",country:"United States"},{timezone:"America/Los_Angeles",city:"Los Angeles",country:"United States"},{timezone:"America/Chicago",city:"Chicago",country:"United States"},{timezone:"Europe/London",city:"London",country:"United Kingdom"},{timezone:"Europe/Paris",city:"Paris",country:"France"},{timezone:"Europe/Berlin",city:"Berlin",country:"Germany"},{timezone:"Asia/Tokyo",city:"Tokyo",country:"Japan"},{timezone:"Asia/Shanghai",city:"Shanghai",country:"China"},{timezone:"Asia/Hong_Kong",city:"Hong Kong",country:"Hong Kong"},{timezone:"Asia/Dubai",city:"Dubai",country:"UAE"},{timezone:"Asia/Singapore",city:"Singapore",country:"Singapore"},{timezone:"Australia/Sydney",city:"Sydney",country:"Australia"},{timezone:"America/Toronto",city:"Toronto",country:"Canada"},{timezone:"America/Sao_Paulo",city:"So Paulo",country:"Brazil"},{timezone:"America/Mexico_City",city:"Mexico City",country:"Mexico"}];function X_(){const[n,t]=N.useState(()=>{const y=localStorage.getItem("darkMode");return y?JSON.parse(y):!1}),[e,i]=N.useState(()=>{try{const y=localStorage.getItem("sidebarClocks");if(y){const v=JSON.parse(y);if(Array.isArray(v)&&v.length>0)return v}}catch(y){console.error("Error loading clocks from localStorage:",y)}return[{timezone:"America/New_York",city:"New York",country:"United States",id:Date.now()}]}),[r,l]=N.useState(!1),[c,u]=N.useState(Xl[0].timezone);N.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(n))},[n]),N.useEffect(()=>{localStorage.setItem("sidebarClocks",JSON.stringify(e))},[e]);const h=()=>{const y=Xl.find(v=>v.timezone===c);if(y){if(e.some(S=>S.timezone===y.timezone)){alert("This clock is already added");return}const k={...y,id:Date.now()};i([...e,k]),l(!1),u(Xl[0].timezone)}},g=y=>{if(e.length<=1){alert("You must have at least one clock");return}i(e.filter(v=>v.id!==y))},m=()=>{t(!n)},b=[{path:"/",label:"Dashboard"},{path:"/news",label:"News"},{path:"/trading",label:"Charts"},{path:"/projection",label:"Projection"},{path:"/projection/fib",label:"FIB"},{path:"/data",label:"Data"},{path:"/api",label:"API"},{path:"/settings",label:"Settings"}];return f.jsxs(f.Fragment,{children:[f.jsxs("div",{id:"application-sidebar",className:"hs-overlay hs-overlay-open:translate-x-0 -translate-x-full transition-all duration-300 transform hidden fixed top-0 start-0 bottom-0 z-[60] w-64 bg-white dark:bg-gray-900 border-e border-gray-200 dark:border-gray-700 pt-7 pb-10 overflow-y-auto lg:translate-x-0 lg:static lg:end-auto lg:bottom-0 lg:z-[60] lg:block lg:border-e-0 lg:pt-0 lg:w-64",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(ug,{className:"flex-none text-xl font-semibold text-gray-800 dark:text-white hover:text-gray-600 dark:hover:text-gray-300 transition-colors",to:"/","aria-label":"Brand",children:"App"}),f.jsx("button",{type:"button",className:"lg:hidden text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","data-hs-overlay":"#application-sidebar",children:f.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m18 6-12 12"}),f.jsx("path",{d:"m6 6 12 12"})]})})]})}),f.jsx("nav",{className:"hs-accordion-group p-6 w-full flex flex-col flex-wrap","data-hs-accordion-always-open":!0,children:f.jsx("ul",{className:"space-y-1.5",children:b.map(y=>f.jsx("li",{children:f.jsx(W1,{to:y.path,className:({isActive:v})=>`flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 ${v?"bg-gray-100 dark:bg-gray-800":""}`,children:f.jsx("span",{children:y.label})})},y.path))})}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 space-y-4",children:[f.jsx("div",{className:"space-y-3 mb-4 max-h-[400px] overflow-y-auto",children:e.map(y=>f.jsx(G_,{timezone:y.timezone,city:y.city,country:y.country,onRemove:e.length>1?()=>g(y.id):null},y.id))}),r?f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Timezone"}),f.jsx("select",{value:c,onChange:y=>u(y.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Xl.map(y=>f.jsxs("option",{value:y.timezone,children:[y.city,", ",y.country]},y.timezone))})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:h,className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Add"}),f.jsx("button",{type:"button",onClick:()=>{l(!1),u(Xl[0].timezone)},className:"flex-1 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"})]})]}):f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"w-full px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Clock"]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n?"Dark Mode":"Light Mode"}),f.jsx("button",{type:"button",onClick:m,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",role:"switch","aria-checked":n,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),f.jsx($_,{})]})]}),f.jsx("div",{className:"hs-overlay-backdrop fixed inset-0 z-[59] bg-gray-900 bg-opacity-50 hidden"})]})}function Q_(){return f.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[f.jsx(X_,{}),f.jsxs("main",{className:"flex-1 overflow-y-auto",children:[f.jsx("div",{className:"sticky top-0 inset-x-0 z-20 bg-white dark:bg-gray-900 border-y border-gray-200 dark:border-gray-700 px-4 sm:px-6 md:px-8 lg:hidden",children:f.jsx("div",{className:"flex justify-between items-center gap-x-4",children:f.jsxs("div",{className:"flex items-center gap-x-4",children:[f.jsx("button",{type:"button",className:"text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","data-hs-overlay":"#application-sidebar","aria-controls":"application-sidebar","aria-label":"Toggle navigation",children:f.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),f.jsx("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),f.jsx("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]})}),f.jsx("span",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"App"})]})})}),f.jsx("div",{className:"p-6",children:f.jsx(f_,{})})]})]})}function Z_(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return N.useMemo(()=>i=>{t.forEach(r=>r(i))},t)}const ch=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ka(n){const t=Object.prototype.toString.call(n);return t==="[object Window]"||t==="[object global]"}function hg(n){return"nodeType"in n}function Zn(n){var t,e;return n?Ka(n)?n:hg(n)&&(t=(e=n.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function dg(n){const{Document:t}=Zn(n);return n instanceof t}function zo(n){return Ka(n)?!1:n instanceof Zn(n).HTMLElement}function Q1(n){return n instanceof Zn(n).SVGElement}function Ja(n){return n?Ka(n)?n.document:hg(n)?dg(n)?n:zo(n)||Q1(n)?n.ownerDocument:document:document:document}const Ji=ch?N.useLayoutEffect:N.useEffect;function fg(n){const t=N.useRef(n);return Ji(()=>{t.current=n}),N.useCallback(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}function K_(){const n=N.useRef(null),t=N.useCallback((i,r)=>{n.current=setInterval(i,r)},[]),e=N.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[t,e]}function So(n,t){t===void 0&&(t=[n]);const e=N.useRef(n);return Ji(()=>{e.current!==n&&(e.current=n)},t),e}function Lo(n,t){const e=N.useRef();return N.useMemo(()=>{const i=n(e.current);return e.current=i,i},[...t])}function Fu(n){const t=fg(n),e=N.useRef(null),i=N.useCallback(r=>{r!==e.current&&t?.(r,e.current),e.current=r},[]);return[e,i]}function E0(n){const t=N.useRef();return N.useEffect(()=>{t.current=n},[n]),t.current}let Vf={};function Po(n,t){return N.useMemo(()=>{if(t)return t;const e=Vf[n]==null?0:Vf[n]+1;return Vf[n]=e,n+"-"+e},[n,t])}function Z1(n){return function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return i.reduce((l,c)=>{const u=Object.entries(c);for(const[h,g]of u){const m=l[h];m!=null&&(l[h]=m+n*g)}return l},{...t})}}const za=Z1(1),ko=Z1(-1);function J_(n){return"clientX"in n&&"clientY"in n}function gg(n){if(!n)return!1;const{KeyboardEvent:t}=Zn(n.target);return t&&n instanceof t}function tj(n){if(!n)return!1;const{TouchEvent:t}=Zn(n.target);return t&&n instanceof t}function T0(n){if(tj(n)){if(n.touches&&n.touches.length){const{clientX:t,clientY:e}=n.touches[0];return{x:t,y:e}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:t,clientY:e}=n.changedTouches[0];return{x:t,y:e}}}return J_(n)?{x:n.clientX,y:n.clientY}:null}const ur=Object.freeze({Translate:{toString(n){if(!n)return;const{x:t,y:e}=n;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:t,scaleY:e}=n;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(n){if(n)return[ur.Translate.toString(n),ur.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:t,duration:e,easing:i}=n;return t+" "+e+"ms "+i}}}),Ub="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ej(n){return n.matches(Ub)?n:n.querySelector(Ub)}const nj={display:"none"};function ij(n){let{id:t,value:e}=n;return $n.createElement("div",{id:t,style:nj},e)}function sj(n){let{id:t,announcement:e,ariaLiveType:i="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $n.createElement("div",{id:t,style:r,role:"status","aria-live":i,"aria-atomic":!0},e)}function rj(){const[n,t]=N.useState("");return{announce:N.useCallback(i=>{i!=null&&t(i)},[]),announcement:n}}const K1=N.createContext(null);function aj(n){const t=N.useContext(K1);N.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(n)},[n,t])}function lj(){const[n]=N.useState(()=>new Set),t=N.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[N.useCallback(i=>{let{type:r,event:l}=i;n.forEach(c=>{var u;return(u=c[r])==null?void 0:u.call(c,l)})},[n]),t]}const oj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cj={onDragStart(n){let{active:t}=n;return"Picked up draggable item "+t.id+"."},onDragOver(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(n){let{active:t,over:e}=n;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(n){let{active:t}=n;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function uj(n){let{announcements:t=cj,container:e,hiddenTextDescribedById:i,screenReaderInstructions:r=oj}=n;const{announce:l,announcement:c}=rj(),u=Po("DndLiveRegion"),[h,g]=N.useState(!1);if(N.useEffect(()=>{g(!0)},[]),aj(N.useMemo(()=>({onDragStart(b){let{active:y}=b;l(t.onDragStart({active:y}))},onDragMove(b){let{active:y,over:v}=b;t.onDragMove&&l(t.onDragMove({active:y,over:v}))},onDragOver(b){let{active:y,over:v}=b;l(t.onDragOver({active:y,over:v}))},onDragEnd(b){let{active:y,over:v}=b;l(t.onDragEnd({active:y,over:v}))},onDragCancel(b){let{active:y,over:v}=b;l(t.onDragCancel({active:y,over:v}))}}),[l,t])),!h)return null;const m=$n.createElement($n.Fragment,null,$n.createElement(ij,{id:i,value:r.draggable}),$n.createElement(sj,{id:u,announcement:c}));return e?io.createPortal(m,e):m}var un;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function Yu(){}function Iu(n,t){return N.useMemo(()=>({sensor:n,options:t??{}}),[n,t])}function J1(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return N.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const Pi=Object.freeze({x:0,y:0});function t2(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function e2(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return e-i}function hj(n,t){let{data:{value:e}}=n,{data:{value:i}}=t;return i-e}function Fb(n){let{left:t,top:e,height:i,width:r}=n;return[{x:t,y:e},{x:t+r,y:e},{x:t,y:e+i},{x:t+r,y:e+i}]}function n2(n,t){if(!n||n.length===0)return null;const[e]=n;return e[t]}function Yb(n,t,e){return t===void 0&&(t=n.left),e===void 0&&(e=n.top),{x:t+n.width*.5,y:e+n.height*.5}}const Ru=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=Yb(t,t.left,t.top),l=[];for(const c of i){const{id:u}=c,h=e.get(u);if(h){const g=t2(Yb(h),r);l.push({id:u,data:{droppableContainer:c,value:g}})}}return l.sort(e2)},dj=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=Fb(t),l=[];for(const c of i){const{id:u}=c,h=e.get(u);if(h){const g=Fb(h),m=r.reduce((y,v,k)=>y+t2(g[k],v),0),b=Number((m/4).toFixed(4));l.push({id:u,data:{droppableContainer:c,value:b}})}}return l.sort(e2)};function fj(n,t){const e=Math.max(t.top,n.top),i=Math.max(t.left,n.left),r=Math.min(t.left+t.width,n.left+n.width),l=Math.min(t.top+t.height,n.top+n.height),c=r-i,u=l-e;if(i<r&&e<l){const h=t.width*t.height,g=n.width*n.height,m=c*u,b=m/(h+g-m);return Number(b.toFixed(4))}return 0}const gj=n=>{let{collisionRect:t,droppableRects:e,droppableContainers:i}=n;const r=[];for(const l of i){const{id:c}=l,u=e.get(c);if(u){const h=fj(u,t);h>0&&r.push({id:c,data:{droppableContainer:l,value:h}})}}return r.sort(hj)};function mj(n,t,e){return{...n,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function i2(n,t){return n&&t?{x:n.left-t.left,y:n.top-t.top}:Pi}function pj(n){return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];return r.reduce((c,u)=>({...c,top:c.top+n*u.y,bottom:c.bottom+n*u.y,left:c.left+n*u.x,right:c.right+n*u.x}),{...e})}}const xj=pj(1);function bj(n){if(n.startsWith("matrix3d(")){const t=n.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(n.startsWith("matrix(")){const t=n.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function yj(n,t,e){const i=bj(t);if(!i)return n;const{scaleX:r,scaleY:l,x:c,y:u}=i,h=n.left-c-(1-r)*parseFloat(e),g=n.top-u-(1-l)*parseFloat(e.slice(e.indexOf(" ")+1)),m=r?n.width/r:n.width,b=l?n.height/l:n.height;return{width:m,height:b,top:g,right:h+m,bottom:g+b,left:h}}const vj={ignoreTransform:!1};function tl(n,t){t===void 0&&(t=vj);let e=n.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:m}=Zn(n).getComputedStyle(n);g&&(e=yj(e,g,m))}const{top:i,left:r,width:l,height:c,bottom:u,right:h}=e;return{top:i,left:r,width:l,height:c,bottom:u,right:h}}function Ib(n){return tl(n,{ignoreTransform:!0})}function wj(n){const t=n.innerWidth,e=n.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function Sj(n,t){return t===void 0&&(t=Zn(n).getComputedStyle(n)),t.position==="fixed"}function kj(n,t){t===void 0&&(t=Zn(n).getComputedStyle(n));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const l=t[r];return typeof l=="string"?e.test(l):!1})}function uh(n,t){const e=[];function i(r){if(t!=null&&e.length>=t||!r)return e;if(dg(r)&&r.scrollingElement!=null&&!e.includes(r.scrollingElement))return e.push(r.scrollingElement),e;if(!zo(r)||Q1(r)||e.includes(r))return e;const l=Zn(n).getComputedStyle(r);return r!==n&&kj(r,l)&&e.push(r),Sj(r,l)?e:i(r.parentNode)}return n?i(n):e}function s2(n){const[t]=uh(n,1);return t??null}function Uf(n){return!ch||!n?null:Ka(n)?n:hg(n)?dg(n)||n===Ja(n).scrollingElement?window:zo(n)?n:null:null}function r2(n){return Ka(n)?n.scrollX:n.scrollLeft}function a2(n){return Ka(n)?n.scrollY:n.scrollTop}function D0(n){return{x:r2(n),y:a2(n)}}var gn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(gn||(gn={}));function l2(n){return!ch||!n?!1:n===document.scrollingElement}function o2(n){const t={x:0,y:0},e=l2(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-e.width,y:n.scrollHeight-e.height},r=n.scrollTop<=t.y,l=n.scrollLeft<=t.x,c=n.scrollTop>=i.y,u=n.scrollLeft>=i.x;return{isTop:r,isLeft:l,isBottom:c,isRight:u,maxScroll:i,minScroll:t}}const Nj={x:.2,y:.2};function _j(n,t,e,i,r){let{top:l,left:c,right:u,bottom:h}=e;i===void 0&&(i=10),r===void 0&&(r=Nj);const{isTop:g,isBottom:m,isLeft:b,isRight:y}=o2(n),v={x:0,y:0},k={x:0,y:0},S={height:t.height*r.y,width:t.width*r.x};return!g&&l<=t.top+S.height?(v.y=gn.Backward,k.y=i*Math.abs((t.top+S.height-l)/S.height)):!m&&h>=t.bottom-S.height&&(v.y=gn.Forward,k.y=i*Math.abs((t.bottom-S.height-h)/S.height)),!y&&u>=t.right-S.width?(v.x=gn.Forward,k.x=i*Math.abs((t.right-S.width-u)/S.width)):!b&&c<=t.left+S.width&&(v.x=gn.Backward,k.x=i*Math.abs((t.left+S.width-c)/S.width)),{direction:v,speed:k}}function jj(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:e,right:i,bottom:r}=n.getBoundingClientRect();return{top:t,left:e,right:i,bottom:r,width:n.clientWidth,height:n.clientHeight}}function c2(n){return n.reduce((t,e)=>za(t,D0(e)),Pi)}function Mj(n){return n.reduce((t,e)=>t+r2(e),0)}function Cj(n){return n.reduce((t,e)=>t+a2(e),0)}function Ej(n,t){if(t===void 0&&(t=tl),!n)return;const{top:e,left:i,bottom:r,right:l}=t(n);s2(n)&&(r<=0||l<=0||e>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Tj=[["x",["left","right"],Mj],["y",["top","bottom"],Cj]];class mg{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=uh(e),r=c2(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,u]of Tj)for(const h of c)Object.defineProperty(this,h,{get:()=>{const g=u(i),m=r[l]-g;return this.rect[h]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class oo{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...e)})},this.target=t}add(t,e,i){var r;(r=this.target)==null||r.addEventListener(t,e,i),this.listeners.push([t,e,i])}}function Dj(n){const{EventTarget:t}=Zn(n);return n instanceof t?n:Ja(n)}function Ff(n,t){const e=Math.abs(n.x),i=Math.abs(n.y);return typeof t=="number"?Math.sqrt(e**2+i**2)>t:"x"in t&&"y"in t?e>t.x&&i>t.y:"x"in t?e>t.x:"y"in t?i>t.y:!1}var ki;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ki||(ki={}));function qb(n){n.preventDefault()}function Aj(n){n.stopPropagation()}var se;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(se||(se={}));const u2={start:[se.Space,se.Enter],cancel:[se.Esc],end:[se.Space,se.Enter,se.Tab]},Rj=(n,t)=>{let{currentCoordinates:e}=t;switch(n.code){case se.Right:return{...e,x:e.x+25};case se.Left:return{...e,x:e.x-25};case se.Down:return{...e,y:e.y+25};case se.Up:return{...e,y:e.y-25}}};class hh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new oo(Ja(e)),this.windowListeners=new oo(Zn(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ki.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,i=t.node.current;i&&Ej(i),e(Pi)}handleKeyDown(t){if(gg(t)){const{active:e,context:i,options:r}=this.props,{keyboardCodes:l=u2,coordinateGetter:c=Rj,scrollBehavior:u="smooth"}=r,{code:h}=t;if(l.end.includes(h)){this.handleEnd(t);return}if(l.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:g}=i.current,m=g?{x:g.left,y:g.top}:Pi;this.referenceCoordinates||(this.referenceCoordinates=m);const b=c(t,{active:e,context:i.current,currentCoordinates:m});if(b){const y=ko(b,m),v={x:0,y:0},{scrollableAncestors:k}=i.current;for(const S of k){const _=t.code,{isTop:M,isRight:E,isLeft:A,isBottom:U,maxScroll:R,minScroll:q}=o2(S),F=jj(S),Q={x:Math.min(_===se.Right?F.right-F.width/2:F.right,Math.max(_===se.Right?F.left:F.left+F.width/2,b.x)),y:Math.min(_===se.Down?F.bottom-F.height/2:F.bottom,Math.max(_===se.Down?F.top:F.top+F.height/2,b.y))},V=_===se.Right&&!E||_===se.Left&&!A,nt=_===se.Down&&!U||_===se.Up&&!M;if(V&&Q.x!==b.x){const P=S.scrollLeft+y.x,Y=_===se.Right&&P<=R.x||_===se.Left&&P>=q.x;if(Y&&!y.y){S.scrollTo({left:P,behavior:u});return}Y?v.x=S.scrollLeft-P:v.x=_===se.Right?S.scrollLeft-R.x:S.scrollLeft-q.x,v.x&&S.scrollBy({left:-v.x,behavior:u});break}else if(nt&&Q.y!==b.y){const P=S.scrollTop+y.y,Y=_===se.Down&&P<=R.y||_===se.Up&&P>=q.y;if(Y&&!y.x){S.scrollTo({top:P,behavior:u});return}Y?v.y=S.scrollTop-P:v.y=_===se.Down?S.scrollTop-R.y:S.scrollTop-q.y,v.y&&S.scrollBy({top:-v.y,behavior:u});break}}this.handleMove(t,za(ko(b,this.referenceCoordinates),v))}}}handleMove(t,e){const{onMove:i}=this.props;t.preventDefault(),i(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hh.activators=[{eventName:"onKeyDown",handler:(n,t,e)=>{let{keyboardCodes:i=u2,onActivation:r}=t,{active:l}=e;const{code:c}=n.nativeEvent;if(i.start.includes(c)){const u=l.activatorNode.current;return u&&n.target!==u?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function Wb(n){return!!(n&&"distance"in n)}function $b(n){return!!(n&&"delay"in n)}class pg{constructor(t,e,i){var r;i===void 0&&(i=Dj(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:l}=t,{target:c}=l;this.props=t,this.events=e,this.document=Ja(c),this.documentListeners=new oo(this.document),this.listeners=new oo(i),this.windowListeners=new oo(Zn(c)),this.initialCoordinates=(r=T0(l))!=null?r:Pi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.DragStart,qb),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),this.windowListeners.add(ki.ContextMenu,qb),this.documentListeners.add(ki.Keydown,this.handleKeydown),e){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($b(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(Wb(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:i,onPending:r}=this.props;r(i,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(ki.Click,Aj,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ki.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:i,initialCoordinates:r,props:l}=this,{onMove:c,options:{activationConstraint:u}}=l;if(!r)return;const h=(e=T0(t))!=null?e:Pi,g=ko(r,h);if(!i&&u){if(Wb(u)){if(u.tolerance!=null&&Ff(g,u.tolerance))return this.handleCancel();if(Ff(g,u.distance))return this.handleStart()}if($b(u)&&Ff(g,u.tolerance))return this.handleCancel();this.handlePending(u,g);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===se.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Oj={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dh extends pg{constructor(t){const{event:e}=t,i=Ja(e.target);super(t,Oj,i)}}dh.activators=[{eventName:"onPointerDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return!e.isPrimary||e.button!==0?!1:(i?.({event:e}),!0)}}];const zj={move:{name:"mousemove"},end:{name:"mouseup"}};var A0;(function(n){n[n.RightClick=2]="RightClick"})(A0||(A0={}));class Lj extends pg{constructor(t){super(t,zj,Ja(t.event.target))}}Lj.activators=[{eventName:"onMouseDown",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;return e.button===A0.RightClick?!1:(i?.({event:e}),!0)}}];const Yf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Pj extends pg{constructor(t){super(t,Yf)}static setup(){return window.addEventListener(Yf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yf.move.name,t)};function t(){}}}Pj.activators=[{eventName:"onTouchStart",handler:(n,t)=>{let{nativeEvent:e}=n,{onActivation:i}=t;const{touches:r}=e;return r.length>1?!1:(i?.({event:e}),!0)}}];var co;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(co||(co={}));var qu;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(qu||(qu={}));function Bj(n){let{acceleration:t,activator:e=co.Pointer,canScroll:i,draggingRect:r,enabled:l,interval:c=5,order:u=qu.TreeOrder,pointerCoordinates:h,scrollableAncestors:g,scrollableAncestorRects:m,delta:b,threshold:y}=n;const v=Vj({delta:b,disabled:!l}),[k,S]=K_(),_=N.useRef({x:0,y:0}),M=N.useRef({x:0,y:0}),E=N.useMemo(()=>{switch(e){case co.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case co.DraggableRect:return r}},[e,r,h]),A=N.useRef(null),U=N.useCallback(()=>{const q=A.current;if(!q)return;const F=_.current.x*M.current.x,Q=_.current.y*M.current.y;q.scrollBy(F,Q)},[]),R=N.useMemo(()=>u===qu.TreeOrder?[...g].reverse():g,[u,g]);N.useEffect(()=>{if(!l||!g.length||!E){S();return}for(const q of R){if(i?.(q)===!1)continue;const F=g.indexOf(q),Q=m[F];if(!Q)continue;const{direction:V,speed:nt}=_j(q,Q,E,t,y);for(const P of["x","y"])v[P][V[P]]||(nt[P]=0,V[P]=0);if(nt.x>0||nt.y>0){S(),A.current=q,k(U,c),_.current=nt,M.current=V;return}}_.current={x:0,y:0},M.current={x:0,y:0},S()},[t,U,i,S,l,c,JSON.stringify(E),JSON.stringify(v),k,g,R,m,JSON.stringify(y)])}const Hj={x:{[gn.Backward]:!1,[gn.Forward]:!1},y:{[gn.Backward]:!1,[gn.Forward]:!1}};function Vj(n){let{delta:t,disabled:e}=n;const i=E0(t);return Lo(r=>{if(e||!i||!r)return Hj;const l={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[gn.Backward]:r.x[gn.Backward]||l.x===-1,[gn.Forward]:r.x[gn.Forward]||l.x===1},y:{[gn.Backward]:r.y[gn.Backward]||l.y===-1,[gn.Forward]:r.y[gn.Forward]||l.y===1}}},[e,t,i])}function Uj(n,t){const e=t!=null?n.get(t):void 0,i=e?e.node.current:null;return Lo(r=>{var l;return t==null?null:(l=i??r)!=null?l:null},[i,t])}function Fj(n,t){return N.useMemo(()=>n.reduce((e,i)=>{const{sensor:r}=i,l=r.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,i)}));return[...e,...l]},[]),[n,t])}var No;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(No||(No={}));var R0;(function(n){n.Optimized="optimized"})(R0||(R0={}));const Gb=new Map;function Yj(n,t){let{dragging:e,dependencies:i,config:r}=t;const[l,c]=N.useState(null),{frequency:u,measure:h,strategy:g}=r,m=N.useRef(n),b=_(),y=So(b),v=N.useCallback(function(M){M===void 0&&(M=[]),!y.current&&c(E=>E===null?M:E.concat(M.filter(A=>!E.includes(A))))},[y]),k=N.useRef(null),S=Lo(M=>{if(b&&!e)return Gb;if(!M||M===Gb||m.current!==n||l!=null){const E=new Map;for(let A of n){if(!A)continue;if(l&&l.length>0&&!l.includes(A.id)&&A.rect.current){E.set(A.id,A.rect.current);continue}const U=A.node.current,R=U?new mg(h(U),U):null;A.rect.current=R,R&&E.set(A.id,R)}return E}return M},[n,l,e,b,h]);return N.useEffect(()=>{m.current=n},[n]),N.useEffect(()=>{b||v()},[e,b]),N.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),N.useEffect(()=>{b||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{v(),k.current=null},u))},[u,b,v,...i]),{droppableRects:S,measureDroppableContainers:v,measuringScheduled:l!=null};function _(){switch(g){case No.Always:return!1;case No.BeforeDragging:return e;default:return!e}}}function h2(n,t){return Lo(e=>n?e||(typeof t=="function"?t(n):n):null,[t,n])}function Ij(n,t){return h2(n,t)}function qj(n){let{callback:t,disabled:e}=n;const i=fg(t),r=N.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,e]);return N.useEffect(()=>()=>r?.disconnect(),[r]),r}function fh(n){let{callback:t,disabled:e}=n;const i=fg(t),r=N.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[e]);return N.useEffect(()=>()=>r?.disconnect(),[r]),r}function Wj(n){return new mg(tl(n),n)}function Xb(n,t,e){t===void 0&&(t=Wj);const[i,r]=N.useState(null);function l(){r(h=>{if(!n)return null;if(n.isConnected===!1){var g;return(g=h??e)!=null?g:null}const m=t(n);return JSON.stringify(h)===JSON.stringify(m)?h:m})}const c=qj({callback(h){if(n)for(const g of h){const{type:m,target:b}=g;if(m==="childList"&&b instanceof HTMLElement&&b.contains(n)){l();break}}}}),u=fh({callback:l});return Ji(()=>{l(),n?(u?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),c?.disconnect())},[n]),i}function $j(n){const t=h2(n);return i2(n,t)}const Qb=[];function Gj(n){const t=N.useRef(n),e=Lo(i=>n?i&&i!==Qb&&n&&t.current&&n.parentNode===t.current.parentNode?i:uh(n):Qb,[n]);return N.useEffect(()=>{t.current=n},[n]),e}function Xj(n){const[t,e]=N.useState(null),i=N.useRef(n),r=N.useCallback(l=>{const c=Uf(l.target);c&&e(u=>u?(u.set(c,D0(c)),new Map(u)):null)},[]);return N.useEffect(()=>{const l=i.current;if(n!==l){c(l);const u=n.map(h=>{const g=Uf(h);return g?(g.addEventListener("scroll",r,{passive:!0}),[g,D0(g)]):null}).filter(h=>h!=null);e(u.length?new Map(u):null),i.current=n}return()=>{c(n),c(l)};function c(u){u.forEach(h=>{const g=Uf(h);g?.removeEventListener("scroll",r)})}},[r,n]),N.useMemo(()=>n.length?t?Array.from(t.values()).reduce((l,c)=>za(l,c),Pi):c2(n):Pi,[n,t])}function Zb(n,t){t===void 0&&(t=[]);const e=N.useRef(null);return N.useEffect(()=>{e.current=null},t),N.useEffect(()=>{const i=n!==Pi;i&&!e.current&&(e.current=n),!i&&e.current&&(e.current=null)},[n]),e.current?ko(n,e.current):Pi}function Qj(n){N.useEffect(()=>{if(!ch)return;const t=n.map(e=>{let{sensor:i}=e;return i.setup==null?void 0:i.setup()});return()=>{for(const e of t)e?.()}},n.map(t=>{let{sensor:e}=t;return e}))}function Zj(n,t){return N.useMemo(()=>n.reduce((e,i)=>{let{eventName:r,handler:l}=i;return e[r]=c=>{l(c,t)},e},{}),[n,t])}function d2(n){return N.useMemo(()=>n?wj(n):null,[n])}const Kb=[];function Kj(n,t){t===void 0&&(t=tl);const[e]=n,i=d2(e?Zn(e):null),[r,l]=N.useState(Kb);function c(){l(()=>n.length?n.map(h=>l2(h)?i:new mg(t(h),h)):Kb)}const u=fh({callback:c});return Ji(()=>{u?.disconnect(),c(),n.forEach(h=>u?.observe(h))},[n]),r}function Jj(n){if(!n)return null;if(n.children.length>1)return n;const t=n.children[0];return zo(t)?t:n}function t4(n){let{measure:t}=n;const[e,i]=N.useState(null),r=N.useCallback(g=>{for(const{target:m}of g)if(zo(m)){i(b=>{const y=t(m);return b?{...b,width:y.width,height:y.height}:y});break}},[t]),l=fh({callback:r}),c=N.useCallback(g=>{const m=Jj(g);l?.disconnect(),m&&l?.observe(m),i(m?t(m):null)},[t,l]),[u,h]=Fu(c);return N.useMemo(()=>({nodeRef:u,rect:e,setRef:h}),[e,u,h])}const e4=[{sensor:dh,options:{}},{sensor:hh,options:{}}],n4={current:{}},Ou={draggable:{measure:Ib},droppable:{measure:Ib,strategy:No.WhileDragging,frequency:R0.Optimized},dragOverlay:{measure:tl}};class uo extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,i;return(e=(i=this.get(t))==null?void 0:i.node.current)!=null?e:void 0}}const i4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new uo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ou,measureDroppableContainers:Yu,windowRect:null,measuringScheduled:!1},s4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yu,draggableNodes:new Map,over:null,measureDroppableContainers:Yu},gh=N.createContext(s4),f2=N.createContext(i4);function r4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new uo}}}function a4(n,t){switch(t.type){case un.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case un.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:t.coordinates.x-n.draggable.initialCoordinates.x,y:t.coordinates.y-n.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:e}=t,{id:i}=e,r=new uo(n.droppable.containers);return r.set(i,e),{...n,droppable:{...n.droppable,containers:r}}}case un.SetDroppableDisabled:{const{id:e,key:i,disabled:r}=t,l=n.droppable.containers.get(e);if(!l||i!==l.key)return n;const c=new uo(n.droppable.containers);return c.set(e,{...l,disabled:r}),{...n,droppable:{...n.droppable,containers:c}}}case un.UnregisterDroppable:{const{id:e,key:i}=t,r=n.droppable.containers.get(e);if(!r||i!==r.key)return n;const l=new uo(n.droppable.containers);return l.delete(e),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function l4(n){let{disabled:t}=n;const{active:e,activatorEvent:i,draggableNodes:r}=N.useContext(gh),l=E0(i),c=E0(e?.id);return N.useEffect(()=>{if(!t&&!i&&l&&c!=null){if(!gg(l)||document.activeElement===l.target)return;const u=r.get(c);if(!u)return;const{activatorNode:h,node:g}=u;if(!h.current&&!g.current)return;requestAnimationFrame(()=>{for(const m of[h.current,g.current]){if(!m)continue;const b=ej(m);if(b){b.focus();break}}})}},[i,t,r,c,l]),null}function o4(n,t){let{transform:e,...i}=t;return n!=null&&n.length?n.reduce((r,l)=>l({transform:r,...i}),e):e}function c4(n){return N.useMemo(()=>({draggable:{...Ou.draggable,...n?.draggable},droppable:{...Ou.droppable,...n?.droppable},dragOverlay:{...Ou.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function u4(n){let{activeNode:t,measure:e,initialRect:i,config:r=!0}=n;const l=N.useRef(!1),{x:c,y:u}=typeof r=="boolean"?{x:r,y:r}:r;Ji(()=>{if(!c&&!u||!t){l.current=!1;return}if(l.current||!i)return;const g=t?.node.current;if(!g||g.isConnected===!1)return;const m=e(g),b=i2(m,i);if(c||(b.x=0),u||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const y=s2(g);y&&y.scrollBy({top:b.y,left:b.x})}},[t,c,u,i,e])}const g2=N.createContext({...Pi,scaleX:1,scaleY:1});var nr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(nr||(nr={}));const zu=N.memo(function(t){var e,i,r,l;let{id:c,accessibility:u,autoScroll:h=!0,children:g,sensors:m=e4,collisionDetection:b=gj,measuring:y,modifiers:v,...k}=t;const S=N.useReducer(a4,void 0,r4),[_,M]=S,[E,A]=lj(),[U,R]=N.useState(nr.Uninitialized),q=U===nr.Initialized,{draggable:{active:F,nodes:Q,translate:V},droppable:{containers:nt}}=_,P=F!=null?Q.get(F):null,Y=N.useRef({initial:null,translated:null}),K=N.useMemo(()=>{var wt;return F!=null?{id:F,data:(wt=P?.data)!=null?wt:n4,rect:Y}:null},[F,P]),ot=N.useRef(null),[ut,L]=N.useState(null),[X,at]=N.useState(null),yt=So(k,Object.values(k)),bt=Po("DndDescribedBy",c),z=N.useMemo(()=>nt.getEnabled(),[nt]),B=c4(y),{droppableRects:tt,measureDroppableContainers:ct,measuringScheduled:xt}=Yj(z,{dragging:q,dependencies:[V.x,V.y],config:B.droppable}),pt=Uj(Q,F),gt=N.useMemo(()=>X?T0(X):null,[X]),kt=Ut(),vt=Ij(pt,B.draggable.measure);u4({activeNode:F!=null?Q.get(F):null,config:kt.layoutShiftCompensation,initialRect:vt,measure:B.draggable.measure});const mt=Xb(pt,B.draggable.measure,vt),Xt=Xb(pt?pt.parentElement:null),Yt=N.useRef({activatorEvent:null,active:null,activeNode:pt,collisionRect:null,collisions:null,droppableRects:tt,draggableNodes:Q,draggingNode:null,draggingNodeRect:null,droppableContainers:nt,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=nt.getNodeFor((e=Yt.current.over)==null?void 0:e.id),Lt=t4({measure:B.dragOverlay.measure}),ht=(i=Lt.nodeRef.current)!=null?i:pt,Ct=q?(r=Lt.rect)!=null?r:mt:null,ae=!!(Lt.nodeRef.current&&Lt.rect),Pt=$j(ae?null:mt),je=d2(ht?Zn(ht):null),be=Gj(q?oe??pt:null),$t=Kj(be),hn=o4(v,{transform:{x:V.x-Pt.x,y:V.y-Pt.y,scaleX:1,scaleY:1},activatorEvent:X,active:K,activeNodeRect:mt,containerNodeRect:Xt,draggingNodeRect:Ct,over:Yt.current.over,overlayNodeRect:Lt.rect,scrollableAncestors:be,scrollableAncestorRects:$t,windowRect:je}),Jt=gt?za(gt,V):null,Ot=Xj(be),Ve=Zb(Ot),Kn=Zb(Ot,[mt]),nn=za(hn,Ve),Me=Ct?xj(Ct,hn):null,dn=K&&Me?b({active:K,collisionRect:Me,droppableRects:tt,droppableContainers:z,pointerCoordinates:Jt}):null,Sn=n2(dn,"id"),[Ue,Ae]=N.useState(null),di=ae?hn:za(hn,Kn),sn=mj(di,(l=Ue?.rect)!=null?l:null,mt),kn=N.useRef(null),Fe=N.useCallback((wt,zt)=>{let{sensor:Gt,options:he}=zt;if(ot.current==null)return;const Le=Q.get(ot.current);if(!Le)return;const Ye=wt.nativeEvent,Bt=new Gt({active:ot.current,activeNode:Le,event:Ye,options:he,context:Yt,onAbort(At){if(!Q.get(At))return;const{onDragAbort:Nn}=yt.current,On={id:At};Nn?.(On),E({type:"onDragAbort",event:On})},onPending(At,ye,Nn,On){if(!Q.get(At))return;const{onDragPending:rn}=yt.current,an={id:At,constraint:ye,initialCoordinates:Nn,offset:On};rn?.(an),E({type:"onDragPending",event:an})},onStart(At){const ye=ot.current;if(ye==null)return;const Nn=Q.get(ye);if(!Nn)return;const{onDragStart:On}=yt.current,_n={activatorEvent:Ye,active:{id:ye,data:Nn.data,rect:Y}};io.unstable_batchedUpdates(()=>{On?.(_n),R(nr.Initializing),M({type:un.DragStart,initialCoordinates:At,active:ye}),E({type:"onDragStart",event:_n}),L(kn.current),at(Ye)})},onMove(At){M({type:un.DragMove,coordinates:At})},onEnd:Rn(un.DragEnd),onCancel:Rn(un.DragCancel)});kn.current=Bt;function Rn(At){return async function(){const{active:Nn,collisions:On,over:_n,scrollAdjustedTranslate:rn}=Yt.current;let an=null;if(Nn&&rn){const{cancelDrop:Ht}=yt.current;an={activatorEvent:Ye,active:Nn,collisions:On,delta:rn,over:_n},At===un.DragEnd&&typeof Ht=="function"&&await Promise.resolve(Ht(an))&&(At=un.DragCancel)}ot.current=null,io.unstable_batchedUpdates(()=>{M({type:At}),R(nr.Uninitialized),Ae(null),L(null),at(null),kn.current=null;const Ht=At===un.DragEnd?"onDragEnd":"onDragCancel";if(an){const ve=yt.current[Ht];ve?.(an),E({type:Ht,event:an})}})}}},[Q]),pr=N.useCallback((wt,zt)=>(Gt,he)=>{const Le=Gt.nativeEvent,Ye=Q.get(he);if(ot.current!==null||!Ye||Le.dndKit||Le.defaultPrevented)return;const Bt={active:Ye};wt(Gt,zt.options,Bt)===!0&&(Le.dndKit={capturedBy:zt.sensor},ot.current=he,Fe(Gt,zt))},[Q,Fe]),Ci=Fj(m,pr);Qj(m),Ji(()=>{mt&&U===nr.Initializing&&R(nr.Initialized)},[mt,U]),N.useEffect(()=>{const{onDragMove:wt}=yt.current,{active:zt,activatorEvent:Gt,collisions:he,over:Le}=Yt.current;if(!zt||!Gt)return;const Ye={active:zt,activatorEvent:Gt,collisions:he,delta:{x:nn.x,y:nn.y},over:Le};io.unstable_batchedUpdates(()=>{wt?.(Ye),E({type:"onDragMove",event:Ye})})},[nn.x,nn.y]),N.useEffect(()=>{const{active:wt,activatorEvent:zt,collisions:Gt,droppableContainers:he,scrollAdjustedTranslate:Le}=Yt.current;if(!wt||ot.current==null||!zt||!Le)return;const{onDragOver:Ye}=yt.current,Bt=he.get(Sn),Rn=Bt&&Bt.rect.current?{id:Bt.id,rect:Bt.rect.current,data:Bt.data,disabled:Bt.disabled}:null,At={active:wt,activatorEvent:zt,collisions:Gt,delta:{x:Le.x,y:Le.y},over:Rn};io.unstable_batchedUpdates(()=>{Ae(Rn),Ye?.(At),E({type:"onDragOver",event:At})})},[Sn]),Ji(()=>{Yt.current={activatorEvent:X,active:K,activeNode:pt,collisionRect:Me,collisions:dn,droppableRects:tt,draggableNodes:Q,draggingNode:ht,draggingNodeRect:Ct,droppableContainers:nt,over:Ue,scrollableAncestors:be,scrollAdjustedTranslate:nn},Y.current={initial:Ct,translated:Me}},[K,pt,dn,Me,Q,ht,Ct,tt,nt,Ue,be,nn]),Bj({...kt,delta:V,draggingRect:Me,pointerCoordinates:Jt,scrollableAncestors:be,scrollableAncestorRects:$t});const xr=N.useMemo(()=>({active:K,activeNode:pt,activeNodeRect:mt,activatorEvent:X,collisions:dn,containerNodeRect:Xt,dragOverlay:Lt,draggableNodes:Q,droppableContainers:nt,droppableRects:tt,over:Ue,measureDroppableContainers:ct,scrollableAncestors:be,scrollableAncestorRects:$t,measuringConfiguration:B,measuringScheduled:xt,windowRect:je}),[K,pt,mt,X,dn,Xt,Lt,Q,nt,tt,Ue,ct,be,$t,B,xt,je]),W=N.useMemo(()=>({activatorEvent:X,activators:Ci,active:K,activeNodeRect:mt,ariaDescribedById:{draggable:bt},dispatch:M,draggableNodes:Q,over:Ue,measureDroppableContainers:ct}),[X,Ci,K,mt,M,bt,Q,Ue,ct]);return $n.createElement(K1.Provider,{value:A},$n.createElement(gh.Provider,{value:W},$n.createElement(f2.Provider,{value:xr},$n.createElement(g2.Provider,{value:sn},g)),$n.createElement(l4,{disabled:u?.restoreFocus===!1})),$n.createElement(uj,{...u,hiddenTextDescribedById:bt}));function Ut(){const wt=ut?.autoScrollEnabled===!1,zt=typeof h=="object"?h.enabled===!1:h===!1,Gt=q&&!wt&&!zt;return typeof h=="object"?{...h,enabled:Gt}:{enabled:Gt}}}),h4=N.createContext(null),Jb="button",d4="Draggable";function f4(n){let{id:t,data:e,disabled:i=!1,attributes:r}=n;const l=Po(d4),{activators:c,activatorEvent:u,active:h,activeNodeRect:g,ariaDescribedById:m,draggableNodes:b,over:y}=N.useContext(gh),{role:v=Jb,roleDescription:k="draggable",tabIndex:S=0}=r??{},_=h?.id===t,M=N.useContext(_?g2:h4),[E,A]=Fu(),[U,R]=Fu(),q=Zj(c,t),F=So(e);Ji(()=>(b.set(t,{id:t,key:l,node:E,activatorNode:U,data:F}),()=>{const V=b.get(t);V&&V.key===l&&b.delete(t)}),[b,t]);const Q=N.useMemo(()=>({role:v,tabIndex:S,"aria-disabled":i,"aria-pressed":_&&v===Jb?!0:void 0,"aria-roledescription":k,"aria-describedby":m.draggable}),[i,v,S,_,k,m.draggable]);return{active:h,activatorEvent:u,activeNodeRect:g,attributes:Q,isDragging:_,listeners:i?void 0:q,node:E,over:y,setNodeRef:A,setActivatorNodeRef:R,transform:M}}function g4(){return N.useContext(f2)}const m4="Droppable",p4={timeout:25};function x4(n){let{data:t,disabled:e=!1,id:i,resizeObserverConfig:r}=n;const l=Po(m4),{active:c,dispatch:u,over:h,measureDroppableContainers:g}=N.useContext(gh),m=N.useRef({disabled:e}),b=N.useRef(!1),y=N.useRef(null),v=N.useRef(null),{disabled:k,updateMeasurementsFor:S,timeout:_}={...p4,...r},M=So(S??i),E=N.useCallback(()=>{if(!b.current){b.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{g(Array.isArray(M.current)?M.current:[M.current]),v.current=null},_)},[_]),A=fh({callback:E,disabled:k||!c}),U=N.useCallback((Q,V)=>{A&&(V&&(A.unobserve(V),b.current=!1),Q&&A.observe(Q))},[A]),[R,q]=Fu(U),F=So(t);return N.useEffect(()=>{!A||!R.current||(A.disconnect(),b.current=!1,A.observe(R.current))},[R,A]),N.useEffect(()=>(u({type:un.RegisterDroppable,element:{id:i,key:l,disabled:e,node:R,rect:y,data:F}}),()=>u({type:un.UnregisterDroppable,key:l,id:i})),[i]),N.useEffect(()=>{e!==m.current.disabled&&(u({type:un.SetDroppableDisabled,id:i,key:l,disabled:e}),m.current.disabled=e)},[i,l,e,u]),{active:c,rect:y,isOver:h?.id===i,node:R,over:h,setNodeRef:q}}function La(n,t,e){const i=n.slice();return i.splice(e<0?i.length+e:e,0,i.splice(t,1)[0]),i}function b4(n,t){return n.reduce((e,i,r)=>{const l=t.get(i);return l&&(e[r]=l),e},Array(n.length))}function su(n){return n!==null&&n>=0}function y4(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function v4(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const xg=n=>{let{rects:t,activeIndex:e,overIndex:i,index:r}=n;const l=La(t,i,e),c=t[r],u=l[r];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},ru={scaleX:1,scaleY:1},w4=n=>{var t;let{activeIndex:e,activeNodeRect:i,index:r,rects:l,overIndex:c}=n;const u=(t=l[e])!=null?t:i;if(!u)return null;if(r===e){const g=l[c];return g?{x:0,y:e<c?g.top+g.height-(u.top+u.height):g.top-u.top,...ru}:null}const h=S4(l,r,e);return r>e&&r<=c?{x:0,y:-u.height-h,...ru}:r<e&&r>=c?{x:0,y:u.height+h,...ru}:{x:0,y:0,...ru}};function S4(n,t,e){const i=n[t],r=n[t-1],l=n[t+1];return i?e<t?r?i.top-(r.top+r.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):r?i.top-(r.top+r.height):0:0}const m2="Sortable",p2=$n.createContext({activeIndex:-1,containerId:m2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xg,disabled:{draggable:!1,droppable:!1}});function Lu(n){let{children:t,id:e,items:i,strategy:r=xg,disabled:l=!1}=n;const{active:c,dragOverlay:u,droppableRects:h,over:g,measureDroppableContainers:m}=g4(),b=Po(m2,e),y=u.rect!==null,v=N.useMemo(()=>i.map(q=>typeof q=="object"&&"id"in q?q.id:q),[i]),k=c!=null,S=c?v.indexOf(c.id):-1,_=g?v.indexOf(g.id):-1,M=N.useRef(v),E=!y4(v,M.current),A=_!==-1&&S===-1||E,U=v4(l);Ji(()=>{E&&k&&m(v)},[E,v,k,m]),N.useEffect(()=>{M.current=v},[v]);const R=N.useMemo(()=>({activeIndex:S,containerId:b,disabled:U,disableTransforms:A,items:v,overIndex:_,useDragOverlay:y,sortedRects:b4(v,h),strategy:r}),[S,b,U.draggable,U.droppable,A,v,_,h,y,r]);return $n.createElement(p2.Provider,{value:R},t)}const k4=n=>{let{id:t,items:e,activeIndex:i,overIndex:r}=n;return La(e,i,r).indexOf(t)},N4=n=>{let{containerId:t,isSorting:e,wasDragging:i,index:r,items:l,newIndex:c,previousItems:u,previousContainerId:h,transition:g}=n;return!g||!i||u!==l&&r===c?!1:e?!0:c!==r&&t===h},_4={duration:200,easing:"ease"},x2="transform",j4=ur.Transition.toString({property:x2,duration:0,easing:"linear"}),M4={roleDescription:"sortable"};function C4(n){let{disabled:t,index:e,node:i,rect:r}=n;const[l,c]=N.useState(null),u=N.useRef(e);return Ji(()=>{if(!t&&e!==u.current&&i.current){const h=r.current;if(h){const g=tl(i.current,{ignoreTransform:!0}),m={x:h.left-g.left,y:h.top-g.top,scaleX:h.width/g.width,scaleY:h.height/g.height};(m.x||m.y)&&c(m)}}e!==u.current&&(u.current=e)},[t,e,i,r]),N.useEffect(()=>{l&&c(null)},[l]),l}function mh(n){let{animateLayoutChanges:t=N4,attributes:e,disabled:i,data:r,getNewIndex:l=k4,id:c,strategy:u,resizeObserverConfig:h,transition:g=_4}=n;const{items:m,containerId:b,activeIndex:y,disabled:v,disableTransforms:k,sortedRects:S,overIndex:_,useDragOverlay:M,strategy:E}=N.useContext(p2),A=E4(i,v),U=m.indexOf(c),R=N.useMemo(()=>({sortable:{containerId:b,index:U,items:m},...r}),[b,r,U,m]),q=N.useMemo(()=>m.slice(m.indexOf(c)),[m,c]),{rect:F,node:Q,isOver:V,setNodeRef:nt}=x4({id:c,data:R,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...h}}),{active:P,activatorEvent:Y,activeNodeRect:K,attributes:ot,setNodeRef:ut,listeners:L,isDragging:X,over:at,setActivatorNodeRef:yt,transform:bt}=f4({id:c,data:R,attributes:{...M4,...e},disabled:A.draggable}),z=Z_(nt,ut),B=!!P,tt=B&&!k&&su(y)&&su(_),ct=!M&&X,xt=ct&&tt?bt:null,gt=tt?xt??(u??E)({rects:S,activeNodeRect:K,activeIndex:y,overIndex:_,index:U}):null,kt=su(y)&&su(_)?l({id:c,items:m,activeIndex:y,overIndex:_}):U,vt=P?.id,mt=N.useRef({activeId:vt,items:m,newIndex:kt,containerId:b}),Xt=m!==mt.current.items,Yt=t({active:P,containerId:b,isDragging:X,isSorting:B,id:c,index:U,items:m,newIndex:mt.current.newIndex,previousItems:mt.current.items,previousContainerId:mt.current.containerId,transition:g,wasDragging:mt.current.activeId!=null}),oe=C4({disabled:!Yt,index:U,node:Q,rect:F});return N.useEffect(()=>{B&&mt.current.newIndex!==kt&&(mt.current.newIndex=kt),b!==mt.current.containerId&&(mt.current.containerId=b),m!==mt.current.items&&(mt.current.items=m)},[B,kt,b,m]),N.useEffect(()=>{if(vt===mt.current.activeId)return;if(vt!=null&&mt.current.activeId==null){mt.current.activeId=vt;return}const ht=setTimeout(()=>{mt.current.activeId=vt},50);return()=>clearTimeout(ht)},[vt]),{active:P,activeIndex:y,attributes:ot,data:R,rect:F,index:U,newIndex:kt,items:m,isOver:V,isSorting:B,isDragging:X,listeners:L,node:Q,overIndex:_,over:at,setNodeRef:z,setActivatorNodeRef:yt,setDroppableNodeRef:nt,setDraggableNodeRef:ut,transform:oe??gt,transition:Lt()};function Lt(){if(oe||Xt&&mt.current.newIndex===U)return j4;if(!(ct&&!gg(Y)||!g)&&(B||Yt))return ur.Transition.toString({...g,property:x2})}}function E4(n,t){var e,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(e=n?.draggable)!=null?e:t.draggable,droppable:(i=n?.droppable)!=null?i:t.droppable}}function Wu(n){if(!n)return!1;const t=n.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const T4=[se.Down,se.Right,se.Up,se.Left],b2=(n,t)=>{let{context:{active:e,collisionRect:i,droppableRects:r,droppableContainers:l,over:c,scrollableAncestors:u}}=t;if(T4.includes(n.code)){if(n.preventDefault(),!e||!i)return;const h=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const y=r.get(b.id);if(y)switch(n.code){case se.Down:i.top<y.top&&h.push(b);break;case se.Up:i.top>y.top&&h.push(b);break;case se.Left:i.left>y.left&&h.push(b);break;case se.Right:i.left<y.left&&h.push(b);break}});const g=dj({collisionRect:i,droppableRects:r,droppableContainers:h});let m=n2(g,"id");if(m===c?.id&&g.length>1&&(m=g[1].id),m!=null){const b=l.get(e.id),y=l.get(m),v=y?r.get(y.id):null,k=y?.node.current;if(k&&v&&b&&y){const _=uh(k).some((q,F)=>u[F]!==q),M=y2(b,y),E=D4(b,y),A=_||!M?{x:0,y:0}:{x:E?i.width-v.width:0,y:E?i.height-v.height:0},U={x:v.left,y:v.top};return A.x&&A.y?U:ko(U,A)}}}};function y2(n,t){return!Wu(n)||!Wu(t)?!1:n.data.current.sortable.containerId===t.data.current.sortable.containerId}function D4(n,t){return!Wu(n)||!Wu(t)||!y2(n,t)?!1:n.data.current.sortable.index<t.data.current.sortable.index}const A4=(n,t="1d",e="1d")=>{const i=`https://query1.finance.yahoo.com/v8/finance/chart/${n}?interval=${t}&range=${e}`;return`https://api.allorigins.win/get?url=${encodeURIComponent(i)}`},bg=()=>{try{const n=localStorage.getItem("apiKeys");if(n)return JSON.parse(n)}catch(n){console.error("Error loading API keys from localStorage:",n)}return{finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}},R4=n=>{const e=bg().finnhub||"demo";return`https://finnhub.io/api/v1/quote?symbol=${n}&token=${e}`},O4=n=>{const e=bg().massive||"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG";return`https://api.massive.com/v1/quote?symbol=${n}&apiKey=${e}`},so=async(n,t="1d",e="1d")=>{try{const i=A4(n,t,e),r=await fetch(i,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok){const c=await r.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${r.status} ${r.statusText}. ${c}`)}let l=await r.json();if(l.contents)try{l=typeof l.contents=="string"?JSON.parse(l.contents):l.contents}catch(c){throw console.error("Error parsing CORS proxy response:",c),new Error("Failed to parse API response")}if(!l)throw new Error("Empty response from API");if(!l.chart)throw new Error("Invalid response: missing chart data");if(!l.chart.result||!Array.isArray(l.chart.result)||l.chart.result.length===0)throw new Error("Invalid response: no result data");if(!l.chart.result[0])throw new Error("Invalid response: empty result array");return{data:l,source:"yahoo"}}catch(i){throw console.error(`Error fetching from Yahoo Finance ${n}:`,i),i}},au=async n=>{try{const t=R4(n),e=await fetch(t,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok){const r=await e.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${e.status} ${e.statusText}. ${r}`)}const i=await e.json();if(!i||i.error)throw new Error(i.error||"Empty response from API");if(i.c===null||i.c===void 0)throw new Error("Invalid response: missing price data");return{data:i,source:"finnhub"}}catch(t){throw console.error(`Error fetching from Finnhub ${n}:`,t),t}},lu=async n=>{try{const t=O4(n),i=bg().massive||"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG",r=await fetch(t,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${i}`}});if(!r.ok){const h=await r.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch data for ${n}: ${r.status} ${r.statusText}. ${h}`)}const l=await r.json();if(!l||l.error)throw new Error(l.error||"Empty response from API");const c=l.c||l.close||l.price||l.currentPrice;if(c==null)throw new Error("Invalid response: missing price data");return{data:{c,pc:l.pc||l.previousClose||l.prevClose||c,h:l.h||l.high||c,l:l.l||l.low||c,o:l.o||l.open||c,v:l.v||l.volume||0,t:l.t||l.timestamp||Date.now()/1e3},source:"massive"}}catch(t){throw console.error(`Error fetching from Massive ${n}:`,t),t}},z4=()=>{try{const n=localStorage.getItem("preferredApi");if(n&&["yahoo","finnhub","massive","auto"].includes(n))return n}catch(n){console.error("Error loading preferred API:",n)}return"auto"},fr=async(n,t="1d",e="1d")=>{const i=z4();if(i==="yahoo")try{return await so(n,t,e)}catch(r){console.log(`Yahoo Finance failed for ${n}, trying fallback...`);try{return await au(n)}catch{try{return await lu(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else if(i==="finnhub")try{return await au(n)}catch(r){console.log(`Finnhub failed for ${n}, trying fallback...`);try{return await so(n,t,e)}catch{try{return await lu(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else if(i==="massive")try{return await lu(n)}catch(r){console.log(`Massive failed for ${n}, trying fallback...`);try{return await so(n,t,e)}catch{try{return await au(n)}catch{throw new Error(`Failed to fetch data: ${r.message}`)}}}else try{return await so(n,t,e)}catch(r){console.log(`Yahoo Finance failed for ${n}, trying Finnhub backup...`);try{return await au(n)}catch{console.log(`Finnhub failed for ${n}, trying Massive backup...`);try{return await lu(n)}catch{throw console.error(`All APIs failed for ${n}`),new Error(`Failed to fetch data from all APIs: ${r.message}`)}}}},L4=(n,t)=>{if(!t?.chart?.result?.[0])throw new Error("Invalid data format from Yahoo Finance");const e=t.chart.result[0],i=e.meta;e.indicators?.quote?.[0];const r=i.regularMarketPrice||i.previousClose||0,l=i.previousClose||r,c=r-l,u=l?c/l*100:0,h=i.marketState==="REGULAR",g=h?Math.floor(Math.random()*200)+50:0;let m="operational";return h?Math.abs(u)>5&&(m="degraded"):m="paused",{id:n,name:`${i.shortName||n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:m,isUp:h,responseTime:g,avgResponseTime:g,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!h,price:r,change:c,changePercent:u,volume:i.regularMarketVolume||0,marketState:i.marketState,symbol:n,apiSource:"yahoo"}},P4=(n,t)=>{if(!t||t.c===null||t.c===void 0)throw new Error("Invalid data format from Finnhub");const e=t.c||0,i=t.pc||e,r=e-i,l=i?r/i*100:0,c=t.t&&t.t>0,u=c?Math.floor(Math.random()*200)+50:0;let h="operational";return c?Math.abs(l)>5&&(h="degraded"):h="paused",{id:n,name:`${n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:h,isUp:c,responseTime:u,avgResponseTime:u,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!c,price:e,change:r,changePercent:l,volume:t.v||0,marketState:c?"REGULAR":"CLOSED",symbol:n,apiSource:"finnhub"}},B4=(n,t)=>{if(!t||t.c===null||t.c===void 0)throw new Error("Invalid data format from Massive");const e=t.c||0,i=t.pc||e,r=e-i,l=i?r/i*100:0,c=t.t&&t.t>0,u=c?Math.floor(Math.random()*200)+50:0;let h="operational";return c?Math.abs(l)>5&&(h="degraded"):h="paused",{id:n,name:`${n} (${n})`,url:`https://finance.yahoo.com/quote/${n}`,type:"http",status:h,isUp:c,responseTime:u,avgResponseTime:u,uptime:99.9,uptimePercent:99.9,lastCheck:new Date().toISOString(),paused:!c,price:e,change:r,changePercent:l,volume:t.v||0,marketState:c?"REGULAR":"CLOSED",symbol:n,apiSource:"massive"}},ph=(n,t)=>t.source==="finnhub"?P4(n,t.data):t.source==="massive"?B4(n,t.data):L4(n,t.data),H4=async()=>{try{let n=["AAPL","GOOGL","MSFT","TSLA","AMZN"];try{const l=localStorage.getItem("defaultSymbols");if(l){const c=JSON.parse(l);Array.isArray(c)&&c.length>0&&(n=c)}}catch(l){console.error("Error loading default symbols from localStorage:",l)}let t=[];try{const l=localStorage.getItem("deletedMonitors");l&&(t=JSON.parse(l))}catch(l){console.error("Error loading deleted monitors:",l)}const i=n.filter(l=>!t.includes(l)).map(l=>fr(l,"1d","1d").then(c=>ph(l,c)).catch(c=>(console.error(`Failed to fetch ${l}:`,c),{id:l,name:`${l}`,url:`https://finance.yahoo.com/quote/${l}`,type:"http",status:"down",isUp:!1,responseTime:0,avgResponseTime:0,uptime:0,uptimePercent:0,lastCheck:new Date().toISOString(),paused:!1,symbol:l,apiSource:"none"})));return(await Promise.all(i)).filter(l=>l!==null)}catch(n){return console.error("Failed to fetch monitors:",n),[]}},V4=async n=>{try{let t=n.symbol;if(!t&&n.url&&(t=n.url.split("/").pop()?.toUpperCase().replace(/[^A-Z]/g,"")),!t)throw new Error("Stock symbol is required");t=t.toUpperCase().trim();try{let r=[];const l=localStorage.getItem("deletedMonitors");l&&(r=JSON.parse(l)),r=r.filter(c=>c!==t),localStorage.setItem("deletedMonitors",JSON.stringify(r))}catch(r){console.error("Error updating deleted monitors:",r)}const e=await fr(t,"1d","1d"),i=ph(t,e);n.name&&(i.name=n.name);try{let r=["AAPL","GOOGL","MSFT","TSLA","AMZN"];const l=localStorage.getItem("defaultSymbols");if(l){const c=JSON.parse(l);Array.isArray(c)&&c.length>0&&(r=c)}r.includes(t)||(r.push(t),localStorage.setItem("defaultSymbols",JSON.stringify(r)))}catch(r){console.error("Error saving default symbols:",r)}return i}catch(t){throw console.error("Failed to create monitor:",t),t}},U4=async(n,t)=>{try{const e=t.symbol||n,i=await fr(e,"1d","1d");return ph(e,i)}catch(e){throw console.error("Failed to update monitor:",e),e}},F4=async n=>{try{let t=["AAPL","GOOGL","MSFT","TSLA","AMZN"];try{const r=localStorage.getItem("defaultSymbols");if(r){const l=JSON.parse(r);Array.isArray(l)&&l.length>0&&(t=l)}}catch(r){console.error("Error loading default symbols:",r)}let e=[];try{const r=localStorage.getItem("deletedMonitors");r&&(e=JSON.parse(r))}catch(r){console.error("Error loading deleted monitors:",r)}e.includes(n)||(e.push(n),localStorage.setItem("deletedMonitors",JSON.stringify(e)));const i=t.filter(r=>r!==n);return localStorage.setItem("defaultSymbols",JSON.stringify(i)),{success:!0}}catch(t){throw console.error("Error deleting monitor:",t),t}},Y4=async n=>{const t=await fr(n,"1d","1d");return ph(n,t)},v2=async n=>{try{const t=await fr(n,"1m","1d");if(t.source==="finnhub")return[];const e=t.data;if(!e?.chart?.result?.[0])throw new Error("Invalid data format");const i=e.chart.result[0],r=i.timestamp||[],c=i.indicators?.quote?.[0]?.close||[];return r.map((u,h)=>({time:new Date(u*1e3).toISOString(),timestamp:new Date(u*1e3).toISOString(),value:c[h]||0,responseTime:c[h]||0}))}catch(t){return console.error("Failed to fetch chart data:",t),[]}},I4=async n=>v2(n),q4=async(n,t="response-time")=>t==="uptime"?I4(n):v2(n),$u=async(n,t="1d")=>{try{let e="1d",i="1mo";t==="1H"||t==="1h"?(e="1h",i="1d"):(t==="1D"||t==="1d")&&(e="1d",i="1mo");const r=await fr(n,e,i);if(r.source==="finnhub"){const E=r.data;return{symbol:n,currentPrice:E.c||0,data:[{time:new Date().toISOString(),timestamp:Date.now(),open:E.o||E.c||0,high:E.h||E.c||0,low:E.l||E.c||0,close:E.c||0,volume:E.v||0}]}}const l=r.data;if(!l?.chart?.result?.[0])throw new Error("Invalid data format from API");const c=l.chart.result[0],u=c.timestamp||[],h=c.indicators?.quote?.[0];if(!h)throw new Error("No quote data available");const g=h.close||[],m=h.open||[],b=h.high||[],y=h.low||[],v=h.volume||[];if(u.length===0||g.length===0)throw new Error("No historical data available for this symbol");const k=c.meta,S=k?.regularMarketPrice||k?.previousClose||g[g.length-1]||0,_=[],M=Math.min(u.length,g.length);for(let E=0;E<M;E++){const A=u[E],U=g[E];A&&U!==null&&U!==void 0&&!isNaN(U)&&_.push({time:new Date(A*1e3).toISOString(),timestamp:A*1e3,open:m[E]!==null&&m[E]!==void 0?m[E]:U,high:b[E]!==null&&b[E]!==void 0?b[E]:U,low:y[E]!==null&&y[E]!==void 0?y[E]:U,close:U,volume:v[E]!==null&&v[E]!==void 0?v[E]:0})}if(_.length===0)throw new Error("No valid price data points found");return{symbol:n,currentPrice:S,data:_}}catch(e){throw console.error("Failed to fetch price chart data:",e),e}},Fr=()=>{const n=new Date,t=new Date(n.toLocaleString("en-US",{timeZone:"America/New_York"})),e=t.getDay(),i=t.getHours(),r=t.getMinutes(),l=i*60+r;return e===0||e===6?!1:l>=570&&l<960},W4=(n,t=!0)=>{if(n.marketState){const e=n.marketState.toUpperCase();if(e==="REGULAR")return"REGULAR";if(e==="PRE"||e==="PREPRE")return"PRE";if(e==="POST"||e==="POSTPOST")return"POST";if(e==="CLOSED")return"CLOSED"}return t?Fr()?"REGULAR":"CLOSED":"UNKNOWN"},If=async n=>{try{const t=Fr()?"5m":"1d",e=(Fr(),"1d"),i=await so(n,t,e);if(!i||!i.data)throw new Error("Invalid response format");const r=i.data;if(!r?.chart?.result?.[0])throw new Error("Invalid data format: missing chart result");const l=r.chart.result[0];if(!l.meta)throw new Error("Invalid data format: missing meta data");const c=l.meta,u=l.indicators?.quote?.[0],h=c.previousClose||c.close||0;let g=0;if(c.regularMarketPrice&&c.regularMarketPrice>0&&(g=c.regularMarketPrice),(!g||g===0)&&u&&u.close&&u.close.length>0)for(let k=u.close.length-1;k>=0;k--){const S=u.close[k];if(S!=null&&S>0){g=S;break}}if((!g||g===0)&&(g=c.chartPreviousClose||c.close||0),(!g||g===0)&&(g=h||c.close||0),!g||g===0)throw new Error("Invalid data format: no valid price data");let m=0,b=0;h&&h>0&&(m=g-h,b=m/h*100);const y=W4(c,!0);let v=0;if(c.regularMarketVolume&&c.regularMarketVolume>0)v=c.regularMarketVolume;else if(u&&u.volume&&u.volume.length>0)for(let k=u.volume.length-1;k>=0;k--){const S=u.volume[k];if(S!=null&&S>0){v=S;break}}return{symbol:n,price:g,change:m,changePercent:b,previousClose:h,marketState:y,volume:v}}catch(t){console.error(`Error fetching ${n}:`,t);const e=Fr()?"REGULAR":"CLOSED";return{symbol:n,price:null,change:0,changePercent:0,previousClose:0,marketState:e,volume:0,error:t.message||"Invalid data format"}}};function $4({id:n,timezone:t,city:e,country:i}){const{attributes:r,listeners:l,setNodeRef:c,transform:u,transition:h,isDragging:g}=mh({id:n}),m={transform:ur.Transform.toString(u),transition:h,opacity:g?.5:1},[b,y]=N.useState(new Date);N.useEffect(()=>{const V=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(V)},[]);const k=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,day:"2-digit",month:"short",year:"numeric"}).formatToParts(b),S=k.find(V=>V.type==="hour").value+":"+k.find(V=>V.type==="minute").value+":"+k.find(V=>V.type==="second").value+" "+k.find(V=>V.type==="dayPeriod").value,_=k.find(V=>V.type==="month").value+" "+k.find(V=>V.type==="day").value+", "+k.find(V=>V.type==="year").value,M=k.find(V=>V.type==="month").value,E=parseInt(k.find(V=>V.type==="day").value),A=parseInt(k.find(V=>V.type==="year").value),R={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12}[M]||1,q=new Date(A,R-1,E),F=G1(q),Q=X1(F);return f.jsx("div",{ref:c,style:m,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...r,...l,children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:i}),f.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 font-mono",children:S}),f.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:_}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[f.jsx("span",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:Q.number}),f.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Q.title})]}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:Q.description})]})]})})}function qf({id:n,children:t}){const{attributes:e,listeners:i,setNodeRef:r,transform:l,transition:c,isDragging:u}=mh({id:n}),h={transform:ur.Transform.toString(l),transition:c,opacity:u?.5:1};return f.jsxs("div",{ref:r,style:h,className:"relative mb-8",children:[f.jsx("div",{...e,...i,className:"absolute -top-2 left-0 right-0 h-8 cursor-move touch-none flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity z-10 group",children:f.jsxs("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag to reorder section"})]})}),f.jsx("div",{className:"pt-2",children:t})]})}function G4({volume:n,symbol:t}){if(!n||n===0)return null;const e=i=>i>=1e9?`${(i/1e9).toFixed(2)}B`:i>=1e6?`${(i/1e6).toFixed(2)}M`:i>=1e3?`${(i/1e3).toFixed(2)}K`:i.toLocaleString();return f.jsxs("div",{className:"absolute z-50 w-56 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200 bottom-full left-1/2 transform -translate-x-1/2 mb-3",children:[f.jsxs("div",{className:"text-xs font-semibold mb-2 text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:[t," Volume"]}),f.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:e(n)}),f.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total shares traded"}),f.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-px",children:[f.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-white dark:border-t-gray-800"}),f.jsx("div",{className:"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[6px] border-transparent border-t-gray-200 dark:border-t-gray-700 absolute top-[1px]"})]})]})}function X4({id:n,symbol:t,data:e,loading:i,onRemove:r}){const{attributes:l,listeners:c,setNodeRef:u,transform:h,transition:g,isDragging:m}=mh({id:n}),b={transform:ur.Transform.toString(h),transition:g,opacity:m?.5:1};if(i)return f.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-200 border-t-blue-600"}),r&&f.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading..."})]});if(e?.error||e?.price===null)return f.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded",children:"Error"}),r&&f.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e?.error||"Unable to fetch data"})]});if(!e)return f.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})]}),r&&f.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No data available"})]});const y=e.change>=0,k=t==="DXY"||t==="VIX"?"":"$";let S="Closed",_="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300";return e.marketState==="REGULAR"?(S="Open",_="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"):e.marketState==="PRE"||e.marketState==="PREPRE"?(S="Pre-Market",_="bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400"):e.marketState==="POST"||e.marketState==="POSTPOST"?(S="After Hours",_="bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400"):e.marketState==="CLOSED"?(S="Closed",_="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"):Fr()?(S="Open",_="bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400"):(S="Closed",_="bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"),f.jsxs("div",{ref:u,style:b,className:"relative group bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 cursor-move touch-none",...l,...c,children:[e&&e.volume>0&&f.jsx(G4,{volume:e.volume,symbol:t}),f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`text-xs px-2 py-1 rounded ${_}`,children:S}),r&&f.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),r()},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Remove symbol",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[k,e.price.toFixed(2)]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`text-lg font-semibold ${y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.change!==0?`${y?"+":""}${k}${Math.abs(e.change).toFixed(2)}`:`${k}0.00`}),f.jsx("span",{className:`text-lg font-semibold ${y?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.changePercent!==0?`(${y?"+":""}${Math.abs(e.changePercent).toFixed(2)}%)`:"(0.00%)"})]})]}),f.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Previous Close"}),f.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[k,(e.previousClose||e.price-e.change).toFixed(2)]})]})})]})}function Q4(){const n=[{display:"QQQ",api:"QQQ"},{display:"SPY",api:"SPY"},{display:"DXY",api:"DX-Y.NYB"},{display:"VIX",api:"^VIX"}],t=[{id:"clock-ny",timezone:"America/New_York",city:"New York",country:"United States"},{id:"clock-london",timezone:"Europe/London",city:"London",country:"United Kingdom"},{id:"clock-tokyo",timezone:"Asia/Tokyo",city:"Tokyo",country:"Japan"},{id:"clock-sydney",timezone:"Australia/Sydney",city:"Sydney",country:"Australia"}],e=["world-clocks","market","todo-list"],[i,r]=N.useState(()=>{try{const Y=localStorage.getItem("dashboardSymbols");if(Y){const K=JSON.parse(Y);if(Array.isArray(K)&&K.length>0)return K}}catch(Y){console.error("Error loading symbols from localStorage:",Y)}return n}),[l,c]=N.useState(()=>{try{const Y=localStorage.getItem("dashboardWorldClocks");if(Y){const K=JSON.parse(Y);if(Array.isArray(K)&&K.length>0)return K}}catch(Y){console.error("Error loading world clocks from localStorage:",Y)}return t}),[u,h]=N.useState(()=>{try{const Y=localStorage.getItem("dashboardSectionOrder");if(Y){const K=JSON.parse(Y);if(Array.isArray(K)&&K.length>0)return K}}catch(Y){console.error("Error loading section order from localStorage:",Y)}return e}),[g,m]=N.useState({}),[b,y]=N.useState(!0),[v,k]=N.useState(null),[S,_]=N.useState(""),[M,E]=N.useState(!1),A=J1(Iu(dh,{activationConstraint:{distance:8}}),Iu(hh,{coordinateGetter:b2}));N.useEffect(()=>{localStorage.setItem("dashboardWorldClocks",JSON.stringify(l))},[l]),N.useEffect(()=>{localStorage.setItem("dashboardSectionOrder",JSON.stringify(u))},[u]),N.useEffect(()=>{localStorage.setItem("dashboardSymbols",JSON.stringify(i))},[i]);const U=async()=>{y(!0);try{const Y=new Promise((L,X)=>setTimeout(()=>X(new Error("Request timeout")),15e3)),K=i.map(L=>If(L.api).then(X=>({...X,displaySymbol:L.display})).catch(X=>({symbol:L.display,displaySymbol:L.display,price:null,change:0,changePercent:0,previousClose:0,marketState:Fr()?"REGULAR":"CLOSED",error:"Failed to fetch data. Please try again."}))),ot=await Promise.race([Promise.all(K),Y]),ut={};ot.forEach((L,X)=>{const at=i[X].display;ut[at]={...L,symbol:at}}),m(ut),k(new Date)}catch(Y){console.error("Error loading stock data:",Y);const K={};i.forEach(ot=>{g[ot.display]||(K[ot.display]={symbol:ot.display,price:null,change:0,changePercent:0,previousClose:0,marketState:Fr()?"REGULAR":"CLOSED",error:"Failed to fetch data. Please try again."})}),m(ot=>({...ot,...K}))}finally{y(!1)}};N.useEffect(()=>{U();const Y=setInterval(U,3e4);return()=>clearInterval(Y)},[i.length]);const R=async()=>{const Y=S.trim().toUpperCase();if(Y){if(i.some(K=>K.display===Y||K.api===Y)){alert("Symbol already exists"),_("");return}E(!0);try{const K=await If(Y);if(K.error||K.price===null){alert(`Invalid symbol: ${Y}. Please check the symbol and try again.`),E(!1);return}const ot={display:Y,api:Y};r([...i,ot]),_("");const ut=await If(Y);m(L=>({...L,[Y]:{...ut,symbol:Y}}))}catch(K){console.error("Error adding symbol:",K),alert(`Failed to add symbol: ${Y}. Please check the symbol and try again.`)}finally{E(!1)}}},q=Y=>{if(i.length<=1){alert("You must have at least one symbol on the dashboard");return}r(i.filter(K=>K.display!==Y)),m(K=>{const ot={...K};return delete ot[Y],ot})},F=Y=>{Y.key==="Enter"&&!M&&R()},Q=Y=>{const{active:K,over:ot}=Y;ot&&K.id!==ot.id&&c(ut=>{const L=ut.findIndex(at=>at.id===K.id),X=ut.findIndex(at=>at.id===ot.id);return La(ut,L,X)})},V=Y=>{const{active:K,over:ot}=Y;ot&&K.id!==ot.id&&r(ut=>{const L=ut.findIndex(at=>at.display===K.id),X=ut.findIndex(at=>at.display===ot.id);return La(ut,L,X)})},nt=Y=>{const{active:K,over:ot}=Y;ot&&K.id!==ot.id&&h(ut=>{const L=ut.indexOf(K.id),X=ut.indexOf(ot.id);return La(ut,L,X)})},P=Y=>{switch(Y){case"world-clocks":return f.jsx(qf,{id:Y,children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"World Clocks"}),f.jsx(zu,{sensors:A,collisionDetection:Ru,onDragEnd:Q,children:f.jsx(Lu,{items:l.map(K=>K.id),children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(K=>f.jsx($4,{id:K.id,timezone:K.timezone,city:K.city,country:K.country},K.id))})})})]})},Y);case"market":return f.jsx(qf,{id:Y,children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Market"}),f.jsxs("div",{className:"flex items-center gap-4",children:[v&&f.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",v.toLocaleTimeString("en-US",{timeZone:"America/New_York"})]}),f.jsxs("button",{type:"button",onClick:U,disabled:b,className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:`w-4 h-4 ${b?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),f.jsxs("div",{className:"mb-4 flex gap-2",children:[f.jsx("input",{type:"text",value:S,onChange:K=>_(K.target.value.toUpperCase()),onKeyPress:F,placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",disabled:M,className:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),f.jsx("button",{type:"button",onClick:R,disabled:M||!S.trim(),className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:M?f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Adding..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Symbol"]})})]}),f.jsx(zu,{sensors:A,collisionDetection:Ru,onDragEnd:V,children:f.jsx(Lu,{items:i.map(K=>K.display),children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(K=>f.jsx(X4,{id:K.display,symbol:K.display,data:g[K.display]||null,loading:b&&!g[K.display],onRemove:i.length>1?()=>q(K.display):null},K.display))})})})]})},Y);case"todo-list":return f.jsx(qf,{id:Y,children:f.jsx(Z4,{})},Y);default:return null}};return f.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real-time market data and world clocks"})]}),f.jsx(zu,{sensors:A,collisionDetection:Ru,onDragEnd:nt,children:f.jsx(Lu,{items:u,strategy:w4,children:u.map(Y=>P(Y))})})]})}function Z4(){const[n,t]=N.useState([]),[e,i]=N.useState(""),[r,l]=N.useState(null),[c,u]=N.useState("");N.useEffect(()=>{const M=localStorage.getItem("dashboardTodos");if(M)try{const E=JSON.parse(M),A=new Date().toDateString(),U=E.filter(R=>new Date(R.createdAt).toDateString()===A);t(U),U.length!==E.length&&localStorage.setItem("dashboardTodos",JSON.stringify(U))}catch(E){console.error("Error loading todos:",E)}},[]),N.useEffect(()=>{(n.length>0||localStorage.getItem("dashboardTodos"))&&localStorage.setItem("dashboardTodos",JSON.stringify(n))},[n]);const h=()=>{if(e.trim()){const M={id:Date.now(),text:e.trim(),completed:!1,createdAt:new Date().toISOString()};t([...n,M]),i("")}},g=M=>{t(n.map(E=>E.id===M?{...E,completed:!E.completed}:E))},m=M=>{t(n.filter(E=>E.id!==M))},b=M=>{l(M.id),u(M.text)},y=()=>{c.trim()&&(t(n.map(M=>M.id===r?{...M,text:c.trim()}:M)),l(null),u(""))},v=()=>{l(null),u("")},k=(M,E)=>{M.key==="Enter"?E():M.key==="Escape"&&E===v&&v()},S=n.filter(M=>M.completed).length,_=n.length;return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Today's To-Do List"}),_>0&&f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[S," of ",_," completed"]})]}),_>0&&f.jsx("button",{type:"button",onClick:()=>t([]),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors",children:"Clear All"})]}),f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("input",{type:"text",value:e,onChange:M=>i(M.target.value),onKeyPress:M=>k(M,h),placeholder:"Add a new task...",className:"flex-1 px-4 py-2 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),f.jsxs("button",{type:"button",onClick:h,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add"]})]}),n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No tasks for today. Add one above to get started!"})]}):f.jsx("div",{className:"space-y-2",children:n.map(M=>f.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border transition-all ${M.completed?"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[f.jsx("button",{type:"button",onClick:()=>g(M.id),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${M.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 dark:border-gray-600 hover:border-green-500"}`,children:M.completed&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),r===M.id?f.jsxs("div",{className:"flex-1 flex gap-2",children:[f.jsx("input",{type:"text",value:c,onChange:E=>u(E.target.value),onKeyPress:E=>k(E,y),onKeyDown:E=>k(E,v),className:"flex-1 px-3 py-1 border-2 border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",autoFocus:!0}),f.jsx("button",{type:"button",onClick:y,className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Save"}),f.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:`flex-1 text-gray-900 dark:text-white cursor-pointer ${M.completed?"line-through text-gray-500 dark:text-gray-400":""}`,onDoubleClick:()=>b(M),children:M.text}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>b(M),className:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Edit",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{type:"button",onClick:()=>m(M.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},M.id))})]})}const w2=()=>{try{const n=localStorage.getItem("apiKeys");if(n)return JSON.parse(n)}catch(n){console.error("Error loading API keys from localStorage:",n)}return{finnhub:"demo",fibhub:"demo"}},K4=(n="general",t=null)=>{const i=w2().finnhub||"demo";if(t){const r=new Date,l=new Date(r);l.setDate(l.getDate()-7);const c=l.toISOString().split("T")[0],u=r.toISOString().split("T")[0];return`https://finnhub.io/api/v1/company-news?symbol=${t}&from=${c}&to=${u}&token=${i}`}return`https://finnhub.io/api/v1/news?category=${n}&token=${i}`},S2=async(n="general",t=null)=>{try{const e=K4(n,t),i=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if(!i.ok){const l=await i.text().catch(()=>"Unknown error");throw new Error(`Failed to fetch news: ${i.status} ${i.statusText}. ${l}`)}const r=await i.json();return!r||Array.isArray(r)&&r.length===0?[]:Array.isArray(r)?r.map(l=>({id:l.id||`${l.headline}-${l.datetime}`,title:l.headline||l.title||"No title",summary:l.summary||l.description||"",source:l.source||"Unknown",url:l.url||l.link||"#",image:l.image||null,datetime:l.datetime*1e3||Date.now(),category:l.category||n,symbol:l.related||t||null,sentiment:l.sentiment||null})):[]}catch(e){throw console.error("Error fetching news from Finnhub:",e),e}},J4=(n="general")=>{const t={general:"https://feeds.finance.yahoo.com/rss/2.0/headline",market:"https://feeds.finance.yahoo.com/rss/2.0/headline",stocks:"https://feeds.finance.yahoo.com/rss/2.0/headline",crypto:"https://feeds.finance.yahoo.com/rss/2.0/headline?s=YF",economy:"https://feeds.finance.yahoo.com/rss/2.0/headline"};return t[n]||t.general},tM=(n="general",t=null)=>{const e=w2(),i=e.fibhub||e.finnhub||"demo";if(t){const r=new Date,l=new Date(r);l.setDate(l.getDate()-7);const c=l.toISOString().split("T")[0],u=r.toISOString().split("T")[0];return`https://api.fibhub.io/v1/company-news?symbol=${t}&from=${c}&to=${u}&token=${i}`}return`https://api.fibhub.io/v1/news?category=${n}&token=${i}`},yg=async(n="general",t=null)=>{try{const e=tM(n,t),i=new Promise((h,g)=>setTimeout(()=>g(new Error("Fibhub request timeout")),8e3)),r=fetch(e,{method:"GET",headers:{Accept:"application/json"},mode:"cors"}),l=await Promise.race([r,i]);if(!l.ok)return l.status!==404&&console.warn(`Fibhub API returned ${l.status}: ${l.statusText}`),[];const c=await l.json();if(!c)return[];let u=[];if(Array.isArray(c))u=c;else if(c.data&&Array.isArray(c.data))u=c.data;else if(c.news&&Array.isArray(c.news))u=c.news;else if(c.results&&Array.isArray(c.results))u=c.results;else if(c.headline||c.title)u=[c];else return[];return u.length===0?[]:u.map((h,g)=>{let m=Date.now();return h.datetime?typeof h.datetime=="number"?m=h.datetime<1e10?h.datetime*1e3:h.datetime:m=new Date(h.datetime).getTime()||Date.now():h.publishedAt?m=new Date(h.publishedAt).getTime()||Date.now():h.pubDate&&(m=new Date(h.pubDate).getTime()||Date.now()),{id:h.id||`${h.headline||h.title||"fibhub"}-${m}-${g}`,title:h.headline||h.title||"No title",summary:h.summary||h.description||h.content||"",source:h.source||h.publisher||"Fibhub",url:h.url||h.link||h.webUrl||"#",image:h.image||h.imageUrl||h.urlToImage||null,datetime:m,category:h.category||n,symbol:h.related||h.symbol||t||null,sentiment:h.sentiment||null}})}catch(e){return e.message&&!e.message.includes("timeout")&&!e.message.includes("Failed to fetch")&&console.warn("Fibhub fetch warning:",e.message),[]}},eM=async(n="general")=>{try{const t=J4(n),e=`https://api.allorigins.win/get?url=${encodeURIComponent(t)}`,i=new Promise((y,v)=>setTimeout(()=>v(new Error("Yahoo Finance request timeout")),1e4)),r=fetch(e,{method:"GET",headers:{Accept:"application/json"}}),l=await Promise.race([r,i]);if(!l.ok)throw new Error(`Failed to fetch Yahoo Finance news: ${l.status}`);const c=await l.json();if(!c||!c.contents)return console.warn("Yahoo Finance: No contents in response"),[];const h=new DOMParser().parseFromString(c.contents,"text/xml"),g=h.querySelector("parsererror");if(g)return console.error("Yahoo Finance RSS parsing error:",g.textContent),[];const m=h.querySelectorAll("item");if(!m||m.length===0)return console.warn("Yahoo Finance: No items found in RSS feed"),[];const b=[];return m.forEach((y,v)=>{try{const k=y.querySelector("title")?.textContent||"No title",S=y.querySelector("description")?.textContent||"",_=y.querySelector("link")?.textContent||"#",M=y.querySelector("pubDate")?.textContent||new Date().toISOString(),E=S.match(/<img[^>]+src="([^"]+)"/i),A=E?E[1]:null,U=S.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").trim().substring(0,300);b.push({id:`yahoo-${v}-${Date.now()}`,title:k.trim(),summary:U||"No description available",source:"Yahoo Finance",url:_.trim(),image:A,datetime:new Date(M).getTime()||Date.now(),category:n,symbol:null,sentiment:null})}catch(k){console.warn("Error parsing Yahoo Finance news item:",k)}}),b.length===0?(console.warn("Yahoo Finance: No valid news items parsed"),[]):b.slice(0,50)}catch(t){return console.error("Error fetching news from Yahoo Finance:",t),[]}},k2=n=>{const t=new Set,e=[];for(const i of n){const r=i.title.toLowerCase().trim().substring(0,50),l=i.url||"",c=`${r}-${l}`;t.has(c)||(t.add(c),e.push(i))}return e},O0=async(n="general",t=null)=>{const e=[],i=[];try{const r=[];r.push(S2(n,t).then(g=>g&&g.length>0?(e.push("finnhub"),g.map(m=>({...m,apiSource:"finnhub"}))):[]).catch(g=>(console.error("Finnhub fetch error:",g),i.push({source:"finnhub",error:g.message}),[]))),r.push(yg(n,t).then(g=>g&&g.length>0?(e.push("fibhub"),g.map(m=>({...m,apiSource:"fibhub"}))):[]).catch(g=>(console.warn("Fibhub fetch error (non-critical):",g.message),[]))),t||r.push(eM(n).then(g=>g&&g.length>0?(e.push("yahoo"),g.map(m=>({...m,apiSource:"yahoo"}))):[]).catch(g=>(console.error("Yahoo Finance fetch error:",g),i.push({source:"yahoo",error:g.message}),[])));const c=(await Promise.all(r)).flat(),u=k2(c);u.sort((g,m)=>(m.datetime||0)-(g.datetime||0));const h=e.length>0?e.join("+"):"none";return{news:u,source:h,sources:e,errors:i.length>0?i:null}}catch(r){return console.error("Error fetching market news:",r),{news:[],source:"none",sources:[],errors:[{source:"unknown",error:r.message}]}}},nM=async(n="general")=>{const e={all:"general",market:"general",stocks:"general",crypto:"crypto",economy:"general"}[n]||"general";return O0(e)},iM=async n=>{try{if(!n||!n.trim())return{news:[],source:"none",sources:[]};const t=n.trim().toUpperCase(),i=/^[A-Z0-9]{1,5}$/.test(t);let r;if(i)try{const[u,h]=await Promise.all([S2("general",t).then(S=>S&&S.length>0?S.map(_=>({..._,apiSource:"finnhub"})):[]).catch(()=>[]),yg("general",t).then(S=>S&&S.length>0?S.map(_=>({..._,apiSource:"fibhub"})):[]).catch(()=>[])]),g=await O0("general"),m=[...u,...h,...g.news||[]],b=k2(m),y=n.toLowerCase(),v=b.filter(S=>S.title.toLowerCase().includes(y)||S.summary.toLowerCase().includes(y)||S.symbol&&S.symbol.toUpperCase().includes(t));v.sort((S,_)=>(_.datetime||0)-(S.datetime||0));const k=[];return u.length>0&&k.push("finnhub"),h.length>0&&k.push("fibhub"),g.sources&&g.sources.length>0&&k.push(...g.sources.filter(S=>!k.includes(S))),{news:v,source:k.length>0?k.join("+"):"none",sources:k,errors:g.errors}}catch(u){console.log("Company news search failed, falling back to general search:",u)}if(r=await O0("general"),!r.news||r.news.length===0)return{news:[],source:"none",sources:[]};const l=n.toLowerCase(),c=r.news.filter(u=>u.title.toLowerCase().includes(l)||u.summary.toLowerCase().includes(l)||u.symbol&&u.symbol.toUpperCase().includes(t));return c.sort((u,h)=>(h.datetime||0)-(u.datetime||0)),{news:c,source:r.source,sources:r.sources||[],errors:r.errors}}catch(t){return console.error("Error searching news:",t),{news:[],source:"none",sources:[],errors:[{source:"unknown",error:t.message}]}}};function sM(){const[n,t]=N.useState("all"),[e,i]=N.useState([]),[r,l]=N.useState(!0),[c,u]=N.useState(null),[h,g]=N.useState(""),[m,b]=N.useState(!1),[y,v]=N.useState(null),[k,S]=N.useState(null),[_,M]=N.useState([]),E=[{id:"all",label:"All News"},{id:"market",label:"Market News"},{id:"stocks",label:"Stocks"},{id:"crypto",label:"Crypto"},{id:"economy",label:"Economy"}],A=N.useCallback(async(V=n)=>{l(!0),u(null),b(!1);try{const nt=await nM(V),P=(nt.news||[]).sort((Y,K)=>(K.datetime||0)-(Y.datetime||0));i(P),S(nt.source),M(nt.sources||[]),v(new Date)}catch(nt){console.error("Error loading news:",nt),u(nt.message||"Failed to load news. Please try again."),i([])}finally{l(!1)}},[n]),U=N.useCallback(async V=>{if(!V||!V.trim()){A(n);return}b(!0),l(!0),u(null);try{const nt=await iM(V.trim()),P=(nt.news||[]).sort((Y,K)=>(K.datetime||0)-(Y.datetime||0));i(P),S(nt.source),M(nt.sources||[]),v(new Date)}catch(nt){console.error("Error searching news:",nt),u(nt.message||"Failed to search news. Please try again."),i([])}finally{l(!1),b(!1)}},[A,n]),R=V=>{t(V),g("")},q=()=>{h.trim()?U(h):A(n)},F=V=>{V.key==="Enter"&&U(h)};N.useEffect(()=>{h.trim()||A(n)},[n,A,h]);const Q=V=>{if(!V)return"Unknown date";const nt=new Date(V),Y=new Date-nt,K=Math.floor(Y/6e4),ot=Math.floor(Y/36e5),ut=Math.floor(Y/864e5);return K<1?"Just now":K<60?`${K} minute${K>1?"s":""} ago`:ot<24?`${ot} hour${ot>1?"s":""} ago`:ut<7?`${ut} day${ut>1?"s":""} ago`:nt.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"})};return f.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"News"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Stay updated with the latest financial news and market updates"})]}),f.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("input",{type:"text",value:h,onChange:V=>g(V.target.value),onKeyPress:F,placeholder:"Search news by keyword or symbol (e.g., AAPL, Bitcoin, Fed)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),h&&f.jsx("button",{type:"button",onClick:()=>{g(""),A(n)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("button",{type:"button",onClick:()=>U(h),disabled:r,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:r&&m?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Searching..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsx("span",{children:"Search"})]})})]})}),f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(V=>f.jsx("button",{type:"button",onClick:()=>R(V.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===V.id?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:V.label},V.id))})}),(y||k||_.length>0)&&f.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[_.length>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:["Sources: ",_.map(V=>V==="finnhub"?"Finnhub":V==="yahoo"?"Yahoo Finance":V==="fibhub"?"Fibhub":V).join(" + ")]}),_.length>1&&f.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs font-medium",children:"Combined"})]}),!_.length&&k&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:["Source: ",k==="finnhub"?"Finnhub":k==="yahoo"?"Yahoo Finance":k==="fibhub"?"Fibhub":k.includes("+")?k.split("+").map(V=>V==="finnhub"?"Finnhub":V==="yahoo"?"Yahoo Finance":V==="fibhub"?"Fibhub":V).join(" + "):"Unknown"]}),y&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last updated: ",y.toLocaleTimeString("en-US",{timeZone:"America/New_York"})]})]}),f.jsxs("button",{type:"button",onClick:q,disabled:r,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[f.jsx("svg",{className:`w-4 h-4 ${r?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Refresh"})]})]}),c&&f.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:c}),f.jsx("button",{type:"button",onClick:q,className:"text-xs text-red-600 dark:text-red-300 mt-1 underline hover:no-underline",children:"Try again"})]})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:r&&e.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading news..."}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]}):e.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No news found"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:h?`No news found for "${h}". Try a different search term.`:"No news available for this category. Please try refreshing or selecting a different category."}),f.jsx("button",{type:"button",onClick:q,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh News"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(V=>f.jsx("article",{className:"border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors p-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[V.image&&f.jsx("div",{className:"flex-shrink-0 sm:w-32 sm:h-32 w-full h-48",children:f.jsx("img",{src:V.image,alt:V.title,className:"w-full h-full object-cover rounded-lg",onError:nt=>{nt.target.style.display="none"}})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:f.jsx("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:V.title})}),V.symbol&&f.jsx("span",{className:"flex-shrink-0 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-medium",children:V.symbol})]}),V.summary&&f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3 line-clamp-3",children:V.summary}),f.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),V.source]}),V.apiSource&&f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${V.apiSource==="finnhub"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":V.apiSource==="fibhub"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,children:V.apiSource==="finnhub"?"Finnhub":V.apiSource==="fibhub"?"Fibhub":"Yahoo Finance"}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Q(V.datetime)]})]}),f.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium text-sm flex items-center gap-1 transition-colors",children:["Read more",f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})},V.id))})})]})}function Bo(n){return n+.5|0}const ir=(n,t,e)=>Math.max(Math.min(n,e),t);function ro(n){return ir(Bo(n*2.55),0,255)}function or(n){return ir(Bo(n*255),0,255)}function ws(n){return ir(Bo(n/2.55)/100,0,1)}function ty(n){return ir(Bo(n*100),0,100)}const wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z0=[..."0123456789ABCDEF"],rM=n=>z0[n&15],aM=n=>z0[(n&240)>>4]+z0[n&15],ou=n=>(n&240)>>4===(n&15),lM=n=>ou(n.r)&&ou(n.g)&&ou(n.b)&&ou(n.a);function oM(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&wi[n[1]]*17,g:255&wi[n[2]]*17,b:255&wi[n[3]]*17,a:t===5?wi[n[4]]*17:255}:(t===7||t===9)&&(e={r:wi[n[1]]<<4|wi[n[2]],g:wi[n[3]]<<4|wi[n[4]],b:wi[n[5]]<<4|wi[n[6]],a:t===9?wi[n[7]]<<4|wi[n[8]]:255})),e}const cM=(n,t)=>n<255?t(n):"";function uM(n){var t=lM(n)?rM:aM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+cM(n.a,t):void 0}const hM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function N2(n,t,e){const i=t*Math.min(e,1-e),r=(l,c=(l+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function dM(n,t,e){const i=(r,l=(r+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function fM(n,t,e){const i=N2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function gM(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function vg(n){const e=n.r/255,i=n.g/255,r=n.b/255,l=Math.max(e,i,r),c=Math.min(e,i,r),u=(l+c)/2;let h,g,m;return l!==c&&(m=l-c,g=u>.5?m/(2-l-c):m/(l+c),h=gM(e,i,r,m,l),h=h*60+.5),[h|0,g||0,u]}function wg(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(or)}function Sg(n,t,e){return wg(N2,n,t,e)}function mM(n,t,e){return wg(fM,n,t,e)}function pM(n,t,e){return wg(dM,n,t,e)}function _2(n){return(n%360+360)%360}function xM(n){const t=hM.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ro(+t[5]):or(+t[5]));const r=_2(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=mM(r,l,c):t[1]==="hsv"?i=pM(r,l,c):i=Sg(r,l,c),{r:i[0],g:i[1],b:i[2],a:e}}function bM(n,t){var e=vg(n);e[0]=_2(e[0]+t),e=Sg(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yM(n){if(!n)return;const t=vg(n),e=t[0],i=ty(t[1]),r=ty(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ey={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ny={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vM(){const n={},t=Object.keys(ny),e=Object.keys(ey);let i,r,l,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<e.length;r++)l=e[r],u=u.replace(l,ey[l]);l=parseInt(ny[c],16),n[u]=[l>>16&255,l>>8&255,l&255]}return n}let cu;function wM(n){cu||(cu=vM(),cu.transparent=[0,0,0,0]);const t=cu[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const SM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kM(n){const t=SM.exec(n);let e=255,i,r,l;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?ro(c):ir(c*255,0,255)}return i=+t[1],r=+t[3],l=+t[5],i=255&(t[2]?ro(i):ir(i,0,255)),r=255&(t[4]?ro(r):ir(r,0,255)),l=255&(t[6]?ro(l):ir(l,0,255)),{r:i,g:r,b:l,a:e}}}function NM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Wf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ea=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _M(n,t,e){const i=Ea(ws(n.r)),r=Ea(ws(n.g)),l=Ea(ws(n.b));return{r:or(Wf(i+e*(Ea(ws(t.r))-i))),g:or(Wf(r+e*(Ea(ws(t.g))-r))),b:or(Wf(l+e*(Ea(ws(t.b))-l))),a:n.a+e*(t.a-n.a)}}function uu(n,t,e){if(n){let i=vg(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Sg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function j2(n,t){return n&&Object.assign(t||{},n)}function iy(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=or(n[3]))):(t=j2(n,{r:0,g:0,b:0,a:1}),t.a=or(t.a)),t}function jM(n){return n.charAt(0)==="r"?kM(n):xM(n)}class _o{constructor(t){if(t instanceof _o)return t;const e=typeof t;let i;e==="object"?i=iy(t):e==="string"&&(i=oM(t)||wM(t)||jM(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=j2(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=iy(t)}rgbString(){return this._valid?NM(this._rgb):void 0}hexString(){return this._valid?uM(this._rgb):void 0}hslString(){return this._valid?yM(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let l;const c=e===l?.5:e,u=2*c-1,h=i.a-r.a,g=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-g,i.r=255&g*i.r+l*r.r+.5,i.g=255&g*i.g+l*r.g+.5,i.b=255&g*i.b+l*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=_M(this._rgb,t._rgb,e)),this}clone(){return new _o(this.rgb)}alpha(t){return this._rgb.a=or(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Bo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return uu(this._rgb,2,t),this}darken(t){return uu(this._rgb,2,-t),this}saturate(t){return uu(this._rgb,1,t),this}desaturate(t){return uu(this._rgb,1,-t),this}rotate(t){return bM(this._rgb,t),this}}function bs(){}const MM=(()=>{let n=0;return()=>n++})();function fe(n){return n==null}function en(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function re(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function An(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function $i(n,t){return An(n)?n:t}function Tt(n,t){return typeof n>"u"?t:n}const CM=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Rt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Kt(n,t,e,i){let r,l,c;if(en(n))for(l=n.length,r=0;r<l;r++)t.call(e,n[r],r);else if(re(n))for(c=Object.keys(n),l=c.length,r=0;r<l;r++)t.call(e,n[c[r]],c[r])}function Gu(n,t){let e,i,r,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],l=t[e],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function Xu(n){if(en(n))return n.map(Xu);if(re(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Xu(n[e[r]]);return t}return n}function M2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function EM(n,t,e,i){if(!M2(n))return;const r=t[n],l=e[n];re(r)&&re(l)?jo(r,l,i):t[n]=Xu(l)}function jo(n,t,e){const i=en(t)?t:[t],r=i.length;if(!re(n))return n;e=e||{};const l=e.merger||EM;let c;for(let u=0;u<r;++u){if(c=i[u],!re(c))continue;const h=Object.keys(c);for(let g=0,m=h.length;g<m;++g)l(h[g],n,c,e)}return n}function ho(n,t){return jo(n,t,{merger:TM})}function TM(n,t,e){if(!M2(n))return;const i=t[n],r=e[n];re(i)&&re(r)?ho(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xu(r))}const sy={"":n=>n,x:n=>n.x,y:n=>n.y};function DM(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function AM(n){const t=DM(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Va(n,t){return(sy[t]||(sy[t]=AM(t)))(n)}function kg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Mo=n=>typeof n<"u",hr=n=>typeof n=="function",ry=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function RM(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const mn=Math.PI,Li=2*mn,OM=Li+mn,Qu=Number.POSITIVE_INFINITY,zM=mn/180,zi=mn/2,zr=mn/4,ay=mn*2/3,C2=Math.log10,_i=Math.sign;function Yr(n,t,e){return Math.abs(n-t)<e}function ly(n){const t=Math.round(n);n=Yr(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(C2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function LM(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,l)=>r-l).pop(),t}function PM(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Co(n){return!PM(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function BM(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function HM(n,t,e){let i,r,l;for(i=0,r=n.length;i<r;i++)l=n[i][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function Vr(n){return n*(mn/180)}function VM(n){return n*(180/mn)}function oy(n){if(!An(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function UM(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let l=Math.atan2(i,e);return l<-.5*mn&&(l+=Li),{angle:l,distance:r}}function L0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function FM(n,t){return(n-t+OM)%Li-mn}function Zi(n){return(n%Li+Li)%Li}function E2(n,t,e,i){const r=Zi(n),l=Zi(t),c=Zi(e),u=Zi(l-r),h=Zi(c-r),g=Zi(r-l),m=Zi(r-c);return r===l||r===c||i&&l===c||u>h&&g<m}function ui(n,t,e){return Math.max(t,Math.min(e,n))}function YM(n){return ui(n,-32768,32767)}function sr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Ng(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,l;for(;i-r>1;)l=r+i>>1,e(l)?r=l:i=l;return{lo:r,hi:i}}const Ur=(n,t,e,i)=>Ng(n,e,i?r=>{const l=n[r][t];return l<e||l===e&&n[r+1][t]===e}:r=>n[r][t]<e),IM=(n,t,e)=>Ng(n,e,i=>n[i][t]>=e);function qM(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const T2=["push","pop","shift","splice","unshift"];function WM(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),T2.forEach(e=>{const i="_onData"+kg(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const c=r.apply(this,l);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...l)}),c}})})}function cy(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(T2.forEach(l=>{delete n[l]}),delete n._chartjs)}function D2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const A2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function R2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,A2.call(window,()=>{i=!1,n.apply(t,e)}))}}function $M(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const _g=n=>n==="start"?"left":n==="end"?"right":"center",Tn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,GM=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function XM(n,t,e){const i=t.length;let r=0,l=i;if(n._sorted){const{iScale:c,vScale:u,_parsed:h}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:b,max:y,minDefined:v,maxDefined:k}=c.getUserBounds();if(v){if(r=Math.min(Ur(h,m,b).lo,e?i:Ur(t,m,c.getPixelForValue(b)).lo),g){const S=h.slice(0,r+1).reverse().findIndex(_=>!fe(_[u.axis]));r-=Math.max(0,S)}r=ui(r,0,i-1)}if(k){let S=Math.max(Ur(h,c.axis,y,!0).hi+1,e?0:Ur(t,m,c.getPixelForValue(y),!0).hi+1);if(g){const _=h.slice(S-1).findIndex(M=>!fe(M[u.axis]));S+=Math.max(0,_)}l=ui(S,r,i)-r}else l=i-r}return{start:r,count:l}}function QM(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const l=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),l}const hu=n=>n===0||n===1,uy=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Li/e)),hy=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Li/e)+1,fo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*zi)+1,easeOutSine:n=>Math.sin(n*zi),easeInOutSine:n=>-.5*(Math.cos(mn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>hu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>hu(n)?n:uy(n,.075,.3),easeOutElastic:n=>hu(n)?n:hy(n,.075,.3),easeInOutElastic(n){return hu(n)?n:n<.5?.5*uy(n*2,.1125,.45):.5+.5*hy(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-fo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fo.easeInBounce(n*2)*.5:fo.easeOutBounce(n*2-1)*.5+.5};function jg(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dy(n){return jg(n)?n:new _o(n)}function $f(n){return jg(n)?n:new _o(n).saturate(.5).darken(.1).hexString()}const ZM=["x","y","borderWidth","radius","tension"],KM=["color","borderColor","backgroundColor"];function JM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:KM},numbers:{type:"number",properties:ZM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fy=new Map;function eC(n,t){t=t||{};const e=n+JSON.stringify(t);let i=fy.get(e);return i||(i=new Intl.NumberFormat(n,t),fy.set(e,i)),i}function O2(n,t,e){return eC(t,e).format(n)}const nC={values(n){return en(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,l=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),l=iC(n,e)}const c=C2(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),O2(n,i,h)}};function iC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var z2={formatters:nC};function sC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:z2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Wr=Object.create(null),P0=Object.create(null);function go(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const l=e[i];n=n[l]||(n[l]=Object.create(null))}return n}function Gf(n,t,e){return typeof t=="string"?jo(go(n,t),e):jo(go(n,""),t)}class rC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>$f(r.backgroundColor),this.hoverBorderColor=(i,r)=>$f(r.borderColor),this.hoverColor=(i,r)=>$f(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Gf(this,t,e)}get(t){return go(this,t)}describe(t,e){return Gf(P0,t,e)}override(t,e){return Gf(Wr,t,e)}route(t,e,i,r){const l=go(this,t),c=go(this,i),u="_"+e;Object.defineProperties(l,{[u]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],g=c[r];return re(h)?Object.assign({},g,h):Tt(h,g)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var xe=new rC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JM,tC,sC]);function aC(n){return!n||fe(n.size)||fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function gy(n,t,e,i,r){let l=t[r];return l||(l=t[r]=n.measureText(r).width,e.push(r)),l>i&&(i=l),i}function Lr(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function my(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function B0(n,t,e,i){L2(n,t,e,i,null)}function L2(n,t,e,i,r){let l,c,u,h,g,m,b,y;const v=t.pointStyle,k=t.rotation,S=t.radius;let _=(k||0)*zM;if(v&&typeof v=="object"&&(l=v.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(_),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,S,0,0,Li):n.arc(e,i,S,0,Li),n.closePath();break;case"triangle":m=r?r/2:S,n.moveTo(e+Math.sin(_)*m,i-Math.cos(_)*S),_+=ay,n.lineTo(e+Math.sin(_)*m,i-Math.cos(_)*S),_+=ay,n.lineTo(e+Math.sin(_)*m,i-Math.cos(_)*S),n.closePath();break;case"rectRounded":g=S*.516,h=S-g,c=Math.cos(_+zr)*h,b=Math.cos(_+zr)*(r?r/2-g:h),u=Math.sin(_+zr)*h,y=Math.sin(_+zr)*(r?r/2-g:h),n.arc(e-b,i-u,g,_-mn,_-zi),n.arc(e+y,i-c,g,_-zi,_),n.arc(e+b,i+u,g,_,_+zi),n.arc(e-y,i+c,g,_+zi,_+mn),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*S,m=r?r/2:h,n.rect(e-m,i-h,2*m,2*h);break}_+=zr;case"rectRot":b=Math.cos(_)*(r?r/2:S),c=Math.cos(_)*S,u=Math.sin(_)*S,y=Math.sin(_)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+y,i-c),n.lineTo(e+b,i+u),n.lineTo(e-y,i+c),n.closePath();break;case"crossRot":_+=zr;case"cross":b=Math.cos(_)*(r?r/2:S),c=Math.cos(_)*S,u=Math.sin(_)*S,y=Math.sin(_)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"star":b=Math.cos(_)*(r?r/2:S),c=Math.cos(_)*S,u=Math.sin(_)*S,y=Math.sin(_)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c),_+=zr,b=Math.cos(_)*(r?r/2:S),c=Math.cos(_)*S,u=Math.sin(_)*S,y=Math.sin(_)*(r?r/2:S),n.moveTo(e-b,i-u),n.lineTo(e+b,i+u),n.moveTo(e+y,i-c),n.lineTo(e-y,i+c);break;case"line":c=r?r/2:Math.cos(_)*S,u=Math.sin(_)*S,n.moveTo(e-c,i-u),n.lineTo(e+c,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(_)*(r?r/2:S),i+Math.sin(_)*S);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ua(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ho(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Vo(n){n.restore()}function lC(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const l=(t.x+e.x)/2;n.lineTo(l,t.y),n.lineTo(l,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function oC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function cC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),fe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function uC(n,t,e,i,r){if(r.strikethrough||r.underline){const l=n.measureText(i),c=t-l.actualBoundingBoxLeft,u=t+l.actualBoundingBoxRight,h=e-l.actualBoundingBoxAscent,g=e+l.actualBoundingBoxDescent,m=r.strikethrough?(h+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function hC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Eo(n,t,e,i,r,l={}){const c=en(t)?t:[t],u=l.strokeWidth>0&&l.strokeColor!=="";let h,g;for(n.save(),n.font=r.string,cC(n,l),h=0;h<c.length;++h)g=c[h],l.backdrop&&hC(n,l.backdrop),u&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),fe(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(g,e,i,l.maxWidth)),n.fillText(g,e,i,l.maxWidth),uC(n,e,i,g,l),i+=Number(r.lineHeight);n.restore()}function Zu(n,t){const{x:e,y:i,w:r,h:l,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*mn,mn,!0),n.lineTo(e,i+l-c.bottomLeft),n.arc(e+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,mn,zi,!0),n.lineTo(e+r-c.bottomRight,i+l),n.arc(e+r-c.bottomRight,i+l-c.bottomRight,c.bottomRight,zi,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-zi,!0),n.lineTo(e+c.topLeft,i)}const dC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gC(n,t){const e=(""+n).match(dC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const mC=n=>+n||0;function P2(n,t){const e={},i=re(t),r=i?Object.keys(t):t,l=re(n)?i?c=>Tt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=mC(l(c));return e}function B2(n){return P2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Pa(n){return P2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mi(n){const t=B2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Dn(n,t){n=n||{},t=t||xe.font;let e=Tt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Tt(n.style,t.style);i&&!(""+i).match(fC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Tt(n.family,t.family),lineHeight:gC(Tt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Tt(n.weight,t.weight),string:""};return r.string=aC(r),r}function du(n,t,e,i){let r,l,c;for(r=0,l=n.length;r<l;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function pC(n,t,e){const{min:i,max:r}=n,l=CM(t,(r-i)/2),c=(u,h)=>e&&u===0?0:u+h;return{min:c(i,-Math.abs(l)),max:c(r,l)}}function Qr(n,t){return Object.assign(Object.create(n),t)}function Mg(n,t=[""],e,i,r=()=>n[0]){const l=e||n;typeof i>"u"&&(i=F2("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:r,override:u=>Mg([u,...n],t,l,i)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return V2(u,h,()=>NC(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return xy(u).includes(h)},ownKeys(u){return xy(u)},set(u,h,g){const m=u._storage||(u._storage=r());return u[h]=m[h]=g,delete u._keys,!0}})}function Fa(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:H2(n,i),setContext:l=>Fa(n,l,e,i),override:l=>Fa(n.override(l),t,e,i)};return new Proxy(r,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,u){return V2(l,c,()=>bC(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,u){return n[c]=u,delete l[c],!0}})}function H2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:hr(e)?e:()=>e,isIndexable:hr(i)?i:()=>i}}const xC=(n,t)=>n?n+kg(t):t,Cg=(n,t)=>re(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function V2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function bC(n,t,e){const{_proxy:i,_context:r,_subProxy:l,_descriptors:c}=n;let u=i[t];return hr(u)&&c.isScriptable(t)&&(u=yC(t,u,n,e)),en(u)&&u.length&&(u=vC(t,u,n,c.isIndexable)),Cg(t,u)&&(u=Fa(u,r,l&&l[t],c)),u}function yC(n,t,e,i){const{_proxy:r,_context:l,_subProxy:c,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(l,c||i);return u.delete(n),Cg(n,h)&&(h=Eg(r._scopes,r,n,h)),h}function vC(n,t,e,i){const{_proxy:r,_context:l,_subProxy:c,_descriptors:u}=e;if(typeof l.index<"u"&&i(n))return t[l.index%t.length];if(re(t[0])){const h=t,g=r._scopes.filter(m=>m!==h);t=[];for(const m of h){const b=Eg(g,r,n,m);t.push(Fa(b,l,c&&c[n],u))}}return t}function U2(n,t,e){return hr(n)?n(t,e):n}const wC=(n,t)=>n===!0?t:typeof n=="string"?Va(t,n):void 0;function SC(n,t,e,i,r){for(const l of t){const c=wC(e,l);if(c){n.add(c);const u=U2(c._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Eg(n,t,e,i){const r=t._rootScopes,l=U2(t._fallback,e,i),c=[...n,...r],u=new Set;u.add(i);let h=py(u,c,e,l||e,i);return h===null||typeof l<"u"&&l!==e&&(h=py(u,c,l,h,i),h===null)?!1:Mg(Array.from(u),[""],r,l,()=>kC(t,e,i))}function py(n,t,e,i,r){for(;e;)e=SC(n,t,e,i,r);return e}function kC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return en(r)&&re(e)?e:r||{}}function NC(n,t,e,i){let r;for(const l of t)if(r=F2(xC(l,n),e),typeof r<"u")return Cg(n,r)?Eg(e,i,n,r):r}function F2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function xy(n){let t=n._keys;return t||(t=n._keys=_C(n._scopes)),t}function _C(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const jC=Number.EPSILON||1e-14,Ya=(n,t)=>t<n.length&&!n[t].skip&&n[t],Y2=n=>n==="x"?"y":"x";function MC(n,t,e,i){const r=n.skip?t:n,l=t,c=e.skip?t:e,u=L0(l,r),h=L0(c,l);let g=u/(u+h),m=h/(u+h);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const b=i*g,y=i*m;return{previous:{x:l.x-b*(c.x-r.x),y:l.y-b*(c.y-r.y)},next:{x:l.x+y*(c.x-r.x),y:l.y+y*(c.y-r.y)}}}function CC(n,t,e){const i=n.length;let r,l,c,u,h,g=Ya(n,0);for(let m=0;m<i-1;++m)if(h=g,g=Ya(n,m+1),!(!h||!g)){if(Yr(t[m],0,jC)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],l=e[m+1]/t[m],u=Math.pow(r,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),e[m]=r*c*t[m],e[m+1]=l*c*t[m])}}function EC(n,t,e="x"){const i=Y2(e),r=n.length;let l,c,u,h=Ya(n,0);for(let g=0;g<r;++g){if(c=u,u=h,h=Ya(n,g+1),!u)continue;const m=u[e],b=u[i];c&&(l=(m-c[e])/3,u[`cp1${e}`]=m-l,u[`cp1${i}`]=b-l*t[g]),h&&(l=(h[e]-m)/3,u[`cp2${e}`]=m+l,u[`cp2${i}`]=b+l*t[g])}}function TC(n,t="x"){const e=Y2(t),i=n.length,r=Array(i).fill(0),l=Array(i);let c,u,h,g=Ya(n,0);for(c=0;c<i;++c)if(u=h,h=g,g=Ya(n,c+1),!!h){if(g){const m=g[t]-h[t];r[c]=m!==0?(g[e]-h[e])/m:0}l[c]=u?g?_i(r[c-1])!==_i(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}CC(n,r,l),EC(n,l,t)}function fu(n,t,e){return Math.max(Math.min(n,e),t)}function DC(n,t){let e,i,r,l,c,u=Ua(n[0],t);for(e=0,i=n.length;e<i;++e)c=l,l=u,u=e<i-1&&Ua(n[e+1],t),l&&(r=n[e],c&&(r.cp1x=fu(r.cp1x,t.left,t.right),r.cp1y=fu(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=fu(r.cp2x,t.left,t.right),r.cp2y=fu(r.cp2y,t.top,t.bottom)))}function AC(n,t,e,i,r){let l,c,u,h;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")TC(n,r);else{let g=i?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)u=n[l],h=MC(g,u,n[Math.min(l+1,c-(i?0:1))%c],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,g=u}t.capBezierPoints&&DC(n,e)}function Tg(){return typeof window<"u"&&typeof document<"u"}function Dg(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ku(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const xh=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function RC(n,t){return xh(n).getPropertyValue(t)}const OC=["top","right","bottom","left"];function Ir(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const l=OC[r];i[l]=parseFloat(n[t+"-"+l+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function LC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:l}=i;let c=!1,u,h;if(zC(r,l,n.target))u=r,h=l;else{const g=t.getBoundingClientRect();u=i.clientX-g.left,h=i.clientY-g.top,c=!0}return{x:u,y:h,box:c}}function Ki(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=xh(e),l=r.boxSizing==="border-box",c=Ir(r,"padding"),u=Ir(r,"border","width"),{x:h,y:g,box:m}=LC(n,e),b=c.left+(m&&u.left),y=c.top+(m&&u.top);let{width:v,height:k}=t;return l&&(v-=c.width+u.width,k-=c.height+u.height),{x:Math.round((h-b)/v*e.width/i),y:Math.round((g-y)/k*e.height/i)}}function PC(n,t,e){let i,r;if(t===void 0||e===void 0){const l=n&&Dg(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const c=l.getBoundingClientRect(),u=xh(l),h=Ir(u,"border","width"),g=Ir(u,"padding");t=c.width-g.width-h.width,e=c.height-g.height-h.height,i=Ku(u.maxWidth,l,"clientWidth"),r=Ku(u.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:i||Qu,maxHeight:r||Qu}}const rr=n=>Math.round(n*10)/10;function BC(n,t,e,i){const r=xh(n),l=Ir(r,"margin"),c=Ku(r.maxWidth,n,"clientWidth")||Qu,u=Ku(r.maxHeight,n,"clientHeight")||Qu,h=PC(n,t,e);let{width:g,height:m}=h;if(r.boxSizing==="content-box"){const y=Ir(r,"border","width"),v=Ir(r,"padding");g-=v.width+y.width,m-=v.height+y.height}return g=Math.max(0,g-l.width),m=Math.max(0,i?g/i:m-l.height),g=rr(Math.min(g,c,h.maxWidth)),m=rr(Math.min(m,u,h.maxHeight)),g&&!m&&(m=rr(g/2)),(t!==void 0||e!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,g=rr(Math.floor(m*i))),{width:g,height:m}}function by(n,t,e){const i=t||1,r=rr(n.height*i),l=rr(n.width*i);n.height=rr(n.height),n.width=rr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==l?(n.currentDevicePixelRatio=i,c.height=r,c.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const HC=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Tg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function yy(n,t){const e=RC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Hr(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function VC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function UC(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},l={x:t.cp1x,y:t.cp1y},c=Hr(n,r,e),u=Hr(r,l,e),h=Hr(l,t,e),g=Hr(c,u,e),m=Hr(u,h,e);return Hr(g,m,e)}const FC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},YC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ba(n,t,e){return n?FC(t,e):YC()}function I2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function q2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function W2(n){return n==="angle"?{between:E2,compare:FM,normalize:Zi}:{between:sr,compare:(t,e)=>t-e,normalize:t=>t}}function vy({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function IC(n,t,e){const{property:i,start:r,end:l}=e,{between:c,normalize:u}=W2(i),h=t.length;let{start:g,end:m,loop:b}=n,y,v;if(b){for(g+=h,m+=h,y=0,v=h;y<v&&c(u(t[g%h][i]),r,l);++y)g--,m--;g%=h,m%=h}return m<g&&(m+=h),{start:g,end:m,loop:b,style:n.style}}function $2(n,t,e){if(!e)return[n];const{property:i,start:r,end:l}=e,c=t.length,{compare:u,between:h,normalize:g}=W2(i),{start:m,end:b,loop:y,style:v}=IC(n,t,e),k=[];let S=!1,_=null,M,E,A;const U=()=>h(r,A,M)&&u(r,A)!==0,R=()=>u(l,M)===0||h(l,A,M),q=()=>S||U(),F=()=>!S||R();for(let Q=m,V=m;Q<=b;++Q)E=t[Q%c],!E.skip&&(M=g(E[i]),M!==A&&(S=h(M,r,l),_===null&&q()&&(_=u(M,r)===0?Q:V),_!==null&&F()&&(k.push(vy({start:_,end:Q,loop:y,count:c,style:v})),_=null),V=Q,A=M));return _!==null&&k.push(vy({start:_,end:b,loop:y,count:c,style:v})),k}function G2(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const l=$2(i[r],n.points,t);l.length&&e.push(...l)}return e}function qC(n,t,e,i){let r=0,l=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(l+=r);l>r&&n[l%t].skip;)l--;return l%=t,{start:r,end:l}}function WC(n,t,e,i){const r=n.length,l=[];let c=t,u=n[t],h;for(h=t+1;h<=e;++h){const g=n[h%r];g.skip||g.stop?u.skip||(i=!1,l.push({start:t%r,end:(h-1)%r,loop:i}),t=c=g.stop?h:null):(c=h,u.skip&&(t=h)),u=g}return c!==null&&l.push({start:t%r,end:c%r,loop:i}),l}function $C(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const l=!!n._loop,{start:c,end:u}=qC(e,r,l,i);if(i===!0)return wy(n,[{start:c,end:u,loop:l}],e,t);const h=u<c?u+r:u,g=!!n._fullLoop&&c===0&&u===r-1;return wy(n,WC(e,c,h,g),e,t)}function wy(n,t,e,i){return!i||!i.setContext||!e?t:GC(n,t,e,i)}function GC(n,t,e,i){const r=n._chart.getContext(),l=Sy(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,h=e.length,g=[];let m=l,b=t[0].start,y=b;function v(k,S,_,M){const E=u?-1:1;if(k!==S){for(k+=h;e[k%h].skip;)k-=E;for(;e[S%h].skip;)S+=E;k%h!==S%h&&(g.push({start:k%h,end:S%h,loop:_,style:M}),m=M,b=S%h)}}for(const k of t){b=u?b:k.start;let S=e[b%h],_;for(y=b+1;y<=k.end;y++){const M=e[y%h];_=Sy(i.setContext(Qr(r,{type:"segment",p0:S,p1:M,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:c}))),XC(_,m)&&v(b,y-1,k.loop,m),S=M,m=_}b<y-1&&v(b,y-1,k.loop,m)}return g}function Sy(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function XC(n,t){if(!t)return!1;const e=[],i=function(r,l){return jg(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function gu(n,t,e){return n.options.clip?n[e]:t[e]}function QC(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:gu(e,t,"left"),right:gu(e,t,"right"),top:gu(i,t,"top"),bottom:gu(i,t,"bottom")}:t}function X2(n,t){const e=t._clip;if(e.disabled)return!1;const i=QC(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class ZC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const l=e.listeners[r],c=e.duration;l.forEach(u=>u({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=A2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(l[c]=l[l.length-1],l.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),l.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ys=new ZC;const ky="transparent",KC={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=dy(n||ky),r=i.valid&&dy(t||ky);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class JC{constructor(t,e,i,r){const l=e[i];r=du([t.to,r,l,t.from]);const c=du([t.from,l,r]);this._active=!0,this._fn=t.fn||KC[t.type||typeof c],this._easing=fo[t.easing]||fo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=du([t.to,e,r,t.from]),this._from=du([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=l;return}h=e/i%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(l,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Q2{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!re(t))return;const e=Object.keys(xe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const l=t[r];if(!re(l))return;const c={};for(const u of e)c[u]=l[u];(en(l.properties)&&l.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,e){const i=e.options,r=e3(t,i);if(!r)return[];const l=this._createAnimations(r,i);return i.$shared&&t3(t.options.$animations,i).then(()=>{t.options=i},()=>{}),l}_createAnimations(t,e){const i=this._properties,r=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const g=c[h];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[g];let b=l[g];const y=i.get(g);if(b)if(y&&b.active()){b.update(y,m,u);continue}else b.cancel();if(!y||!y.duration){t[g]=m;continue}l[g]=b=new JC(y,t,g,m),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ys.add(this._chart,i),!0}}function t3(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const l=n[i[r]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function e3(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ny(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:i?l:r,end:i?r:l}}function n3(n,t,e){if(e===!1)return!1;const i=Ny(n,e),r=Ny(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function i3(n){let t,e,i,r;return re(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function Z2(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,l;for(r=0,l=i.length;r<l;++r)e.push(i[r].index);return e}function _y(n,t,e,i={}){const r=n.keys,l=i.mode==="single";let c,u,h,g;if(t===null)return;let m=!1;for(c=0,u=r.length;c<u;++c){if(h=+r[c],h===e){if(m=!0,i.all)continue;break}g=n.values[h],An(g)&&(l||t===0||_i(t)===_i(g))&&(t+=g)}return!m&&!i.all?0:t}function s3(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let h,g,m;for(h=0,g=c.length;h<g;++h)m=c[h],u[h]={[r]:m,[l]:n[m]};return u}function Xf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function r3(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function a3(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function l3(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function jy(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const l=n[r.index];if(e&&l>0||!e&&l<0)return r.index}return null}function My(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:u}=i,h=l.axis,g=c.axis,m=r3(l,c,i),b=t.length;let y;for(let v=0;v<b;++v){const k=t[v],{[h]:S,[g]:_}=k,M=k._stacks||(k._stacks={});y=M[g]=l3(r,m,S),y[u]=_,y._top=jy(y,c,!0,i.type),y._bottom=jy(y,c,!1,i.type);const E=y._visualValues||(y._visualValues={});E[u]=_}}function Qf(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function o3(n,t){return Qr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function c3(n,t,e){return Qr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ql(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const l=r._stacks;if(!l||l[i]===void 0||l[i][e]===void 0)return;delete l[i][e],l[i]._visualValues!==void 0&&l[i]._visualValues[e]!==void 0&&delete l[i]._visualValues[e]}}}const Zf=n=>n==="reset"||n==="none",Cy=(n,t)=>t?n:Object.assign({},n),u3=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Z2(e,!0),values:null};class Ag{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Xf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ql(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,y,v,k)=>b==="x"?y:b==="r"?k:v,l=e.xAxisID=Tt(i.xAxisID,Qf(t,"x")),c=e.yAxisID=Tt(i.yAxisID,Qf(t,"y")),u=e.rAxisID=Tt(i.rAxisID,Qf(t,"r")),h=e.indexAxis,g=e.iAxisID=r(h,l,c,u),m=e.vAxisID=r(h,c,l,u);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cy(this._data,this),t._stacked&&Ql(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(re(e)){const r=this._cachedMeta;this._data=s3(e,r)}else if(i!==e){if(i){cy(i,this);const r=this._cachedMeta;Ql(r),r._parsed=[]}e&&Object.isExtensible(e)&&WM(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const l=e._stacked;e._stacked=Xf(e.vScale,e),e.stack!==i.stack&&(r=!0,Ql(e),e.stack=i.stack),this._resyncElements(t),(r||l!==e._stacked)&&(My(this,e._parsed),e._stacked=Xf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:l,_stacked:c}=i,u=l.axis;let h=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],m,b,y;if(this._parsing===!1)i._parsed=r,i._sorted=!0,y=r;else{en(r[t])?y=this.parseArrayData(i,r,t,e):re(r[t])?y=this.parseObjectData(i,r,t,e):y=this.parsePrimitiveData(i,r,t,e);const v=()=>b[u]===null||g&&b[u]<g[u];for(m=0;m<e;++m)i._parsed[m+t]=b=y[m],h&&(v()&&(h=!1),g=b);i._sorted=h}c&&My(this,y)}parsePrimitiveData(t,e,i,r){const{iScale:l,vScale:c}=t,u=l.axis,h=c.axis,g=l.getLabels(),m=l===c,b=new Array(r);let y,v,k;for(y=0,v=r;y<v;++y)k=y+i,b[y]={[u]:m||l.parse(g[k],k),[h]:c.parse(e[k],k)};return b}parseArrayData(t,e,i,r){const{xScale:l,yScale:c}=t,u=new Array(r);let h,g,m,b;for(h=0,g=r;h<g;++h)m=h+i,b=e[m],u[h]={x:l.parse(b[0],m),y:c.parse(b[1],m)};return u}parseObjectData(t,e,i,r){const{xScale:l,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,g=new Array(r);let m,b,y,v;for(m=0,b=r;m<b;++m)y=m+i,v=e[y],g[m]={x:l.parse(Va(v,u),y),y:c.parse(Va(v,h),y)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,l=this._cachedMeta,c=e[t.axis],u={keys:Z2(r,!0),values:e._stacks[t.axis]._visualValues};return _y(u,c,l.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const l=i[e.axis];let c=l===null?NaN:l;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,c=_y(r,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,l=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),h=u3(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=a3(u);let y,v;function k(){v=r[y];const S=v[u.axis];return!An(v[t.axis])||m>S||b<S}for(y=0;y<c&&!(!k()&&(this.updateRangeFromParsed(g,t,v,h),l));++y);if(l){for(y=c-1;y>=0;--y)if(!k()){this.updateRangeFromParsed(g,t,v,h);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,l,c;for(r=0,l=e.length;r<l;++r)c=e[r][t.axis],An(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,l=this.getParsed(t);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=i3(Tt(this.options.clip,n3(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],l=e.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||r.length-u,g=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,l,u,h),m=u;m<u+h;++m){const b=r[m];b.hidden||(b.active&&g?c.push(b):b.draw(t,l))}for(m=0;m<c.length;++m)c[m].draw(t,l)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=c3(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=r.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=o3(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=i,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",l=this._cachedDataOpts,c=t+"-"+e,u=l[c],h=this.enableOptionSharing&&Mo(i);if(u)return Cy(u,h);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],y=g.getOptionScopes(this.getDataset(),m),v=Object.keys(xe.elements[t]),k=()=>this.getContext(i,r,e),S=g.resolveNamedOptions(y,v,k,b);return S.$shared&&(S.$shared=h,l[c]=Object.freeze(Cy(S,h))),S}_resolveAnimations(t,e,i){const r=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,u=l[c];if(u)return u;let h;if(r.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,e),y=m.getOptionScopes(this.getDataset(),b);h=m.createResolver(y,this.getContext(t,i,e))}const g=new Q2(r,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Zf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(e,l)||l!==r;return this.updateSharedOptions(l,e,i),{sharedOptions:l,includeOptions:c}}updateElement(t,e,i,r){Zf(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Zf(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const l=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,g]of this._syncList)this[u](h,g);this._syncList=[];const r=i.length,l=e.length,c=Math.min(l,r);c&&this.parse(0,c),l>r?this._insertElements(r,l-r,t):l<r&&this._removeElements(l,r-l)}_insertElements(t,e,i=!0){const r=this._cachedMeta,l=r.data,c=t+e;let u;const h=g=>{for(g.length+=e,u=g.length-1;u>=c;u--)g[u]=g[u-e]};for(h(l),u=t;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(l,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Ql(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function h3(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,l=e.length;r<l;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=D2(i.sort((r,l)=>r-l))}return n._cache.$bar}function d3(n){const t=n.iScale,e=h3(t,n.type);let i=t._length,r,l,c,u;const h=()=>{c===32767||c===-32768||(Mo(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,l=e.length;r<l;++r)c=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,l=t.ticks.length;r<l;++r)c=t.getPixelForTick(r),h();return i}function f3(n,t,e,i){const r=e.barThickness;let l,c;return fe(r)?(l=t.min*e.categoryPercentage,c=e.barPercentage):(l=r*i,c=1),{chunk:l/i,ratio:c,start:t.pixels[n]-l/2}}function g3(n,t,e,i){const r=t.pixels,l=r[n];let c=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;c===null&&(c=l-(u===null?t.end-t.start:u-l)),u===null&&(u=l+l-c);const g=l-(l-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/i,ratio:e.barPercentage,start:g}}function m3(n,t,e,i){const r=e.parse(n[0],i),l=e.parse(n[1],i),c=Math.min(r,l),u=Math.max(r,l);let h=c,g=u;Math.abs(c)>Math.abs(u)&&(h=u,g=c),t[e.axis]=g,t._custom={barStart:h,barEnd:g,start:r,end:l,min:c,max:u}}function K2(n,t,e,i){return en(n)?m3(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Ey(n,t,e,i){const r=n.iScale,l=n.vScale,c=r.getLabels(),u=r===l,h=[];let g,m,b,y;for(g=e,m=e+i;g<m;++g)y=t[g],b={},b[r.axis]=u||r.parse(c[g],g),h.push(K2(y,b,l,g));return h}function Kf(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function p3(n,t,e){return n!==0?_i(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function x3(n){let t,e,i,r,l;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",l="start"):(r="start",l="end"),{start:e,end:i,reverse:t,top:r,bottom:l}}function b3(n,t,e,i){let r=t.borderSkipped;const l={};if(!r){n.borderSkipped=l;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:g,bottom:m}=x3(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=m:(l[Ty(m,c,u,h)]=!0,r=g)),l[Ty(r,c,u,h)]=!0,n.borderSkipped=l}function Ty(n,t,e,i){return i?(n=y3(n,t,e),n=Dy(n,e,t)):n=Dy(n,t,e),n}function y3(n,t,e){return n===t?e:n===e?t:n}function Dy(n,t,e){return n==="start"?t:n==="end"?e:n}function v3(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Rg extends Ag{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Ey(t,e,i,r)}parseArrayData(t,e,i,r){return Ey(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:l,vScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,g=l.axis==="x"?u:h,m=c.axis==="x"?u:h,b=[];let y,v,k,S;for(y=i,v=i+r;y<v;++y)S=e[y],k={},k[l.axis]=l.parse(Va(S,g),y),b.push(K2(Va(S,m),k,c,y));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const l=i._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,l=this.getParsed(t),c=l._custom,u=Kf(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const l=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),g=u.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:y}=this._getSharedOptions(e,r);for(let v=e;v<e+i;v++){const k=this.getParsed(v),S=l||fe(k[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),_=this._calculateBarIndexPixels(v,m),M=(k._stacks||{})[u.axis],E={horizontal:g,base:S.base,enableBorderRadius:!M||Kf(k._custom)||c===M._top||c===M._bottom,x:g?S.head:_.center,y:g?_.center:S.head,height:g?_.size:Math.abs(S.size),width:g?Math.abs(S.size):_.size};y&&(E.options=b||this.resolveDataElementOptions(v,t[v].active?"active":r));const A=E.options||t[v].options;b3(E,A,M,c),v3(E,A,m.ratio),this.updateElement(t[v],v,E,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),l=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],g=m=>{const b=m._parsed.find(v=>v[i.axis]===h),y=b&&b[m.vScale.axis];if(fe(y)||isNaN(y))return!0};for(const m of r)if(!(e!==void 0&&g(m))&&((l===!1||c.indexOf(m.stack)===-1||l===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Tt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),l=e!==void 0?r.indexOf(e):-1;return l===-1?r.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let l,c;for(l=0,c=e.data.length;l<c;++l)r.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const u=t.barThickness;return{min:u||d3(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:l,minBarLength:c}}=this,u=l||0,h=this.getParsed(t),g=h._custom,m=Kf(g);let b=h[e.axis],y=0,v=i?this.applyStack(e,h,i):b,k,S;v!==b&&(y=v-b,v=b),m&&(b=g.barStart,v=g.barEnd-g.barStart,b!==0&&_i(b)!==_i(g.barEnd)&&(y=0),y+=b);const _=!fe(l)&&!m?l:y;let M=e.getPixelForValue(_);if(this.chart.getDataVisibility(t)?k=e.getPixelForValue(y+v):k=M,S=k-M,Math.abs(S)<c){S=p3(S,e,u)*c,b===u&&(M-=S/2);const E=e.getPixelForDecimal(0),A=e.getPixelForDecimal(1),U=Math.min(E,A),R=Math.max(E,A);M=Math.max(Math.min(M,R),U),k=M+S,i&&!m&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(k)-e.getValueForPixel(M))}if(M===e.getPixelForValue(u)){const E=_i(S)*e.getLineWidthForValue(u)/2;M+=E,S-=E}return{size:S,base:M,head:k,center:k+S/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,l=r.skipNull,c=Tt(r.maxBarThickness,1/0);let u,h;const g=this._getAxisCount();if(e.grouped){const m=l?this._getStackCount(t):e.stackCount,b=r.barThickness==="flex"?g3(t,e,r,m*g):f3(t,e,r,m*g),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Tt(y,this.getFirstScaleIdForIndexAxis())),k=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0)+v;u=b.start+b.chunk*k+b.chunk/2,h=Math.min(c,b.chunk*b.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(c,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let l=0;for(;l<r;++l)this.getParsed(l)[e.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}class w3 extends Ag{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:l}=e,c=this.chart._animationsDisabled;let{start:u,count:h}=XM(e,r,c);this._drawStart=u,this._drawCount=h,QM(e)&&(u=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(r,u,h,t)}updateElements(t,e,i,r){const l=r==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(e,r),y=c.axis,v=u.axis,{spanGaps:k,segment:S}=this.options,_=Co(k)?k:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||l||r==="none",E=e+i,A=t.length;let U=e>0&&this.getParsed(e-1);for(let R=0;R<A;++R){const q=t[R],F=M?q:{};if(R<e||R>=E){F.skip=!0;continue}const Q=this.getParsed(R),V=fe(Q[v]),nt=F[y]=c.getPixelForValue(Q[y],R),P=F[v]=l||V?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Q,h):Q[v],R);F.skip=isNaN(nt)||isNaN(P)||V,F.stop=R>0&&Math.abs(Q[y]-U[y])>_,S&&(F.parsed=Q,F.raw=g.data[R]),b&&(F.options=m||this.resolveDataElementOptions(R,q.active?"active":r)),M||this.updateElement(q,R,F,r),U=Q}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const l=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,l,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Pr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Og{static override(t){Object.assign(Og.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Pr()}parse(){return Pr()}format(){return Pr()}add(){return Pr()}diff(){return Pr()}startOf(){return Pr()}endOf(){return Pr()}}var S3={_date:Og};function k3(n,t,e,i){const{controller:r,data:l,_sorted:c}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&l.length){const g=u._reversePixels?IM:Ur;if(i){if(r._sharedOptions){const m=l[0],b=typeof m.getRange=="function"&&m.getRange(t);if(b){const y=g(l,t,e-b),v=g(l,t,e+b);return{lo:y.lo,hi:v.hi}}}}else{const m=g(l,t,e);if(h){const{vScale:b}=r._cachedMeta,{_parsed:y}=n,v=y.slice(0,m.lo+1).reverse().findIndex(S=>!fe(S[b.axis]));m.lo-=Math.max(0,v);const k=y.slice(m.hi).findIndex(S=>!fe(S[b.axis]));m.hi+=Math.max(0,k)}return m}}return{lo:0,hi:l.length-1}}function bh(n,t,e,i,r){const l=n.getSortedVisibleDatasetMetas(),c=e[t];for(let u=0,h=l.length;u<h;++u){const{index:g,data:m}=l[u],{lo:b,hi:y}=k3(l[u],t,c,r);for(let v=b;v<=y;++v){const k=m[v];k.skip||i(k,g,v)}}}function N3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const l=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Jf(n,t,e,i,r){const l=[];return!r&&!n.isPointInArea(t)||bh(n,e,t,function(u,h,g){!r&&!Ua(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&l.push({element:u,datasetIndex:h,index:g})},!0),l}function _3(n,t,e,i){let r=[];function l(c,u,h){const{startAngle:g,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:b}=UM(c,{x:t.x,y:t.y});E2(b,g,m)&&r.push({element:c,datasetIndex:u,index:h})}return bh(n,e,t,l),r}function j3(n,t,e,i,r,l){let c=[];const u=N3(e);let h=Number.POSITIVE_INFINITY;function g(m,b,y){const v=m.inRange(t.x,t.y,r);if(i&&!v)return;const k=m.getCenterPoint(r);if(!(!!l||n.isPointInArea(k))&&!v)return;const _=u(t,k);_<h?(c=[{element:m,datasetIndex:b,index:y}],h=_):_===h&&c.push({element:m,datasetIndex:b,index:y})}return bh(n,e,t,g),c}function t0(n,t,e,i,r,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!i?_3(n,t,e,r):j3(n,t,e,i,r,l)}function Ay(n,t,e,i,r){const l=[],c=e==="x"?"inXRange":"inYRange";let u=!1;return bh(n,e,t,(h,g,m)=>{h[c]&&h[c](t[e],r)&&(l.push({element:h,datasetIndex:g,index:m}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:l}var M3={modes:{index(n,t,e,i){const r=Ki(t,n),l=e.axis||"x",c=e.includeInvisible||!1,u=e.intersect?Jf(n,r,l,i,c):t0(n,r,l,!1,i,c),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=u[0].index,b=g.data[m];b&&!b.skip&&h.push({element:b,datasetIndex:g.index,index:m})}),h):[]},dataset(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;let u=e.intersect?Jf(n,r,l,i,c):t0(n,r,l,!1,i,c);if(u.length>0){const h=u[0].datasetIndex,g=n.getDatasetMeta(h).data;u=[];for(let m=0;m<g.length;++m)u.push({element:g[m],datasetIndex:h,index:m})}return u},point(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Jf(n,r,l,i,c)},nearest(n,t,e,i){const r=Ki(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return t0(n,r,l,e.intersect,i,c)},x(n,t,e,i){const r=Ki(t,n);return Ay(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ki(t,n);return Ay(n,r,"y",e.intersect,i)}}};const J2=["left","top","right","bottom"];function Zl(n,t){return n.filter(e=>e.pos===t)}function Ry(n,t){return n.filter(e=>J2.indexOf(e.pos)===-1&&e.box.axis===t)}function Kl(n,t){return n.sort((e,i)=>{const r=t?i:e,l=t?e:i;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function C3(n){const t=[];let e,i,r,l,c,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:l,options:{stack:c,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&l+c,stackWeight:u});return t}function E3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:l}=e;if(!i||!J2.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function T3(n,t){const e=E3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let l,c,u;for(l=0,c=n.length;l<c;++l){u=n[l];const{fullSize:h}=u.box,g=e[u.stack],m=g&&u.stackWeight/g.weight;u.horizontal?(u.width=m?m*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:h&&t.availableHeight)}return e}function D3(n){const t=C3(n),e=Kl(t.filter(g=>g.box.fullSize),!0),i=Kl(Zl(t,"left"),!0),r=Kl(Zl(t,"right")),l=Kl(Zl(t,"top"),!0),c=Kl(Zl(t,"bottom")),u=Ry(t,"x"),h=Ry(t,"y");return{fullSize:e,leftAndTop:i.concat(l),rightAndBottom:r.concat(h).concat(c).concat(u),chartArea:Zl(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:l.concat(c).concat(u)}}function Oy(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function tw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function A3(n,t,e,i){const{pos:r,box:l}=e,c=n.maxPadding;if(!re(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?l.height:l.width),e.size=b.size/b.count,n[r]+=e.size}l.getPadding&&tw(c,l.getPadding());const u=Math.max(0,t.outerWidth-Oy(c,n,"left","right")),h=Math.max(0,t.outerHeight-Oy(c,n,"top","bottom")),g=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:g,other:m}:{same:m,other:g}}function R3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function O3(n,t){const e=t.maxPadding;function i(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return i(n?["left","right"]:["top","bottom"])}function ao(n,t,e,i){const r=[];let l,c,u,h,g,m;for(l=0,c=n.length,g=0;l<c;++l){u=n[l],h=u.box,h.update(u.width||t.w,u.height||t.h,O3(u.horizontal,t));const{same:b,other:y}=A3(t,e,u,i);g|=b&&r.length,m=m||y,h.fullSize||r.push(u)}return g&&ao(r,t,e,i)||m}function mu(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function zy(n,t,e,i){const r=e.padding;let{x:l,y:c}=t;for(const u of n){const h=u.box,g=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/g.weight||1;if(u.horizontal){const b=t.w*m,y=g.size||h.height;Mo(g.start)&&(c=g.start),h.fullSize?mu(h,r.left,c,e.outerWidth-r.right-r.left,y):mu(h,t.left+g.placed,c,b,y),g.start=c,g.placed+=b,c=h.bottom}else{const b=t.h*m,y=g.size||h.width;Mo(g.start)&&(l=g.start),h.fullSize?mu(h,l,r.top,y,e.outerHeight-r.bottom-r.top):mu(h,l,t.top+g.placed,y,b),g.start=l,g.placed+=b,l=h.right}}t.x=l,t.y=c}var Ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Mi(n.options.layout.padding),l=Math.max(t-r.width,0),c=Math.max(e-r.height,0),u=D3(n.boxes),h=u.vertical,g=u.horizontal;Kt(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const m=h.reduce((S,_)=>_.box.options&&_.box.options.display===!1?S:S+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},r);tw(y,Mi(i));const v=Object.assign({maxPadding:y,w:l,h:c,x:r.left,y:r.top},r),k=T3(h.concat(g),b);ao(u.fullSize,v,b,k),ao(h,v,b,k),ao(g,v,b,k)&&ao(h,v,b,k),R3(v),zy(u.leftAndTop,v,b,k),v.x+=v.w,v.y+=v.h,zy(u.rightAndBottom,v,b,k),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Kt(u.chartArea,S=>{const _=S.box;Object.assign(_,n.chartArea),_.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class ew{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class z3 extends ew{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Pu="$chartjs",L3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ly=n=>n===null||n==="";function P3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Pu]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ly(r)){const l=yy(n,"width");l!==void 0&&(n.width=l)}if(Ly(i))if(n.style.height==="")n.height=n.width/(t||2);else{const l=yy(n,"height");l!==void 0&&(n.height=l)}return n}const nw=HC?{passive:!0}:!1;function B3(n,t,e){n&&n.addEventListener(t,e,nw)}function H3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,nw)}function V3(n,t){const e=L3[n.type]||n.type,{x:i,y:r}=Ki(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ju(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function U3(n,t,e){const i=n.canvas,r=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Ju(u.addedNodes,i),c=c&&!Ju(u.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function F3(n,t,e){const i=n.canvas,r=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Ju(u.removedNodes,i),c=c&&!Ju(u.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const To=new Map;let Py=0;function iw(){const n=window.devicePixelRatio;n!==Py&&(Py=n,To.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Y3(n,t){To.size||window.addEventListener("resize",iw),To.set(n,t)}function I3(n){To.delete(n),To.size||window.removeEventListener("resize",iw)}function q3(n,t,e){const i=n.canvas,r=i&&Dg(i);if(!r)return;const l=R2((u,h)=>{const g=r.clientWidth;e(u,h),g<r.clientWidth&&e()},window),c=new ResizeObserver(u=>{const h=u[0],g=h.contentRect.width,m=h.contentRect.height;g===0&&m===0||l(g,m)});return c.observe(r),Y3(n,l),c}function e0(n,t,e){e&&e.disconnect(),t==="resize"&&I3(n)}function W3(n,t,e){const i=n.canvas,r=R2(l=>{n.ctx!==null&&e(V3(l,n))},n);return B3(i,t,r),r}class $3 extends ew{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(P3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Pu])return!1;const i=e[Pu].initial;["height","width"].forEach(l=>{const c=i[l];fe(c)?e.removeAttribute(l):e.setAttribute(l,c)});const r=i.style||{};return Object.keys(r).forEach(l=>{e.style[l]=r[l]}),e.width=e.width,delete e[Pu],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:U3,detach:F3,resize:q3}[e]||W3;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:e0,detach:e0,resize:e0}[e]||H3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return BC(t,e,i,r)}isAttached(t){const e=t&&Dg(t);return!!(e&&e.isConnected)}}function G3(n){return!Tg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?z3:$3}class gr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Co(this.x)&&Co(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(l=>{r[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),r}}function X3(n,t){const e=n.options.ticks,i=Q3(n),r=Math.min(e.maxTicksLimit||i,i),l=e.major.enabled?K3(t):[],c=l.length,u=l[0],h=l[c-1],g=[];if(c>r)return J3(t,g,l,c/r),g;const m=Z3(l,t,r);if(c>0){let b,y;const v=c>1?Math.round((h-u)/(c-1)):null;for(pu(t,g,m,fe(v)?0:u-v,u),b=0,y=c-1;b<y;b++)pu(t,g,m,l[b],l[b+1]);return pu(t,g,m,h,fe(v)?t.length:h+v),g}return pu(t,g,m),g}function Q3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function Z3(n,t,e){const i=tE(n),r=t.length/e;if(!i)return Math.max(r,1);const l=LM(i);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>r)return h}return Math.max(r,1)}function K3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function J3(n,t,e,i){let r=0,l=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===l&&(t.push(n[c]),r++,l=e[r*i])}function pu(n,t,e,i,r){const l=Tt(i,0),c=Math.min(Tt(r,n.length),n.length);let u=0,h,g,m;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),m=l;m<0;)u++,m=Math.round(l+u*e);for(g=Math.max(l,0);g<c;g++)g===m&&(t.push(n[g]),u++,m=Math.round(l+u*e))}function tE(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const eE=n=>n==="left"?"right":n==="right"?"left":n,By=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Hy=(n,t)=>Math.min(t||n,n);function Vy(n,t){const e=[],i=n.length/t,r=n.length;let l=0;for(;l<r;l+=i)e.push(n[Math.floor(l)]);return e}function nE(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),l=n._startPixel,c=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(h-l,c-h):t===0?g=(n.getPixelForTick(1)-h)/2:g=(h-n.getPixelForTick(r-1))/2,h+=r<t?g:-g,h<l-u||h>c+u)))return h}function iE(n,t){Kt(n,e=>{const i=e.gc,r=i.length/2;let l;if(r>t){for(l=0;l<r;++l)delete e.data[i[l]];i.splice(0,r)}})}function Jl(n){return n.drawTicks?n.tickLength:0}function Uy(n,t){if(!n.display)return 0;const e=Dn(n.font,t),i=Mi(n.padding);return(en(n.text)?n.text.length:1)*e.lineHeight+i.height}function sE(n,t){return Qr(n,{scale:t,type:"scale"})}function rE(n,t,e){return Qr(n,{tick:e,index:t,type:"tick"})}function aE(n,t,e){let i=_g(n);return(e&&t!=="right"||!e&&t==="right")&&(i=eE(i)),i}function lE(n,t,e,i){const{top:r,left:l,bottom:c,right:u,chart:h}=n,{chartArea:g,scales:m}=h;let b=0,y,v,k;const S=c-r,_=u-l;if(n.isHorizontal()){if(v=Tn(i,l,u),re(e)){const M=Object.keys(e)[0],E=e[M];k=m[M].getPixelForValue(E)+S-t}else e==="center"?k=(g.bottom+g.top)/2+S-t:k=By(n,e,t);y=u-l}else{if(re(e)){const M=Object.keys(e)[0],E=e[M];v=m[M].getPixelForValue(E)-_+t}else e==="center"?v=(g.left+g.right)/2-_+t:v=By(n,e,t);k=Tn(i,c,r),b=e==="left"?-zi:zi}return{titleX:v,titleY:k,maxWidth:y,rotation:b}}class el extends gr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=$i(t,Number.POSITIVE_INFINITY),e=$i(e,Number.NEGATIVE_INFINITY),i=$i(i,Number.POSITIVE_INFINITY),r=$i(r,Number.NEGATIVE_INFINITY),{min:$i(t,i),max:$i(e,r),minDefined:An(t),maxDefined:An(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:l}=this.getUserBounds(),c;if(r&&l)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,g=u.length;h<g;++h)c=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),l||(i=Math.max(i,c.max));return e=l&&e>i?i:e,i=r&&e>i?e:i,{min:$i(e,$i(i,e)),max:$i(i,$i(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pC(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Vy(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=X3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,l;for(i=0,r=t.length;i<r;i++)l=t[i],l.label=Rt(e.callback,[l.value,i,t],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Hy(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,l=e.maxRotation;let c=r,u,h,g;if(!this._isVisible()||!e.display||r>=l||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),b=m.widest.width,y=m.highest.height,v=ui(this.chart.width-b,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),b+6>u&&(u=v/(i-(t.offset?.5:1)),h=this.maxHeight-Jl(t.grid)-e.padding-Uy(t.title,this.chart.options.font),g=Math.sqrt(b*b+y*y),c=VM(Math.min(Math.asin(ui((m.highest.height+6)/u,-1,1)),Math.asin(ui(h/g,-1,1))-Math.asin(ui(y/g,-1,1)))),c=Math.max(r,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=Uy(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Jl(l)+h):(t.height=this.maxHeight,t.width=Jl(l)+h),i.display&&this.ticks.length){const{first:g,last:m,widest:b,highest:y}=this._getLabelSizes(),v=i.padding*2,k=Vr(this.labelRotation),S=Math.cos(k),_=Math.sin(k);if(u){const M=i.mirror?0:_*b.width+S*y.height;t.height=Math.min(this.maxHeight,t.height+M+v)}else{const M=i.mirror?0:S*b.width+_*y.height;t.width=Math.min(this.maxWidth,t.width+M+v)}this._calculatePadding(g,m,_,S)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,g=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;h?g?(y=r*t.width,v=i*e.height):(y=i*t.height,v=r*e.width):l==="start"?v=e.width:l==="end"?y=t.width:l!=="inner"&&(y=t.width/2,v=e.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-b+c)*this.width/(this.width-b),0)}else{let m=e.height/2,b=t.height/2;l==="start"?(m=0,b=t.height):l==="end"&&(m=e.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)fe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Vy(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(e/Hy(e,i));let g=0,m=0,b,y,v,k,S,_,M,E,A,U,R;for(b=0;b<e;b+=h){if(k=t[b].label,S=this._resolveTickFontOptions(b),r.font=_=S.string,M=l[_]=l[_]||{data:{},gc:[]},E=S.lineHeight,A=U=0,!fe(k)&&!en(k))A=gy(r,M.data,M.gc,A,k),U=E;else if(en(k))for(y=0,v=k.length;y<v;++y)R=k[y],!fe(R)&&!en(R)&&(A=gy(r,M.data,M.gc,A,R),U+=E);c.push(A),u.push(U),g=Math.max(A,g),m=Math.max(U,m)}iE(l,e);const q=c.indexOf(g),F=u.indexOf(m),Q=V=>({width:c[V]||0,height:u[V]||0});return{first:Q(0),last:Q(e-1),widest:Q(q),highest:Q(F),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return YM(this._alignToPixels?Lr(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=rE(this.getContext(),t,i))}return this.$context||(this.$context=sE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vr(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:l,position:c,border:u}=r,h=l.offset,g=this.isHorizontal(),b=this.ticks.length+(h?1:0),y=Jl(l),v=[],k=u.setContext(this.getContext()),S=k.display?k.width:0,_=S/2,M=function(L){return Lr(i,L,S)};let E,A,U,R,q,F,Q,V,nt,P,Y,K;if(c==="top")E=M(this.bottom),F=this.bottom-y,V=E-_,P=M(t.top)+_,K=t.bottom;else if(c==="bottom")E=M(this.top),P=t.top,K=M(t.bottom)-_,F=E+_,V=this.top+y;else if(c==="left")E=M(this.right),q=this.right-y,Q=E-_,nt=M(t.left)+_,Y=t.right;else if(c==="right")E=M(this.left),nt=t.left,Y=M(t.right)-_,q=E+_,Q=this.left+y;else if(e==="x"){if(c==="center")E=M((t.top+t.bottom)/2+.5);else if(re(c)){const L=Object.keys(c)[0],X=c[L];E=M(this.chart.scales[L].getPixelForValue(X))}P=t.top,K=t.bottom,F=E+_,V=F+y}else if(e==="y"){if(c==="center")E=M((t.left+t.right)/2);else if(re(c)){const L=Object.keys(c)[0],X=c[L];E=M(this.chart.scales[L].getPixelForValue(X))}q=E-_,Q=q-y,nt=t.left,Y=t.right}const ot=Tt(r.ticks.maxTicksLimit,b),ut=Math.max(1,Math.ceil(b/ot));for(A=0;A<b;A+=ut){const L=this.getContext(A),X=l.setContext(L),at=u.setContext(L),yt=X.lineWidth,bt=X.color,z=at.dash||[],B=at.dashOffset,tt=X.tickWidth,ct=X.tickColor,xt=X.tickBorderDash||[],pt=X.tickBorderDashOffset;U=nE(this,A,h),U!==void 0&&(R=Lr(i,U,yt),g?q=Q=nt=Y=R:F=V=P=K=R,v.push({tx1:q,ty1:F,tx2:Q,ty2:V,x1:nt,y1:P,x2:Y,y2:K,width:yt,color:bt,borderDash:z,borderDashOffset:B,tickWidth:tt,tickColor:ct,tickBorderDash:xt,tickBorderDashOffset:pt}))}return this._ticksLength=b,this._borderValue=E,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:l}=i,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:g,padding:m,mirror:b}=l,y=Jl(i.grid),v=y+m,k=b?-m:v,S=-Vr(this.labelRotation),_=[];let M,E,A,U,R,q,F,Q,V,nt,P,Y,K="middle";if(r==="top")q=this.bottom-k,F=this._getXAxisLabelAlignment();else if(r==="bottom")q=this.top+k,F=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(y);F=ut.textAlign,R=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(y);F=ut.textAlign,R=ut.x}else if(e==="x"){if(r==="center")q=(t.top+t.bottom)/2+v;else if(re(r)){const ut=Object.keys(r)[0],L=r[ut];q=this.chart.scales[ut].getPixelForValue(L)+v}F=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")R=(t.left+t.right)/2-v;else if(re(r)){const ut=Object.keys(r)[0],L=r[ut];R=this.chart.scales[ut].getPixelForValue(L)}F=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(h==="start"?K="top":h==="end"&&(K="bottom"));const ot=this._getLabelSizes();for(M=0,E=u.length;M<E;++M){A=u[M],U=A.label;const ut=l.setContext(this.getContext(M));Q=this.getPixelForTick(M)+l.labelOffset,V=this._resolveTickFontOptions(M),nt=V.lineHeight,P=en(U)?U.length:1;const L=P/2,X=ut.color,at=ut.textStrokeColor,yt=ut.textStrokeWidth;let bt=F;c?(R=Q,F==="inner"&&(M===E-1?bt=this.options.reverse?"left":"right":M===0?bt=this.options.reverse?"right":"left":bt="center"),r==="top"?g==="near"||S!==0?Y=-P*nt+nt/2:g==="center"?Y=-ot.highest.height/2-L*nt+nt:Y=-ot.highest.height+nt/2:g==="near"||S!==0?Y=nt/2:g==="center"?Y=ot.highest.height/2-L*nt:Y=ot.highest.height-P*nt,b&&(Y*=-1),S!==0&&!ut.showLabelBackdrop&&(R+=nt/2*Math.sin(S))):(q=Q,Y=(1-P)*nt/2);let z;if(ut.showLabelBackdrop){const B=Mi(ut.backdropPadding),tt=ot.heights[M],ct=ot.widths[M];let xt=Y-B.top,pt=0-B.left;switch(K){case"middle":xt-=tt/2;break;case"bottom":xt-=tt;break}switch(F){case"center":pt-=ct/2;break;case"right":pt-=ct;break;case"inner":M===E-1?pt-=ct:M>0&&(pt-=ct/2);break}z={left:pt,top:xt,width:ct+B.width,height:tt+B.height,color:ut.backdropColor}}_.push({label:U,font:V,textOffset:Y,options:{rotation:S,color:X,strokeColor:at,strokeWidth:yt,textAlign:bt,textBaseline:K,translation:[R,q],backdrop:z}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Vr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:l}}=this.options,c=this._getLabelSizes(),u=t+l,h=c.widest.width;let g,m;return e==="left"?r?(m=this.right+l,i==="near"?g="left":i==="center"?(g="center",m+=h/2):(g="right",m+=h)):(m=this.right-u,i==="near"?g="right":i==="center"?(g="center",m-=h/2):(g="left",m=this.left)):e==="right"?r?(m=this.left+l,i==="near"?g="right":i==="center"?(g="center",m-=h/2):(g="left",m-=h)):(m=this.left+u,i==="near"?g="left":i==="center"?(g="center",m+=h/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(l=>l.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const u=(h,g,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(l=0,c=r.length;l<c;++l){const h=r[l];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let g,m,b,y;this.isHorizontal()?(g=Lr(t,this.left,c)-c/2,m=Lr(t,this.right,u)+u/2,b=y=h):(b=Lr(t,this.top,c)-c/2,y=Lr(t,this.bottom,u)+u/2,g=m=h),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(g,b),e.lineTo(m,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ho(i,r);const l=this.getLabelItems(t);for(const c of l){const u=c.options,h=c.font,g=c.label,m=c.textOffset;Eo(i,g,0,m,h,u)}r&&Vo(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const l=Dn(i.font),c=Mi(i.padding),u=i.align;let h=l.lineHeight/2;e==="bottom"||e==="center"||re(e)?(h+=c.bottom,en(i.text)&&(h+=l.lineHeight*(i.text.length-1))):h+=c.top;const{titleX:g,titleY:m,maxWidth:b,rotation:y}=lE(this,h,e,u);Eo(t,i.text,0,0,l,{color:i.color,maxWidth:b,rotation:y,textAlign:aE(u,e,r),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Tt(t.grid&&t.grid.z,-1),r=Tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==el.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let l,c;for(l=0,c=e.length;l<c;++l){const u=e[l];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Dn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xu{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;uE(e)&&(i=this.register(e));const r=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in r||(r[l]=t,oE(t,c,i),this.override&&xe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in xe[r]&&(delete xe[r][i],this.override&&delete Wr[i])}}function oE(n,t,e){const i=jo(Object.create(null),[e?xe.get(e):{},xe.get(t),n.defaults]);xe.set(t,i),n.defaultRoutes&&cE(t,n.defaultRoutes),n.descriptors&&xe.describe(t,n.descriptors)}function cE(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),l=[n].concat(i).join("."),c=t[e].split("."),u=c.pop(),h=c.join(".");xe.route(l,r,h,u)})}function uE(n){return"id"in n&&"defaults"in n}class hE{constructor(){this.controllers=new xu(Ag,"datasets",!0),this.elements=new xu(gr,"elements"),this.plugins=new xu(Object,"plugins"),this.scales=new xu(el,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const l=i||this._getRegistryForType(r);i||l.isForType(r)||l===this.plugins&&r.id?this._exec(t,l,r):Kt(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,e,i){const r=kg(t);Rt(i["before"+r],[],i),e[t](i),Rt(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Qi=new hE;class dE{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(l,t,e,i);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const l of t){const c=l.plugin,u=c[i],h=[e,r,l.options];if(Rt(u,h,c)===!1&&r.cancelable)return!1}return!0}invalidate(){fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Tt(i.options&&i.options.plugins,{}),l=fE(i);return r===!1&&!e?[]:mE(t,l,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function fE(n){const t={},e=[],i=Object.keys(Qi.plugins.items);for(let l=0;l<i.length;l++)e.push(Qi.getPlugin(i[l]));const r=n.plugins||[];for(let l=0;l<r.length;l++){const c=r[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function gE(n,t){return!t&&n===!1?null:n===!0?{}:n}function mE(n,{plugins:t,localIds:e},i,r){const l=[],c=n.getContext();for(const u of t){const h=u.id,g=gE(i[h],r);g!==null&&l.push({plugin:u,options:pE(n.config,{plugin:u,local:e[h]},g,c)})}return l}function pE(n,{plugin:t,local:e},i,r){const l=n.pluginScopeKeys(t),c=n.getOptionScopes(i,l);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function H0(n,t){const e=xe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function xE(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function bE(n,t){return n===t?"_index_":"_value_"}function Fy(n){if(n==="x"||n==="y"||n==="r")return n}function yE(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function V0(n,...t){if(Fy(n))return n;for(const e of t){const i=e.axis||yE(e.position)||n.length>1&&Fy(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Yy(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function vE(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Yy(n,"x",e[0])||Yy(n,"y",e[0])}return{}}function wE(n,t){const e=Wr[n.type]||{scales:{}},i=t.scales||{},r=H0(n.type,t),l=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!re(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=V0(c,u,vE(c,n),xe.scales[u.type]),g=bE(h,r),m=e.scales||{};l[c]=ho(Object.create(null),[{axis:h},u,m[h],m[g]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,h=c.indexAxis||H0(u,t),m=(Wr[u]||{}).scales||{};Object.keys(m).forEach(b=>{const y=xE(b,h),v=c[y+"AxisID"]||y;l[v]=l[v]||Object.create(null),ho(l[v],[{axis:y},i[v],m[b]])})}),Object.keys(l).forEach(c=>{const u=l[c];ho(u,[xe.scales[u.type],xe.scale])}),l}function sw(n){const t=n.options||(n.options={});t.plugins=Tt(t.plugins,{}),t.scales=wE(n,t)}function rw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function SE(n){return n=n||{},n.data=rw(n.data),sw(n),n}const Iy=new Map,aw=new Set;function bu(n,t){let e=Iy.get(n);return e||(e=t(),Iy.set(n,e),aw.add(e)),e}const to=(n,t,e)=>{const i=Va(t,e);i!==void 0&&n.add(i)};class kE{constructor(t){this._config=SE(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=rw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return bu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return bu(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return bu(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return bu(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:l}=this,c=this._cachedScopes(t,i),u=c.get(e);if(u)return u;const h=new Set;e.forEach(m=>{t&&(h.add(t),m.forEach(b=>to(h,t,b))),m.forEach(b=>to(h,r,b)),m.forEach(b=>to(h,Wr[l]||{},b)),m.forEach(b=>to(h,xe,b)),m.forEach(b=>to(h,P0,b))});const g=Array.from(h);return g.length===0&&g.push(Object.create(null)),aw.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Wr[e]||{},xe.datasets[e]||{},{type:e},xe,P0]}resolveNamedOptions(t,e,i,r=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=qy(this._resolverCache,t,r);let h=c;if(_E(c,e)){l.$shared=!1,i=hr(i)?i():i;const g=this.createResolver(t,i,u);h=Fa(c,i,g)}for(const g of e)l[g]=h[g];return l}createResolver(t,e,i=[""],r){const{resolver:l}=qy(this._resolverCache,t,i);return re(e)?Fa(l,e,void 0,r):l}}function qy(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let l=i.get(r);return l||(l={resolver:Mg(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,l)),l}const NE=n=>re(n)&&Object.getOwnPropertyNames(n).some(t=>hr(n[t]));function _E(n,t){const{isScriptable:e,isIndexable:i}=H2(n);for(const r of t){const l=e(r),c=i(r),u=(c||l)&&n[r];if(l&&(hr(u)||NE(u))||c&&en(u))return!0}return!1}var jE="4.5.1";const ME=["top","bottom","left","right","chartArea"];function Wy(n,t){return n==="top"||n==="bottom"||ME.indexOf(n)===-1&&t==="x"}function $y(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Gy(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Rt(e&&e.onComplete,[n],t)}function CE(n){const t=n.chart,e=t.options.animation;Rt(e&&e.onProgress,[n],t)}function lw(n){return Tg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Bu={},Xy=n=>{const t=lw(n);return Object.values(Bu).filter(e=>e.canvas===t).pop()};function EE(n,t,e){const i=Object.keys(n);for(const r of i){const l=+r;if(l>=t){const c=n[r];delete n[r],(e>0||l>t)&&(n[l+e]=c)}}}function TE(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Ms=class{static defaults=xe;static instances=Bu;static overrides=Wr;static registry=Qi;static version=jE;static getChart=Xy;static register(...t){Qi.add(...t),Qy()}static unregister(...t){Qi.remove(...t),Qy()}constructor(t,e){const i=this.config=new kE(e),r=lw(t),l=Xy(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||G3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),h=u&&u.canvas,g=h&&h.height,m=h&&h.width;if(this.id=MM(),this.ctx=u,this.canvas=h,this.width=m,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$M(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Bu[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ys.listen(this,"complete",Gy),ys.listen(this,"progress",CE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:l}=this;return fe(t)?e&&l?l:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():by(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return my(this.canvas,this.ctx),this}stop(){return ys.stop(this),this}resize(t,e){ys.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,l),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,by(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Rt(i.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Kt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const u=e[c],h=V0(c,u),g=h==="r",m=h==="x";return{options:u,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Kt(l,c=>{const u=c.options,h=u.id,g=V0(h,u),m=Tt(u.type,c.dtype);(u.position===void 0||Wy(u.position,g)!==Wy(c.dposition))&&(u.position=c.dposition),r[h]=!0;let b=null;if(h in i&&i[h].type===m)b=i[h];else{const y=Qi.getScale(m);b=new y({id:h,type:m,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(u,t)}),Kt(r,(c,u)=>{c||delete i[u]}),Kt(i,c=>{Ni.configure(this,c,c.options),Ni.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,l)=>r.index-l.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($y("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const l=e[i];let c=this.getDatasetMeta(i);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=l.indexAxis||H0(u,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const h=Qi.getController(u),{datasetElementType:g,dataElementType:m}=xe.datasets[u];Object.assign(h,{dataElementType:Qi.getElement(m),datasetElementType:g&&Qi.getElement(g)}),c.controller=new h(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Kt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:b}=this.getDatasetMeta(g),y=!r&&l.indexOf(b)===-1;b.buildOrUpdateElements(y),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Kt(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($y("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Kt(this.scales,t=>{Ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!ry(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:l}of e){const c=i==="_removeElements"?-l:l;EE(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=l=>new Set(t.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let l=1;l<e;l++)if(!ry(r,i(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Kt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,hr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ys.has(this)?this.attached&&!ys.running(this)&&ys.start(this):(this.draw(),Gy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,l;for(r=0,l=e.length;r<l;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=X2(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ho(e,r),t.controller.draw(),r&&Vo(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ua(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const l=M3.modes[e];return typeof l=="function"?l(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(l=>l&&l._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,r);Mo(e)?(l.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(l,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ys.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),my(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Bu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};Kt(this.options.events,l=>i(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,g)=>{e.addEventListener(this,h,g),t[h]=g},r=(h,g)=>{t[h]&&(e.removeEventListener(this,h,g),delete t[h])},l=(h,g)=>{this.canvas&&this.resize(h,g)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():c()}unbindEvents(){Kt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Kt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let l,c,u,h;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){c=t[u];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!Gu(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,l=(h,g)=>h.filter(m=>!g.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=l(e,t),u=i?t:l(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const l=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(l||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:l}=this,c=e,u=this._getActiveElements(t,r,i,c),h=RM(t),g=TE(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Rt(l.onHover,[t,u,this],this),h&&Rt(l.onClick,[t,u,this],this));const m=!Gu(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=g,m}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,r)}};function Qy(){return Kt(Ms.instances,n=>n._plugins.invalidate())}function ow(n,t,e=t){n.lineCap=Tt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Tt(e.borderDash,t.borderDash)),n.lineDashOffset=Tt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Tt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Tt(e.borderWidth,t.borderWidth),n.strokeStyle=Tt(e.borderColor,t.borderColor)}function DE(n,t,e){n.lineTo(e.x,e.y)}function AE(n){return n.stepped?lC:n.tension||n.cubicInterpolationMode==="monotone"?oC:DE}function cw(n,t,e={}){const i=n.length,{start:r=0,end:l=i-1}=e,{start:c,end:u}=t,h=Math.max(r,c),g=Math.min(l,u),m=r<c&&l<c||r>u&&l>u;return{count:i,start:h,loop:t.loop,ilen:g<h&&!m?i+g-h:g-h}}function RE(n,t,e,i){const{points:r,options:l}=t,{count:c,start:u,loop:h,ilen:g}=cw(r,e,i),m=AE(l);let{move:b=!0,reverse:y}=i||{},v,k,S;for(v=0;v<=g;++v)k=r[(u+(y?g-v:v))%c],!k.skip&&(b?(n.moveTo(k.x,k.y),b=!1):m(n,S,k,y,l.stepped),S=k);return h&&(k=r[(u+(y?g:0))%c],m(n,S,k,y,l.stepped)),!!h}function OE(n,t,e,i){const r=t.points,{count:l,start:c,ilen:u}=cw(r,e,i),{move:h=!0,reverse:g}=i||{};let m=0,b=0,y,v,k,S,_,M;const E=U=>(c+(g?u-U:U))%l,A=()=>{S!==_&&(n.lineTo(m,_),n.lineTo(m,S),n.lineTo(m,M))};for(h&&(v=r[E(0)],n.moveTo(v.x,v.y)),y=0;y<=u;++y){if(v=r[E(y)],v.skip)continue;const U=v.x,R=v.y,q=U|0;q===k?(R<S?S=R:R>_&&(_=R),m=(b*m+U)/++b):(A(),n.lineTo(U,R),k=q,b=0,S=_=R),M=R}A()}function U0(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?OE:RE}function zE(n){return n.stepped?VC:n.tension||n.cubicInterpolationMode==="monotone"?UC:Hr}function LE(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),ow(n,t.options),n.stroke(r)}function PE(n,t,e,i){const{segments:r,options:l}=t,c=U0(t);for(const u of r)ow(n,l,u.style),n.beginPath(),c(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const BE=typeof Path2D=="function";function HE(n,t,e,i){BE&&!t.options.segment?LE(n,t,e,i):PE(n,t,e,i)}class mr extends gr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;AC(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$C(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],l=this.points,c=G2(this,{property:e,start:r,end:r});if(!c.length)return;const u=[],h=zE(i);let g,m;for(g=0,m=c.length;g<m;++g){const{start:b,end:y}=c[g],v=l[b],k=l[y];if(v===k){u.push(v);continue}const S=Math.abs((r-v[e])/(k[e]-v[e])),_=h(v,k,S,i.stepped);_[e]=t[e],u.push(_)}return u.length===1?u[0]:u}pathSegment(t,e,i){return U0(this)(t,this,e,i)}path(t,e,i){const r=this.segments,l=U0(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)c&=l(t,this,u,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),HE(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Zy(n,t,e,i){const r=n.options,{[e]:l}=n.getProps([e],i);return Math.abs(t-l)<r.radius+r.hitRadius}class Uo extends gr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Zy(this,t,"x",e)}inYRange(t,e){return Zy(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Ua(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,B0(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function uw(n,t){const{x:e,y:i,base:r,width:l,height:c}=n.getProps(["x","y","base","width","height"],t);let u,h,g,m,b;return n.horizontal?(b=c/2,u=Math.min(e,r),h=Math.max(e,r),g=i-b,m=i+b):(b=l/2,u=e-b,h=e+b,g=Math.min(i,r),m=Math.max(i,r)),{left:u,top:g,right:h,bottom:m}}function ar(n,t,e,i){return n?0:ui(t,e,i)}function VE(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,l=B2(i);return{t:ar(r.top,l.top,0,e),r:ar(r.right,l.right,0,t),b:ar(r.bottom,l.bottom,0,e),l:ar(r.left,l.left,0,t)}}function UE(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,l=Pa(r),c=Math.min(t,e),u=n.borderSkipped,h=i||re(r);return{topLeft:ar(!h||u.top||u.left,l.topLeft,0,c),topRight:ar(!h||u.top||u.right,l.topRight,0,c),bottomLeft:ar(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:ar(!h||u.bottom||u.right,l.bottomRight,0,c)}}function FE(n){const t=uw(n),e=t.right-t.left,i=t.bottom-t.top,r=VE(n,e/2,i/2),l=UE(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:l},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function n0(n,t,e,i){const r=t===null,l=e===null,u=n&&!(r&&l)&&uw(n,i);return u&&(r||sr(t,u.left,u.right))&&(l||sr(e,u.top,u.bottom))}function YE(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function IE(n,t){n.rect(t.x,t.y,t.w,t.h)}function i0(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,l=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+l,h:n.h+c,radius:n.radius}}class hw extends gr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:l,outer:c}=FE(this),u=YE(c.radius)?Zu:IE;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),u(t,i0(c,e,l)),t.clip(),u(t,i0(l,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,i0(l,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return n0(this,t,e,i)}inXRange(t,e){return n0(this,t,null,e)}inYRange(t,e){return n0(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+r)/2:e,y:l?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function qE(n,t,e){const i=n.segments,r=n.points,l=t.points,c=[];for(const u of i){let{start:h,end:g}=u;g=yh(h,g,r);const m=F0(e,r[h],r[g],u.loop);if(!t.segments){c.push({source:u,target:m,start:r[h],end:r[g]});continue}const b=G2(t,m);for(const y of b){const v=F0(e,l[y.start],l[y.end],y.loop),k=$2(u,r,v);for(const S of k)c.push({source:S,target:y,start:{[e]:Ky(m,v,"start",Math.max)},end:{[e]:Ky(m,v,"end",Math.min)}})}}return c}function F0(n,t,e,i){if(i)return;let r=t[n],l=e[n];return n==="angle"&&(r=Zi(r),l=Zi(l)),{property:n,start:r,end:l}}function WE(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,l=[];return t.segments.forEach(({start:c,end:u})=>{u=yh(c,u,r);const h=r[c],g=r[u];i!==null?(l.push({x:h.x,y:i}),l.push({x:g.x,y:i})):e!==null&&(l.push({x:e,y:h.y}),l.push({x:e,y:g.y}))}),l}function yh(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Ky(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function dw(n,t){let e=[],i=!1;return en(n)?(i=!0,e=n):e=WE(n,t),e.length?new mr({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Jy(n){return n&&n.fill!==!1}function $E(n,t,e){let r=n[t].fill;const l=[t];let c;if(!e)return r;for(;r!==!1&&l.indexOf(r)===-1;){if(!An(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;l.push(r),r=c.fill}return!1}function GE(n,t,e){const i=KE(n);if(re(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return An(r)&&Math.floor(r)===r?XE(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function XE(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function QE(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:re(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function ZE(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:re(n)?i=n.value:i=t.getBaseValue(),i}function KE(n){const t=n.options,e=t.fill;let i=Tt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function JE(n){const{scale:t,index:e,line:i}=n,r=[],l=i.segments,c=i.points,u=t5(t,e);u.push(dw({x:null,y:t.bottom},i));for(let h=0;h<l.length;h++){const g=l[h];for(let m=g.start;m<=g.end;m++)e5(r,c[m],u)}return new mr({points:r,options:{}})}function t5(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const l=i[r];if(l.index===t)break;l.hidden||e.unshift(l.dataset)}return e}function e5(n,t,e){const i=[];for(let r=0;r<e.length;r++){const l=e[r],{first:c,last:u,point:h}=n5(l,t,"x");if(!(!h||c&&u)){if(c)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function n5(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],l=n.segments,c=n.points;let u=!1,h=!1;for(let g=0;g<l.length;g++){const m=l[g],b=c[m.start][e],y=c[m.end][e];if(sr(r,b,y)){u=r===b,h=r===y;break}}return{first:u,last:h,point:i}}class fw{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:l,radius:c}=this;return e=e||{start:0,end:Li},t.arc(r,l,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,l=t.angle;return{x:e+Math.cos(l)*r,y:i+Math.sin(l)*r,angle:l}}}function i5(n){const{chart:t,fill:e,line:i}=n;if(An(e))return s5(t,e);if(e==="stack")return JE(n);if(e==="shape")return!0;const r=r5(n);return r instanceof fw?r:dw(r,i)}function s5(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function r5(n){return(n.scale||{}).getPointPositionForValue?l5(n):a5(n)}function a5(n){const{scale:t={},fill:e}=n,i=QE(e,t);if(An(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function l5(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,l=i.reverse?t.max:t.min,c=ZE(e,t,l),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,l);return new fw({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(c)})}for(let h=0;h<r;++h)u.push(t.getPointPositionForValue(h,c));return u}function s0(n,t,e){const i=i5(t),{chart:r,index:l,line:c,scale:u,axis:h}=t,g=c.options,m=g.fill,b=g.backgroundColor,{above:y=b,below:v=b}=m||{},k=r.getDatasetMeta(l),S=X2(r,k);i&&c.points.length&&(Ho(n,e),o5(n,{line:c,target:i,above:y,below:v,area:e,scale:u,axis:h,clip:S}),Vo(n))}function o5(n,t){const{line:e,target:i,above:r,below:l,area:c,scale:u,clip:h}=t,g=e._loop?"angle":t.axis;n.save();let m=l;l!==r&&(g==="x"?(tv(n,i,c.top),r0(n,{line:e,target:i,color:r,scale:u,property:g,clip:h}),n.restore(),n.save(),tv(n,i,c.bottom)):g==="y"&&(ev(n,i,c.left),r0(n,{line:e,target:i,color:l,scale:u,property:g,clip:h}),n.restore(),n.save(),ev(n,i,c.right),m=r)),r0(n,{line:e,target:i,color:m,scale:u,property:g,clip:h}),n.restore()}function tv(n,t,e){const{segments:i,points:r}=t;let l=!0,c=!1;n.beginPath();for(const u of i){const{start:h,end:g}=u,m=r[h],b=r[yh(h,g,r)];l?(n.moveTo(m.x,m.y),l=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),c=!!t.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function ev(n,t,e){const{segments:i,points:r}=t;let l=!0,c=!1;n.beginPath();for(const u of i){const{start:h,end:g}=u,m=r[h],b=r[yh(h,g,r)];l?(n.moveTo(m.x,m.y),l=!1):(n.lineTo(e,m.y),n.lineTo(m.x,m.y)),c=!!t.pathSegment(n,u,{move:c}),c?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function r0(n,t){const{line:e,target:i,property:r,color:l,scale:c,clip:u}=t,h=qE(e,i,r);for(const{source:g,target:m,start:b,end:y}of h){const{style:{backgroundColor:v=l}={}}=g,k=i!==!0;n.save(),n.fillStyle=v,c5(n,c,u,k&&F0(r,b,y)),n.beginPath();const S=!!e.pathSegment(n,g);let _;if(k){S?n.closePath():nv(n,i,y,r);const M=!!i.pathSegment(n,m,{move:S,reverse:!0});_=S&&M,_||nv(n,i,b,r)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function c5(n,t,e,i){const r=t.chart.chartArea,{property:l,start:c,end:u}=i||{};if(l==="x"||l==="y"){let h,g,m,b;l==="x"?(h=c,g=r.top,m=u,b=r.bottom):(h=r.left,g=c,m=r.right,b=u),n.beginPath(),e&&(h=Math.max(h,e.left),m=Math.min(m,e.right),g=Math.max(g,e.top),b=Math.min(b,e.bottom)),n.rect(h,g,m-h,b-g),n.clip()}}function nv(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var zg={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let l,c,u,h;for(c=0;c<i;++c)l=n.getDatasetMeta(c),u=l.dataset,h=null,u&&u.options&&u instanceof mr&&(h={visible:n.isDatasetVisible(c),index:c,fill:GE(u,c,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:u}),l.$filler=h,r.push(h);for(c=0;c<i;++c)h=r[c],!(!h||h.fill===!1)&&(h.fill=$E(r,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let c=r.length-1;c>=0;--c){const u=r[c].$filler;u&&(u.line.updateControlPoints(l,u.axis),i&&u.fill&&s0(n.ctx,u,l))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const l=i[r].$filler;Jy(l)&&s0(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Jy(i)||e.drawTime!=="beforeDatasetDraw"||s0(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const iv=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},u5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class sv extends gr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Rt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Dn(i.font),l=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=iv(i,l);let g,m;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(c,l,u,h)+10):(m=this.maxHeight,g=this._fitCols(c,r,u,h)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],g=this.lineWidths=[0],m=r+u;let b=t;l.textAlign="left",l.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((k,S)=>{const _=i+e/2+l.measureText(k.text).width;(S===0||g[g.length-1]+_+2*u>c)&&(b+=m,g[g.length-(S>0?0:1)]=0,v+=m,y++),h[S]={left:0,top:v,row:y,width:_,height:r},g[g.length-1]+=_+u}),b}_fitCols(t,e,i,r){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],g=this.columnSizes=[],m=c-t;let b=u,y=0,v=0,k=0,S=0;return this.legendItems.forEach((_,M)=>{const{itemWidth:E,itemHeight:A}=h5(i,e,l,_,r);M>0&&v+A+2*u>m&&(b+=y+u,g.push({width:y,height:v}),k+=y+u,S++,y=v=0),h[M]={left:k,top:v,col:S,width:E,height:A},y=Math.max(y,E),v+=A+u}),b+=y,g.push({width:y,height:v}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:l}}=this,c=Ba(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=Tn(i,this.left+r,this.right-this.lineWidths[u]);for(const g of e)u!==g.row&&(u=g.row,h=Tn(i,this.left+r,this.right-this.lineWidths[u])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(h),g.width),h+=g.width+r}else{let u=0,h=Tn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const g of e)g.col!==u&&(u=g.col,h=Tn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),g.top=h,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),h+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ho(t,this),this._draw(),Vo(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:l,labels:c}=t,u=xe.color,h=Ba(t.rtl,this.left,this.width),g=Dn(c.font),{padding:m}=c,b=g.size,y=b/2;let v;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:k,boxHeight:S,itemHeight:_}=iv(c,b),M=function(q,F,Q){if(isNaN(k)||k<=0||isNaN(S)||S<0)return;r.save();const V=Tt(Q.lineWidth,1);if(r.fillStyle=Tt(Q.fillStyle,u),r.lineCap=Tt(Q.lineCap,"butt"),r.lineDashOffset=Tt(Q.lineDashOffset,0),r.lineJoin=Tt(Q.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Tt(Q.strokeStyle,u),r.setLineDash(Tt(Q.lineDash,[])),c.usePointStyle){const nt={radius:S*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:V},P=h.xPlus(q,k/2),Y=F+y;L2(r,nt,P,Y,c.pointStyleWidth&&k)}else{const nt=F+Math.max((b-S)/2,0),P=h.leftForLtr(q,k),Y=Pa(Q.borderRadius);r.beginPath(),Object.values(Y).some(K=>K!==0)?Zu(r,{x:P,y:nt,w:k,h:S,radius:Y}):r.rect(P,nt,k,S),r.fill(),V!==0&&r.stroke()}r.restore()},E=function(q,F,Q){Eo(r,Q.text,q,F+_/2,g,{strikethrough:Q.hidden,textAlign:h.textAlign(Q.textAlign)})},A=this.isHorizontal(),U=this._computeTitleHeight();A?v={x:Tn(l,this.left+m,this.right-i[0]),y:this.top+m+U,line:0}:v={x:this.left+m,y:Tn(l,this.top+U+m,this.bottom-e[0].height),line:0},I2(this.ctx,t.textDirection);const R=_+m;this.legendItems.forEach((q,F)=>{r.strokeStyle=q.fontColor,r.fillStyle=q.fontColor;const Q=r.measureText(q.text).width,V=h.textAlign(q.textAlign||(q.textAlign=c.textAlign)),nt=k+y+Q;let P=v.x,Y=v.y;h.setWidth(this.width),A?F>0&&P+nt+m>this.right&&(Y=v.y+=R,v.line++,P=v.x=Tn(l,this.left+m,this.right-i[v.line])):F>0&&Y+R>this.bottom&&(P=v.x=P+e[v.line].width+m,v.line++,Y=v.y=Tn(l,this.top+U+m,this.bottom-e[v.line].height));const K=h.x(P);if(M(K,Y,q),P=GM(V,P+k+y,A?P+nt:this.right,t.rtl),E(h.x(P),Y,q),A)v.x+=nt+m;else if(typeof q.text!="string"){const ot=g.lineHeight;v.y+=gw(q,ot)+m}else v.y+=R}),q2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Dn(e.font),r=Mi(e.padding);if(!e.display)return;const l=Ba(t.rtl,this.left,this.width),c=this.ctx,u=e.position,h=i.size/2,g=r.top+h;let m,b=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+g,b=Tn(t.align,b,this.right-y);else{const k=this.columnSizes.reduce((S,_)=>Math.max(S,_.height),0);m=g+Tn(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const v=Tn(u,b,b+y);c.textAlign=l.textAlign(_g(u)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Eo(c,e.text,v,m,i)}_computeTitleHeight(){const t=this.options.title,e=Dn(t.font),i=Mi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,l;if(sr(t,this.left,this.right)&&sr(e,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(r=l[i],sr(t,r.left,r.left+r.width)&&sr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!g5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,l=u5(r,i);r&&!l&&Rt(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!l&&Rt(e.onHover,[t,i,this],this)}else i&&Rt(e.onClick,[t,i,this],this)}}function h5(n,t,e,i,r){const l=d5(i,n,t,e),c=f5(r,i,t.lineHeight);return{itemWidth:l,itemHeight:c}}function d5(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+i.measureText(r).width}function f5(n,t,e){let i=n;return typeof t.text!="string"&&(i=gw(t,e)),i}function gw(n,t){const e=n.text?n.text.length:0;return t*e}function g5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Fo={id:"legend",_element:sv,start(n,t,e){const i=n.legend=new sv({ctx:n.ctx,options:e,chart:n});Ni.configure(n,i,e),Ni.addBox(n,i)},stop(n){Ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ni.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:l,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const g=h.controller.getStyle(e?0:void 0),m=Mi(g.borderWidth);return{text:t[h.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(u||g.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class mw extends gr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=en(i.text)?i.text.length:1;this._padding=Mi(i.padding);const l=r*Dn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:l,options:c}=this,u=c.align;let h=0,g,m,b;return this.isHorizontal()?(m=Tn(u,i,l),b=e+t,g=l-i):(c.position==="left"?(m=i+t,b=Tn(u,r,e),h=mn*-.5):(m=l-t,b=Tn(u,e,r),h=mn*.5),g=r-e),{titleX:m,titleY:b,maxWidth:g,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Dn(e.font),l=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:g}=this._drawArgs(l);Eo(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:g,textAlign:_g(e.align),textBaseline:"middle",translation:[c,u]})}}function m5(n,t){const e=new mw({ctx:n.ctx,options:t,chart:n});Ni.configure(n,e,t),Ni.addBox(n,e),n.titleBlock=e}var Yo={id:"title",_element:mw,start(n,t,e){m5(n,e)},stop(n){const t=n.titleBlock;Ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lo={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,l=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=n.length;l<c;++l){const h=n[l].element;if(h&&h.hasValue()){const g=h.getCenterPoint(),m=L0(t,g);m<r&&(r=m,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Xi(n,t){return t&&(en(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function p5(n,t){const{element:e,datasetIndex:i,index:r}=t,l=n.getDatasetMeta(i).controller,{label:c,value:u}=l.getLabelAndValue(r);return{chart:n,label:c,parsed:l.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:l.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function rv(n,t){const e=n.chart.ctx,{body:i,footer:r,title:l}=n,{boxWidth:c,boxHeight:u}=t,h=Dn(t.bodyFont),g=Dn(t.titleFont),m=Dn(t.footerFont),b=l.length,y=r.length,v=i.length,k=Mi(t.padding);let S=k.height,_=0,M=i.reduce((U,R)=>U+R.before.length+R.lines.length+R.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,b&&(S+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),M){const U=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=v*U+(M-v)*h.lineHeight+(M-1)*t.bodySpacing}y&&(S+=t.footerMarginTop+y*m.lineHeight+(y-1)*t.footerSpacing);let E=0;const A=function(U){_=Math.max(_,e.measureText(U).width+E)};return e.save(),e.font=g.string,Kt(n.title,A),e.font=h.string,Kt(n.beforeBody.concat(n.afterBody),A),E=t.displayColors?c+2+t.boxPadding:0,Kt(i,U=>{Kt(U.before,A),Kt(U.lines,A),Kt(U.after,A)}),E=0,e.font=m.string,Kt(n.footer,A),e.restore(),_+=k.width,{width:_,height:S}}function x5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function b5(n,t,e,i){const{x:r,width:l}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+l+c>t.width||n==="right"&&r-l-c<0)return!0}function y5(n,t,e,i){const{x:r,width:l}=e,{width:c,chartArea:{left:u,right:h}}=n;let g="center";return i==="center"?g=r<=(u+h)/2?"left":"right":r<=l/2?g="left":r>=c-l/2&&(g="right"),b5(g,n,t,e)&&(g="center"),g}function av(n,t,e){const i=e.yAlign||t.yAlign||x5(n,e);return{xAlign:e.xAlign||t.xAlign||y5(n,t,e,i),yAlign:i}}function v5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function w5(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function lv(n,t,e,i){const{caretSize:r,caretPadding:l,cornerRadius:c}=n,{xAlign:u,yAlign:h}=e,g=r+l,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:v}=Pa(c);let k=v5(t,u);const S=w5(t,h,g);return h==="center"?u==="left"?k+=g:u==="right"&&(k-=g):u==="left"?k-=Math.max(m,y)+r:u==="right"&&(k+=Math.max(b,v)+r),{x:ui(k,0,i.width-t.width),y:ui(S,0,i.height-t.height)}}function yu(n,t,e){const i=Mi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function ov(n){return Xi([],vs(n))}function S5(n,t,e){return Qr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function cv(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const pw={beforeTitle:bs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:bs,beforeBody:bs,beforeLabel:bs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return fe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:bs,afterBody:bs,beforeFooter:bs,footer:bs,afterFooter:bs};function Wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?pw[t].call(e,i):r}class uv extends gr{static positioners=lo;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,l=new Q2(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=S5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Wn(i,"beforeTitle",this,t),l=Wn(i,"title",this,t),c=Wn(i,"afterTitle",this,t);let u=[];return u=Xi(u,vs(r)),u=Xi(u,vs(l)),u=Xi(u,vs(c)),u}getBeforeBody(t,e){return ov(Wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Kt(t,l=>{const c={before:[],lines:[],after:[]},u=cv(i,l);Xi(c.before,vs(Wn(u,"beforeLabel",this,l))),Xi(c.lines,Wn(u,"label",this,l)),Xi(c.after,vs(Wn(u,"afterLabel",this,l))),r.push(c)}),r}getAfterBody(t,e){return ov(Wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Wn(i,"beforeFooter",this,t),l=Wn(i,"footer",this,t),c=Wn(i,"afterFooter",this,t);let u=[];return u=Xi(u,vs(r)),u=Xi(u,vs(l)),u=Xi(u,vs(c)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],l=[],c=[];let u=[],h,g;for(h=0,g=e.length;h<g;++h)u.push(p5(this.chart,e[h]));return t.filter&&(u=u.filter((m,b,y)=>t.filter(m,b,y,i))),t.itemSort&&(u=u.sort((m,b)=>t.itemSort(m,b,i))),Kt(u,m=>{const b=cv(t.callbacks,m);r.push(Wn(b,"labelColor",this,m)),l.push(Wn(b,"labelPointStyle",this,m)),c.push(Wn(b,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let l,c=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const u=lo[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const h=this._size=rv(this,i),g=Object.assign({},u,h),m=av(this.chart,i,g),b=lv(i,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,l={opacity:1,x:b.x,y:b.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const l=this.getCaretPosition(t,i,r);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:l}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:b}=Pa(u),{x:y,y:v}=t,{width:k,height:S}=e;let _,M,E,A,U,R;return l==="center"?(U=v+S/2,r==="left"?(_=y,M=_-c,A=U+c,R=U-c):(_=y+k,M=_+c,A=U-c,R=U+c),E=_):(r==="left"?M=y+Math.max(h,m)+c:r==="right"?M=y+k-Math.max(g,b)-c:M=this.caretX,l==="top"?(A=v,U=A-c,_=M-c,E=M+c):(A=v+S,U=A+c,_=M+c,E=M-c),R=A),{x1:_,x2:M,x3:E,y1:A,y2:U,y3:R}}drawTitle(t,e,i){const r=this.title,l=r.length;let c,u,h;if(l){const g=Ba(i.rtl,this.x,this.width);for(t.x=yu(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Dn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,h=0;h<l;++h)e.fillText(r[h],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===l&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,l){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:g}=l,m=Dn(l.bodyFont),b=yu(this,"left",l),y=r.x(b),v=h<m.lineHeight?(m.lineHeight-h)/2:0,k=e.y+v;if(l.usePointStyle){const S={radius:Math.min(g,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=r.leftForLtr(y,g)+g/2,M=k+h/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,B0(t,S,_,M),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,B0(t,S,_,M)}else{t.lineWidth=re(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const S=r.leftForLtr(y,g),_=r.leftForLtr(r.xPlus(y,1),g-2),M=Pa(c.borderRadius);Object.values(M).some(E=>E!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Zu(t,{x:S,y:k,w:g,h,radius:M}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Zu(t,{x:_,y:k+1,w:g-2,h:h-2,radius:M}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(S,k,g,h),t.strokeRect(S,k,g,h),t.fillStyle=c.backgroundColor,t.fillRect(_,k+1,g-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:g,boxPadding:m}=i,b=Dn(i.bodyFont);let y=b.lineHeight,v=0;const k=Ba(i.rtl,this.x,this.width),S=function(Q){e.fillText(Q,k.x(t.x+v),t.y+y/2),t.y+=y+l},_=k.textAlign(c);let M,E,A,U,R,q,F;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=yu(this,_,i),e.fillStyle=i.bodyColor,Kt(this.beforeBody,S),v=u&&_!=="right"?c==="center"?g/2+m:g+2+m:0,U=0,q=r.length;U<q;++U){for(M=r[U],E=this.labelTextColors[U],e.fillStyle=E,Kt(M.before,S),A=M.lines,u&&A.length&&(this._drawColorBox(e,t,U,k,i),y=Math.max(b.lineHeight,h)),R=0,F=A.length;R<F;++R)S(A[R]),y=b.lineHeight;Kt(M.after,S)}v=0,y=b.lineHeight,Kt(this.afterBody,S),t.y-=l}drawFooter(t,e,i){const r=this.footer,l=r.length;let c,u;if(l){const h=Ba(i.rtl,this.x,this.width);for(t.x=yu(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",c=Dn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,u=0;u<l;++u)e.fillText(r[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=t,{width:g,height:m}=i,{topLeft:b,topRight:y,bottomLeft:v,bottomRight:k}=Pa(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+b,h),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+g-y,h),e.quadraticCurveTo(u+g,h,u+g,h+y),c==="center"&&l==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+g,h+m-k),e.quadraticCurveTo(u+g,h+m,u+g-k,h+m),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+v,h+m),e.quadraticCurveTo(u,h+m,u,h+m-v),c==="center"&&l==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,h+b),e.quadraticCurveTo(u,h,u+b,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,l=i&&i.y;if(r||l){const c=lo[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=rv(this,t),h=Object.assign({},c,this._size),g=av(e,t,h),m=lv(t,h,g,e);(r._to!==m.x||l._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Mi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(l,t,r,e),I2(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),q2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const g=this.chart.getDatasetMeta(u);if(!g)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:g.data[h],index:h}}),l=!Gu(i,r),c=this._positionChanged(r,e);(l||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,i),u=this._positionChanged(c,t),h=e||!Gu(c,l)||u;return h&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const l=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:l}=this,c=lo[l.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Io={id:"tooltip",_element:uv,positioners:lo,afterInit(n,t,e){e&&(n.tooltip=new uv({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const k5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function N5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return k5(n,t,e,i);const l=n.lastIndexOf(t);return r!==l?e:r}const _5=(n,t)=>n===null?null:ui(Math.round(n),0,t);function hv(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class qo extends el{static id="category";static defaults={ticks:{callback:hv}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:l}of e)i[r]===l&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(fe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:N5(i,t,Tt(e,t),this._addedLabels),_5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return hv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function j5(n,t){const e=[],{bounds:r,step:l,min:c,max:u,precision:h,count:g,maxTicks:m,maxDigits:b,includeBounds:y}=n,v=l||1,k=m-1,{min:S,max:_}=t,M=!fe(c),E=!fe(u),A=!fe(g),U=(_-S)/(b+1);let R=ly((_-S)/k/v)*v,q,F,Q,V;if(R<1e-14&&!M&&!E)return[{value:S},{value:_}];V=Math.ceil(_/R)-Math.floor(S/R),V>k&&(R=ly(V*R/k/v)*v),fe(h)||(q=Math.pow(10,h),R=Math.ceil(R*q)/q),r==="ticks"?(F=Math.floor(S/R)*R,Q=Math.ceil(_/R)*R):(F=S,Q=_),M&&E&&l&&BM((u-c)/l,R/1e3)?(V=Math.round(Math.min((u-c)/R,m)),R=(u-c)/V,F=c,Q=u):A?(F=M?c:F,Q=E?u:Q,V=g-1,R=(Q-F)/V):(V=(Q-F)/R,Yr(V,Math.round(V),R/1e3)?V=Math.round(V):V=Math.ceil(V));const nt=Math.max(oy(R),oy(F));q=Math.pow(10,fe(h)?nt:h),F=Math.round(F*q)/q,Q=Math.round(Q*q)/q;let P=0;for(M&&(y&&F!==c?(e.push({value:c}),F<c&&P++,Yr(Math.round((F+P*R)*q)/q,c,dv(c,U,n))&&P++):F<c&&P++);P<V;++P){const Y=Math.round((F+P*R)*q)/q;if(E&&Y>u)break;e.push({value:Y})}return E&&y&&Q!==u?e.length&&Yr(e[e.length-1].value,u,dv(u,U,n))?e[e.length-1].value=u:e.push({value:u}):(!E||Q===u)&&e.push({value:Q}),e}function dv(n,t,{horizontal:e,minRotation:i}){const r=Vr(i),l=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/l,c)}class M5 extends el{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return fe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:l}=this;const c=h=>r=e?r:h,u=h=>l=i?l:h;if(t){const h=_i(r),g=_i(l);h<0&&g<0?u(0):h>0&&g>0&&c(0)}if(r===l){let h=l===0?1:Math.abs(l*.05);u(l+h),t||c(r-h)}this.min=r,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=j5(r,l);return t.bounds==="ticks"&&HM(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return O2(t,this.chart.options.locale,this.options.ticks.format)}}class Wo extends M5{static id="linear";static defaults={ticks:{callback:z2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=An(t)?t:0,this.max=An(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Vr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const vh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(vh);function fv(n,t){return n-t}function gv(n,t){if(fe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:l}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),An(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Co(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,r)),+c)}function mv(n,t,e,i){const r=Xn.length;for(let l=Xn.indexOf(n);l<r-1;++l){const c=vh[Xn[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(u*c.size))<=i)return Xn[l]}return Xn[r-1]}function C5(n,t,e,i,r){for(let l=Xn.length-1;l>=Xn.indexOf(e);l--){const c=Xn[l];if(vh[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Xn[e?Xn.indexOf(e):0]}function E5(n){for(let t=Xn.indexOf(n)+1,e=Xn.length;t<e;++t)if(vh[Xn[t]].common)return Xn[t]}function pv(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Ng(e,t),l=e[i]>=t?e[i]:e[r];n[l]=!0}}function T5(n,t,e,i){const r=n._adapter,l=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,h;for(u=l;u<=c;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function xv(n,t,e){const i=[],r={},l=t.length;let c,u;for(c=0;c<l;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return l===0||!e?i:T5(n,i,r,e)}class bv extends el{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new S3._date(t.adapters.date);r.init(e),ho(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:gv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!u&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!c||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=An(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),l=An(l)&&!isNaN(l)?l:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,c=this.max,u=qM(r,l,c);return this._unit=e.unit||(i.autoSkip?mv(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):C5(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:E5(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),xv(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,l;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?i=l:i=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ui(e,0,c),i=ui(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,l=r.time,c=l.unit||mv(l.minUnit,e,i,this._getLabelCapacity(e)),u=Tt(r.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,g=Co(h)||h===!0,m={};let b=e,y,v;if(g&&(b=+t.startOf(b,"isoWeek",h)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+c);const k=r.ticks.source==="data"&&this.getDataTimestamps();for(y=b,v=0;y<i;y=+t.add(y,u,c),v++)pv(m,y,k);return(y===i||r.bounds==="ticks"||v===1)&&pv(m,y,k),Object.keys(m).sort(fv).map(S=>+S)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,l=this._unit,c=e||r[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const l=this.options,c=l.ticks.callback;if(c)return Rt(c,[t,e,i],this);const u=l.time.displayFormats,h=this._unit,g=this._majorUnit,m=h&&u[h],b=g&&u[g],y=i[e],v=g&&b&&y&&y.major;return this._adapter.format(t,r||(v?b:m))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Vr(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*l+u*c,h:i*c+u*l}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,l=this._tickFormatFunction(t,0,xv(this,[t],this._majorUnit),r),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(gv(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return D2(t.sort(fv))}}function vu(n,t,e){let i=0,r=n.length-1,l,c,u,h;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ur(n,"pos",t)),{pos:l,time:u}=n[i],{pos:c,time:h}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ur(n,"time",t)),{time:l,pos:u}=n[i],{time:c,pos:h}=n[r]);const g=c-l;return g?u+(h-u)*(t-l)/g:u}class N6 extends bv{static id="timeseries";static defaults=bv.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vu(e,this.min),this._tableRange=vu(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],l=[];let c,u,h,g,m;for(c=0,u=t.length;c<u;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)m=r[c+1],h=r[c-1],g=r[c],Math.round((m+h)/2)!==g&&l.push({time:g,pos:c/(u-1)});return l}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,l)=>r-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(vu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return vu(this._table,i*this._tableRange+this._minPos,!0)}}const xw="label";function yv(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function D5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function bw(n,t){n.labels=t}function yw(n,t,e=xw){const i=[];n.datasets=t.map(r=>{const l=n.datasets.find(c=>c[e]===r[e]);return!l||!r.data||i.includes(l)?{...r}:(i.push(l),Object.assign(l,r),l)})}function A5(n,t=xw){const e={labels:[],datasets:[]};return bw(e,n.labels),yw(e,n.datasets,t),e}function R5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:l,type:c,data:u,options:h,plugins:g=[],fallbackContent:m,updateMode:b,...y}=n,v=N.useRef(null),k=N.useRef(null),S=()=>{v.current&&(k.current=new Ms(v.current,{type:c,data:A5(u,l),options:h&&{...h},plugins:g}),yv(t,k.current))},_=()=>{yv(t,null),k.current&&(k.current.destroy(),k.current=null)};return N.useEffect(()=>{!r&&k.current&&h&&D5(k.current,h)},[r,h]),N.useEffect(()=>{!r&&k.current&&bw(k.current.config.data,u.labels)},[r,u.labels]),N.useEffect(()=>{!r&&k.current&&u.datasets&&yw(k.current.config.data,u.datasets,l)},[r,u.datasets]),N.useEffect(()=>{k.current&&(r?(_(),setTimeout(S)):k.current.update(b))},[r,h,u.labels,u.datasets,b]),N.useEffect(()=>{k.current&&(_(),setTimeout(S))},[c]),N.useEffect(()=>(S(),()=>_()),[]),f.jsx("canvas",{ref:v,role:"img",height:e,width:i,...y,children:m})}const vw=N.forwardRef(R5);function ww(n,t){return Ms.register(t),N.forwardRef((e,i)=>f.jsx(vw,{...e,ref:i,type:n}))}const Ia=ww("line",w3),O5=ww("bar",Rg);function z5(n,t){const{x:e,y:i,base:r,width:l,height:c}=n.getProps(["x","low","high","width","height"],t);let u,h,g,m,b;return n.horizontal?(b=c/2,u=Math.min(e,r),h=Math.max(e,r),g=i-b,m=i+b):(b=l/2,u=e-b,h=e+b,g=Math.min(i,r),m=Math.max(i,r)),{left:u,top:g,right:h,bottom:m}}function a0(n,t,e,i){const r=t===null,l=e===null,c=!n||r&&l?!1:z5(n,i);return c&&(r||t>=c.left&&t<=c.right)&&(l||e>=c.top&&e<=c.bottom)}class th extends hw{static defaults={backgroundColors:{up:"rgba(75, 192, 192, 0.5)",down:"rgba(255, 99, 132, 0.5)",unchanged:"rgba(201, 203, 207, 0.5)"},borderColors:{up:"rgb(75, 192, 192)",down:"rgb(255, 99, 132)",unchanged:"rgb(201, 203, 207)"}};height(){return this.base-this.y}inRange(t,e,i){return a0(this,t,e,i)}inXRange(t,e){return a0(this,t,null,e)}inYRange(t,e){return a0(this,null,t,e)}getRange(t){return t==="x"?this.width/2:this.height/2}getCenterPoint(t){const{x:e,low:i,high:r}=this.getProps(["x","low","high"],t);return{x:e,y:(r+i)/2}}tooltipPosition(t){const{x:e,open:i,close:r}=this.getProps(["x","open","close"],t);return{x:e,y:(i+r)/2}}}const Ta=Ms.defaults;class L5 extends th{static id="ohlc";static defaults={...th.defaults,lineWidth:2,armLength:null,armLengthRatio:.8};draw(t){const e=this,{x:i,open:r,high:l,low:c,close:u}=e,h=Tt(e.armLengthRatio,Ta.elements.ohlc.armLengthRatio);let g=Tt(e.armLength,Ta.elements.ohlc.armLength);g===null&&(g=e.width*h*.5),u<r?t.strokeStyle=Tt(e.options.borderColors?e.options.borderColors.up:void 0,Ta.elements.ohlc.borderColors.up):u>r?t.strokeStyle=Tt(e.options.borderColors?e.options.borderColors.down:void 0,Ta.elements.ohlc.borderColors.down):t.strokeStyle=Tt(e.options.borderColors?e.options.borderColors.unchanged:void 0,Ta.elements.ohlc.borderColors.unchanged),t.lineWidth=Tt(e.lineWidth,Ta.elements.ohlc.lineWidth),t.beginPath(),t.moveTo(i,l),t.lineTo(i,c),t.moveTo(i-g,r),t.lineTo(i,r),t.moveTo(i+g,u),t.lineTo(i,u),t.stroke()}}class eh extends Rg{static overrides={label:"",parsing:!1,hover:{mode:"label"},animations:{numbers:{type:"number",properties:["x","y","base","width","open","high","low","close"]}},scales:{x:{type:"timeseries",offset:!0,ticks:{major:{enabled:!0},source:"data",maxRotation:0,autoSkip:!0,autoSkipPadding:75,sampleSize:100}},y:{type:"linear"}},plugins:{tooltip:{intersect:!1,mode:"index",callbacks:{label(t){const e=t.parsed;if(!fe(e.y))return xe.plugins.tooltip.callbacks.label(t);const{o:i,h:r,l,c}=e;return`O: ${i}  H: ${r}  L: ${l}  C: ${c}`}}}}};getLabelAndValue(t){const e=this,i=e.getParsed(t),r=e._cachedMeta.iScale.axis,{o:l,h:c,l:u,c:h}=i,g=`O: ${l}  H: ${c}  L: ${u}  C: ${h}`;return{label:`${e._cachedMeta.iScale.getLabelForValue(i[r])}`,value:g}}getUserBounds(t){const{min:e,max:i,minDefined:r,maxDefined:l}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}getMinMax(t){const e=this._cachedMeta,i=e._parsed,r=e.iScale.axis,l=this._getOtherScale(t),{min:c,max:u}=this.getUserBounds(l);if(i.length<2)return{min:0,max:1};if(t===e.iScale)return{min:i[0][r],max:i[i.length-1][r]};const h=i.filter(({x:b})=>b>=c&&b<u);let g=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;for(let b=0;b<h.length;b++){const y=h[b];g=Math.min(g,y.l),m=Math.max(m,y.h)}return{min:g,max:m}}calculateElementProperties(t,e,i,r){const l=this,c=l._cachedMeta.vScale,u=c.getBasePixel(),h=l._calculateBarIndexPixels(t,e,r),g=l.chart.data.datasets[l.index].data[t],m=c.getPixelForValue(g.o),b=c.getPixelForValue(g.h),y=c.getPixelForValue(g.l),v=c.getPixelForValue(g.c);return{base:i?u:y,x:h.center,y:(y+b)/2,width:h.size,open:m,high:b,low:y,close:v}}draw(){const t=this,e=t.chart,i=t._cachedMeta.data;Ho(e.ctx,e.chartArea);for(let r=0;r<i.length;++r)i[r].draw(t._ctx);Vo(e.ctx)}}class _6 extends eh{static id="ohlc";static defaults={...eh.defaults,dataElementType:L5.id,datasets:{barPercentage:1,categoryPercentage:1}};updateElements(t,e,i,r){const l=r==="reset",c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let g=e;g<e+i;g++){const m=u||this.resolveDataElementOptions(g,r),b=this.calculateElementProperties(g,c,l,m);h&&(b.options=m),this.updateElement(t[g],g,b,r)}}}class Sw extends th{static id="candlestick";static defaults={...th.defaults,borderWidth:1};draw(t){const e=this,{x:i,open:r,high:l,low:c,close:u}=e;let h=e.options.borderColors;typeof h=="string"&&(h={up:h,down:h,unchanged:h});let g;u<r?(g=Tt(h?h.up:void 0,xe.elements.candlestick.borderColors.up),t.fillStyle=Tt(e.options.backgroundColors?e.options.backgroundColors.up:void 0,xe.elements.candlestick.backgroundColors.up)):u>r?(g=Tt(h?h.down:void 0,xe.elements.candlestick.borderColors.down),t.fillStyle=Tt(e.options.backgroundColors?e.options.backgroundColors.down:void 0,xe.elements.candlestick.backgroundColors.down)):(g=Tt(h?h.unchanged:void 0,xe.elements.candlestick.borderColors.unchanged),t.fillStyle=Tt(e.backgroundColors?e.backgroundColors.unchanged:void 0,xe.elements.candlestick.backgroundColors.unchanged)),t.lineWidth=Tt(e.options.borderWidth,xe.elements.candlestick.borderWidth),t.strokeStyle=g,t.beginPath(),t.moveTo(i,l),t.lineTo(i,Math.min(r,u)),t.moveTo(i,c),t.lineTo(i,Math.max(r,u)),t.stroke(),t.fillRect(i-e.width/2,u,e.width,r-u),t.strokeRect(i-e.width/2,u,e.width,r-u),t.closePath()}}class P5 extends eh{static id="candlestick";static defaults={...eh.defaults,dataElementType:Sw.id};static defaultRoutes=Rg.defaultRoutes;updateElements(t,e,i,r){const l=r==="reset",c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let g=e;g<e+i;g++){const m=u||this.resolveDataElementOptions(g,r),b=this.calculateElementProperties(g,c,l,m);h&&(b.options=m),this.updateElement(t[g],g,b,r)}}}Ms.register(qo,Wo,Uo,mr,hw,Yo,Io,Fo,zg,P5,Sw);function B5({chartType:n,candlestickData:t,chartData:e,symbol:i,currentInterval:r,lineChartOptions:l,candlestickChartOptions:c}){if(n==="candlestick")try{if(!t||!t.datasets||!t.datasets[0]||!t.datasets[0].data||t.datasets[0].data.length===0)throw new Error("Candlestick data not available");if(!t.datasets[0].data.every(h=>h&&typeof h=="object"&&"o"in h&&"h"in h&&"l"in h&&"c"in h&&!isNaN(Number(h.o))&&!isNaN(Number(h.h))&&!isNaN(Number(h.l))&&!isNaN(Number(h.c))))throw new Error("Invalid candlestick data structure");return f.jsx(vw,{type:"candlestick",data:t,options:c},`candlestick-${i}-${r}`)}catch(u){return console.error("Candlestick chart error:",u),e&&e.datasets&&e.datasets[0]?f.jsx(Ia,{data:e,options:l},`line-fallback-${i}-${r}`):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:"Unable to display candlestick chart. Showing line chart instead."})})}return e&&e.datasets&&e.datasets[0]?f.jsx(Ia,{data:e,options:l},`line-${i}-${r}`):null}function H5(){const[n,t]=N.useState("QQQ"),[e,i]=N.useState("1D"),[r,l]=N.useState(null),[c,u]=N.useState(null),[h,g]=N.useState(null),[m,b]=N.useState(!1),[y,v]=N.useState(null),[k,S]=N.useState(null),[_,M]=N.useState(null),[E,A]=N.useState([]),[U,R]=N.useState(!1),[q,F]=N.useState("line"),Q=N.useRef(null),V=N.useRef(null),nt=N.useRef(null),P=N.useRef(null),Y=N.useRef(null),K=N.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(B){return B.parsed.y!==null&&B.parsed.y!==void 0?`${B.dataset.label}: $${B.parsed.y.toFixed(2)}`:""}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(B){return B!=null&&!isNaN(B)?"$"+B.toFixed(2):""},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),ot=N.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(B){const tt=B.parsed.y;return tt>=1e6?`Volume: ${(tt/1e6).toFixed(2)}M`:tt>=1e3?`Volume: ${(tt/1e3).toFixed(2)}K`:`Volume: ${tt}`}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(B){return B>=1e6?(B/1e6).toFixed(1)+"M":B>=1e3?(B/1e3).toFixed(1)+"K":B},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),ut=N.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(B){const tt=B.raw;return tt&&typeof tt=="object"&&"o"in tt&&"h"in tt&&"l"in tt&&"c"in tt?[`Open: $${tt.o.toFixed(2)}`,`High: $${tt.h.toFixed(2)}`,`Low: $${tt.l.toFixed(2)}`,`Close: $${tt.c.toFixed(2)}`]:""}}}},scales:{x:{display:!0,grid:{display:!1},ticks:{maxTicksLimit:10,font:{size:11}}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(B){return B!=null&&!isNaN(B)?"$"+B.toFixed(2):""},font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),L=N.useCallback(async()=>{if(!n||!n.trim()){v("Please enter a stock symbol");return}const B=r;b(!0),v(null);try{const tt=new Promise((Jt,Ot)=>setTimeout(()=>Ot(new Error("Request timeout. Please try again.")),2e4)),ct=$u(n.toUpperCase().trim(),e),xt=await Promise.race([ct,tt]);if(!xt)throw new Error("No data received from API");if(!xt.data||!Array.isArray(xt.data))throw new Error("Invalid data format: data.data is not an array");if(xt.data.length===0)throw new Error("No chart data available for this symbol");const pt=xt.data.filter(Jt=>{if(!Jt||!Jt.timestamp)return!1;const Ot=Jt.close;return Ot!=null&&!isNaN(Ot)&&Ot>0});if(pt.length===0)throw new Error("No valid price data available. All data points are invalid.");pt.sort((Jt,Ot)=>Jt.timestamp-Ot.timestamp);const gt=pt.map(Jt=>{try{const Ot=new Date(Jt.timestamp);return isNaN(Ot.getTime())?"":e==="1H"?Ot.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}):Ot.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"America/New_York"})}catch{return""}}).filter(Jt=>Jt!==""),kt=pt.map(Jt=>{const Ot=Number(Jt.close);return isNaN(Ot)?null:Ot}).filter(Jt=>Jt!==null),vt=pt.map(Jt=>{const Ot=Number(Jt.volume)||0;return isNaN(Ot)?0:Ot}),mt=Math.min(gt.length,kt.length,vt.length),Xt=gt.slice(0,mt),Yt=kt.slice(0,mt),oe=vt.slice(0,mt);if(Yt.length===0)throw new Error("No valid price data to display after processing");const Lt=Yt[0],ht=Yt[Yt.length-1],Ct=ht-Lt,ae=Lt!==0?Ct/Lt*100:0,Pt={labels:Xt,datasets:[{label:`${n.toUpperCase()} Price`,data:Yt,borderColor:Ct>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)",backgroundColor:Ct>=0?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4,borderWidth:2}],currentPrice:xt.currentPrice||ht,change:Ct,changePercent:ae},je={labels:Xt,datasets:[{label:"Volume",data:oe,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},be=pt.slice(0,mt).map((Jt,Ot)=>{const Ve=Number(Jt.open)||Number(Jt.close)||0,Kn=Number(Jt.high)||Number(Jt.close)||0,nn=Number(Jt.low)||Number(Jt.close)||0,Me=Number(Jt.close)||0;return{x:Ot,o:Ve,h:Kn,l:nn,c:Me}}),$t={labels:Xt,datasets:[{label:`${n.toUpperCase()} Candlestick`,data:be}]};nt.current=Pt,P.current=je,Y.current=$t,l(Pt),u(je),g($t),M(e),S(new Date);const hn=`${n.toUpperCase()}-${e}`;A(Jt=>{const Ot=Jt.filter(Kn=>Kn!==hn),Ve=[hn,...Ot].slice(0,5);return localStorage.setItem("tradingRecentSearches",JSON.stringify(Ve)),Ve})}catch(tt){const ct=tt.message||"Failed to load chart data. Please check the symbol and try again.";v(ct),B||(l(null),u(null),g(null))}finally{b(!1)}},[n,e]);N.useEffect(()=>{const B=localStorage.getItem("tradingRecentSearches");if(B)try{A(JSON.parse(B))}catch{}},[]),N.useEffect(()=>{n==="QQQ"&&!r&&L()},[]),N.useEffect(()=>{q==="candlestick"&&(!h||!h.datasets||!h.datasets[0]||!h.datasets[0].data||h.datasets[0].data.length===0)&&(console.warn("Candlestick data not available, resetting to line chart"),F("line"))},[q,h]);const X=()=>{n&&n.trim()&&(L(),R(!1))},at=()=>{n&&n.trim()&&L()},yt=B=>{B!==e&&(i(B),n&&n.trim()&&r&&setTimeout(()=>{L()},100))},bt=B=>{const[tt,ct]=B.split("-");t(tt),i(ct),R(!1),setTimeout(()=>{L()},100)},z=B=>{B.key==="Enter"&&X()};return N.useEffect(()=>()=>{Q.current&&clearInterval(Q.current)},[]),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Charts"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real-time stock market data and analysis"})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Stock Symbol"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:V,type:"text",id:"symbol",value:n,onChange:B=>{const tt=B.target.value.toUpperCase();t(tt),R(tt.length===0&&E.length>0)},onKeyDown:z,onFocus:()=>{E.length>0&&!n&&R(!0)},onBlur:()=>{setTimeout(()=>R(!1),200)},placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),n&&f.jsx("button",{type:"button",onClick:()=>{t(""),R(!1),V.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),U&&E.length>0&&!m&&f.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[f.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Recent Searches"}),E.map(B=>{const[tt,ct]=B.split("-");return f.jsxs("button",{type:"button",onClick:()=>bt(B),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center justify-between transition-colors",children:[f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:tt}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ct})]},B)})]})]})]}),f.jsxs("div",{className:"w-full lg:w-auto",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Interval"}),f.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[f.jsx("button",{type:"button",onClick:()=>yt("1D"),className:`px-6 py-2 rounded-md font-medium transition-all ${e==="1D"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Day"}),f.jsx("button",{type:"button",onClick:()=>yt("1H"),className:`px-6 py-2 rounded-md font-medium transition-all ${e==="1H"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Hour"})]})]}),f.jsx("div",{className:"w-full lg:w-auto",children:f.jsx("button",{type:"button",onClick:X,disabled:m||!n||!n.trim(),className:"w-full lg:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2",children:m?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Loading..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsx("span",{children:"Search"})]})})})]}),y&&f.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:y}),f.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:"Please check the symbol and try again"})]})]})}),(r||m)&&f.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[f.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Current Price"}),f.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:m&&!r?f.jsx("span",{className:"text-gray-400",children:"Loading..."}):`$${r?.currentPrice?.toFixed(2)||"N/A"}`})]}),f.jsxs("div",{className:`rounded-lg p-4 border ${!r||r.change>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[f.jsx("p",{className:"text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Change"}),f.jsx("p",{className:`text-xl font-bold ${!r||r.change>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:m&&!r?f.jsx("span",{className:"text-gray-400",children:"--"}):r?`${r.change>=0?"+":""}$${r.change.toFixed(2)}`:"--"})]}),f.jsxs("div",{className:`rounded-lg p-4 border ${!r||r.changePercent>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[f.jsx("p",{className:"text-xs font-medium mb-1 text-gray-600 dark:text-gray-400",children:"Change %"}),f.jsx("p",{className:`text-xl font-bold ${!r||r.changePercent>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:m&&!r?f.jsx("span",{className:"text-gray-400",children:"--"}):r?`${r.changePercent>=0?"+":""}${r.changePercent.toFixed(2)}%`:"--"})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[f.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Interval"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:_||"N/A"})]})]}),(k||r)&&f.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{children:k?`Last updated: ${k.toLocaleString("en-US",{timeZone:"America/New_York"})}`:"Ready to load data"})]}),r&&f.jsxs("button",{type:"button",onClick:at,disabled:m,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[f.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Refresh"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Price Chart"}),n&&_&&f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[n.toUpperCase()," - ",_," interval"]})]}),r&&f.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[f.jsx("button",{type:"button",onClick:()=>{try{F("line")}catch(B){console.error("Error switching to line chart:",B)}},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${q==="line"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Line"}),f.jsx("button",{type:"button",onClick:B=>{B.preventDefault(),B.stopPropagation();try{if(h&&h.datasets&&h.datasets[0]&&h.datasets[0].data&&h.datasets[0].data.length>0){const tt=h.datasets[0].data[0];tt&&"o"in tt&&"h"in tt&&"l"in tt&&"c"in tt?F("candlestick"):(console.warn("Candlestick data structure invalid, staying on line chart"),F("line"))}else console.warn("Candlestick data not available, staying on line chart"),F("line")}catch(tt){console.error("Error switching to candlestick chart:",tt),F("line")}},disabled:!h||!h.datasets||!h.datasets[0]||!h.datasets[0].data||h.datasets[0].data.length===0,className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${q==="candlestick"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Candlestick"})]})]}),f.jsx("div",{className:"h-[500px] relative",children:r&&r.labels&&r.labels.length>0&&r.datasets&&r.datasets[0]&&r.datasets[0].data&&r.datasets[0].data.length>0?f.jsxs(f.Fragment,{children:[m&&f.jsx("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-800/90 z-10 flex items-center justify-center backdrop-blur-sm",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),f.jsx(B5,{chartType:q,candlestickData:h,chartData:r,symbol:n,currentInterval:_,lineChartOptions:K.current,candlestickChartOptions:ut.current})]}):m?f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading chart data..."}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]})}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-2",children:"No chart data available"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Please try searching again or check the symbol"})]})})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Trading Volume"}),n&&f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[n.toUpperCase()," trading volume over time"]})]}),f.jsx("div",{className:"h-[350px] relative",children:c&&c.labels&&c.labels.length>0?f.jsxs(f.Fragment,{children:[m&&f.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 z-10 flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),f.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:f.jsx(O5,{data:c,options:ot.current})})]}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No volume data available"})})})]})]})}var l0={exports:{}};var vv;function V5(){return vv||(vv=1,(function(n){(function(t,e,i,r){var l=["","webkit","Moz","MS","ms","o"],c=e.createElement("div"),u="function",h=Math.round,g=Math.abs,m=Date.now;function b(j,T,D){return setTimeout(A(j,D),T)}function y(j,T,D){return Array.isArray(j)?(v(j,D[T],D),!0):!1}function v(j,T,D){var J;if(j)if(j.forEach)j.forEach(T,D);else if(j.length!==r)for(J=0;J<j.length;)T.call(D,j[J],J,j),J++;else for(J in j)j.hasOwnProperty(J)&&T.call(D,j[J],J,j)}function k(j,T,D){var J="DEPRECATED METHOD: "+T+`
`+D+` AT 
`;return function(){var lt=new Error("get-stack-trace"),St=lt&&lt.stack?lt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",qt=t.console&&(t.console.warn||t.console.log);return qt&&qt.call(t.console,J,St),j.apply(this,arguments)}}var S;typeof Object.assign!="function"?S=function(T){if(T===r||T===null)throw new TypeError("Cannot convert undefined or null to object");for(var D=Object(T),J=1;J<arguments.length;J++){var lt=arguments[J];if(lt!==r&&lt!==null)for(var St in lt)lt.hasOwnProperty(St)&&(D[St]=lt[St])}return D}:S=Object.assign;var _=k(function(T,D,J){for(var lt=Object.keys(D),St=0;St<lt.length;)(!J||J&&T[lt[St]]===r)&&(T[lt[St]]=D[lt[St]]),St++;return T},"extend","Use `assign`."),M=k(function(T,D){return _(T,D,!0)},"merge","Use `assign`.");function E(j,T,D){var J=T.prototype,lt;lt=j.prototype=Object.create(J),lt.constructor=j,lt._super=J,D&&S(lt,D)}function A(j,T){return function(){return j.apply(T,arguments)}}function U(j,T){return typeof j==u?j.apply(T&&T[0]||r,T):j}function R(j,T){return j===r?T:j}function q(j,T,D){v(nt(T),function(J){j.addEventListener(J,D,!1)})}function F(j,T,D){v(nt(T),function(J){j.removeEventListener(J,D,!1)})}function Q(j,T){for(;j;){if(j==T)return!0;j=j.parentNode}return!1}function V(j,T){return j.indexOf(T)>-1}function nt(j){return j.trim().split(/\s+/g)}function P(j,T,D){if(j.indexOf&&!D)return j.indexOf(T);for(var J=0;J<j.length;){if(D&&j[J][D]==T||!D&&j[J]===T)return J;J++}return-1}function Y(j){return Array.prototype.slice.call(j,0)}function K(j,T,D){for(var J=[],lt=[],St=0;St<j.length;){var qt=j[St][T];P(lt,qt)<0&&J.push(j[St]),lt[St]=qt,St++}return J=J.sort(function(on,Xe){return on[T]>Xe[T]}),J}function ot(j,T){for(var D,J,lt=T[0].toUpperCase()+T.slice(1),St=0;St<l.length;){if(D=l[St],J=D?D+lt:T,J in j)return J;St++}return r}var ut=1;function L(){return ut++}function X(j){var T=j.ownerDocument||j;return T.defaultView||T.parentWindow||t}var at=/mobile|tablet|ip(ad|hone|od)|android/i,yt="ontouchstart"in t,bt=ot(t,"PointerEvent")!==r,z=yt&&at.test(navigator.userAgent),B="touch",tt="pen",ct="mouse",xt="kinect",pt=25,gt=1,kt=2,vt=4,mt=8,Xt=1,Yt=2,oe=4,Lt=8,ht=16,Ct=Yt|oe,ae=Lt|ht,Pt=Ct|ae,je=["x","y"],be=["clientX","clientY"];function $t(j,T){var D=this;this.manager=j,this.callback=T,this.element=j.element,this.target=j.options.inputTarget,this.domHandler=function(J){U(j.options.enable,[j])&&D.handler(J)},this.init()}$t.prototype={handler:function(){},init:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(X(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(X(this.element),this.evWin,this.domHandler)}};function hn(j){var T,D=j.options.inputClass;return D?T=D:bt?T=zt:z?T=ye:yt?T=rn:T=Ci,new T(j,Jt)}function Jt(j,T,D){var J=D.pointers.length,lt=D.changedPointers.length,St=T&gt&&J-lt===0,qt=T&(vt|mt)&&J-lt===0;D.isFirst=!!St,D.isFinal=!!qt,St&&(j.session={}),D.eventType=T,Ot(j,D),j.emit("hammer.input",D),j.recognize(D),j.session.prevInput=D}function Ot(j,T){var D=j.session,J=T.pointers,lt=J.length;D.firstInput||(D.firstInput=nn(T)),lt>1&&!D.firstMultiple?D.firstMultiple=nn(T):lt===1&&(D.firstMultiple=!1);var St=D.firstInput,qt=D.firstMultiple,Ge=qt?qt.center:St.center,on=T.center=Me(J);T.timeStamp=m(),T.deltaTime=T.timeStamp-St.timeStamp,T.angle=Ae(Ge,on),T.distance=Ue(Ge,on),Ve(D,T),T.offsetDirection=Sn(T.deltaX,T.deltaY);var Xe=dn(T.deltaTime,T.deltaX,T.deltaY);T.overallVelocityX=Xe.x,T.overallVelocityY=Xe.y,T.overallVelocity=g(Xe.x)>g(Xe.y)?Xe.x:Xe.y,T.scale=qt?sn(qt.pointers,J):1,T.rotation=qt?di(qt.pointers,J):0,T.maxPointers=D.prevInput?T.pointers.length>D.prevInput.maxPointers?T.pointers.length:D.prevInput.maxPointers:T.pointers.length,Kn(D,T);var Qe=j.element;Q(T.srcEvent.target,Qe)&&(Qe=T.srcEvent.target),T.target=Qe}function Ve(j,T){var D=T.center,J=j.offsetDelta||{},lt=j.prevDelta||{},St=j.prevInput||{};(T.eventType===gt||St.eventType===vt)&&(lt=j.prevDelta={x:St.deltaX||0,y:St.deltaY||0},J=j.offsetDelta={x:D.x,y:D.y}),T.deltaX=lt.x+(D.x-J.x),T.deltaY=lt.y+(D.y-J.y)}function Kn(j,T){var D=j.lastInterval||T,J=T.timeStamp-D.timeStamp,lt,St,qt,Ge;if(T.eventType!=mt&&(J>pt||D.velocity===r)){var on=T.deltaX-D.deltaX,Xe=T.deltaY-D.deltaY,Qe=dn(J,on,Xe);St=Qe.x,qt=Qe.y,lt=g(Qe.x)>g(Qe.y)?Qe.x:Qe.y,Ge=Sn(on,Xe),j.lastInterval=T}else lt=D.velocity,St=D.velocityX,qt=D.velocityY,Ge=D.direction;T.velocity=lt,T.velocityX=St,T.velocityY=qt,T.direction=Ge}function nn(j){for(var T=[],D=0;D<j.pointers.length;)T[D]={clientX:h(j.pointers[D].clientX),clientY:h(j.pointers[D].clientY)},D++;return{timeStamp:m(),pointers:T,center:Me(T),deltaX:j.deltaX,deltaY:j.deltaY}}function Me(j){var T=j.length;if(T===1)return{x:h(j[0].clientX),y:h(j[0].clientY)};for(var D=0,J=0,lt=0;lt<T;)D+=j[lt].clientX,J+=j[lt].clientY,lt++;return{x:h(D/T),y:h(J/T)}}function dn(j,T,D){return{x:T/j||0,y:D/j||0}}function Sn(j,T){return j===T?Xt:g(j)>=g(T)?j<0?Yt:oe:T<0?Lt:ht}function Ue(j,T,D){D||(D=je);var J=T[D[0]]-j[D[0]],lt=T[D[1]]-j[D[1]];return Math.sqrt(J*J+lt*lt)}function Ae(j,T,D){D||(D=je);var J=T[D[0]]-j[D[0]],lt=T[D[1]]-j[D[1]];return Math.atan2(lt,J)*180/Math.PI}function di(j,T){return Ae(T[1],T[0],be)+Ae(j[1],j[0],be)}function sn(j,T){return Ue(T[0],T[1],be)/Ue(j[0],j[1],be)}var kn={mousedown:gt,mousemove:kt,mouseup:vt},Fe="mousedown",pr="mousemove mouseup";function Ci(){this.evEl=Fe,this.evWin=pr,this.pressed=!1,$t.apply(this,arguments)}E(Ci,$t,{handler:function(T){var D=kn[T.type];D&gt&&T.button===0&&(this.pressed=!0),D&kt&&T.which!==1&&(D=vt),this.pressed&&(D&vt&&(this.pressed=!1),this.callback(this.manager,D,{pointers:[T],changedPointers:[T],pointerType:ct,srcEvent:T}))}});var xr={pointerdown:gt,pointermove:kt,pointerup:vt,pointercancel:mt,pointerout:mt},W={2:B,3:tt,4:ct,5:xt},Ut="pointerdown",wt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ut="MSPointerDown",wt="MSPointerMove MSPointerUp MSPointerCancel");function zt(){this.evEl=Ut,this.evWin=wt,$t.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E(zt,$t,{handler:function(T){var D=this.store,J=!1,lt=T.type.toLowerCase().replace("ms",""),St=xr[lt],qt=W[T.pointerType]||T.pointerType,Ge=qt==B,on=P(D,T.pointerId,"pointerId");St&gt&&(T.button===0||Ge)?on<0&&(D.push(T),on=D.length-1):St&(vt|mt)&&(J=!0),!(on<0)&&(D[on]=T,this.callback(this.manager,St,{pointers:D,changedPointers:[T],pointerType:qt,srcEvent:T}),J&&D.splice(on,1))}});var Gt={touchstart:gt,touchmove:kt,touchend:vt,touchcancel:mt},he="touchstart",Le="touchstart touchmove touchend touchcancel";function Ye(){this.evTarget=he,this.evWin=Le,this.started=!1,$t.apply(this,arguments)}E(Ye,$t,{handler:function(T){var D=Gt[T.type];if(D===gt&&(this.started=!0),!!this.started){var J=Bt.call(this,T,D);D&(vt|mt)&&J[0].length-J[1].length===0&&(this.started=!1),this.callback(this.manager,D,{pointers:J[0],changedPointers:J[1],pointerType:B,srcEvent:T})}}});function Bt(j,T){var D=Y(j.touches),J=Y(j.changedTouches);return T&(vt|mt)&&(D=K(D.concat(J),"identifier")),[D,J]}var Rn={touchstart:gt,touchmove:kt,touchend:vt,touchcancel:mt},At="touchstart touchmove touchend touchcancel";function ye(){this.evTarget=At,this.targetIds={},$t.apply(this,arguments)}E(ye,$t,{handler:function(T){var D=Rn[T.type],J=Nn.call(this,T,D);J&&this.callback(this.manager,D,{pointers:J[0],changedPointers:J[1],pointerType:B,srcEvent:T})}});function Nn(j,T){var D=Y(j.touches),J=this.targetIds;if(T&(gt|kt)&&D.length===1)return J[D[0].identifier]=!0,[D,D];var lt,St,qt=Y(j.changedTouches),Ge=[],on=this.target;if(St=D.filter(function(Xe){return Q(Xe.target,on)}),T===gt)for(lt=0;lt<St.length;)J[St[lt].identifier]=!0,lt++;for(lt=0;lt<qt.length;)J[qt[lt].identifier]&&Ge.push(qt[lt]),T&(vt|mt)&&delete J[qt[lt].identifier],lt++;if(Ge.length)return[K(St.concat(Ge),"identifier"),Ge]}var On=2500,_n=25;function rn(){$t.apply(this,arguments);var j=A(this.handler,this);this.touch=new ye(this.manager,j),this.mouse=new Ci(this.manager,j),this.primaryTouch=null,this.lastTouches=[]}E(rn,$t,{handler:function(T,D,J){var lt=J.pointerType==B,St=J.pointerType==ct;if(!(St&&J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents)){if(lt)an.call(this,D,J);else if(St&&ve.call(this,J))return;this.callback(T,D,J)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function an(j,T){j&gt?(this.primaryTouch=T.changedPointers[0].identifier,Ht.call(this,T)):j&(vt|mt)&&Ht.call(this,T)}function Ht(j){var T=j.changedPointers[0];if(T.identifier===this.primaryTouch){var D={x:T.clientX,y:T.clientY};this.lastTouches.push(D);var J=this.lastTouches,lt=function(){var St=J.indexOf(D);St>-1&&J.splice(St,1)};setTimeout(lt,On)}}function ve(j){for(var T=j.srcEvent.clientX,D=j.srcEvent.clientY,J=0;J<this.lastTouches.length;J++){var lt=this.lastTouches[J],St=Math.abs(T-lt.x),qt=Math.abs(D-lt.y);if(St<=_n&&qt<=_n)return!0}return!1}var le=ot(c.style,"touchAction"),ge=le!==r,Jn="compute",ts="auto",Cs="manipulation",Ei="none",Ti="pan-x",jn="pan-y",Vi=Ui();function Pe(j,T){this.manager=j,this.set(T)}Pe.prototype={set:function(j){j==Jn&&(j=this.compute()),ge&&this.manager.element.style&&Vi[j]&&(this.manager.element.style[le]=j),this.actions=j.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var j=[];return v(this.manager.recognizers,function(T){U(T.options.enable,[T])&&(j=j.concat(T.getTouchAction()))}),Re(j.join(" "))},preventDefaults:function(j){var T=j.srcEvent,D=j.offsetDirection;if(this.manager.session.prevented){T.preventDefault();return}var J=this.actions,lt=V(J,Ei)&&!Vi[Ei],St=V(J,jn)&&!Vi[jn],qt=V(J,Ti)&&!Vi[Ti];if(lt){var Ge=j.pointers.length===1,on=j.distance<2,Xe=j.deltaTime<250;if(Ge&&on&&Xe)return}if(!(qt&&St)&&(lt||St&&D&Ct||qt&&D&ae))return this.preventSrc(T)},preventSrc:function(j){this.manager.session.prevented=!0,j.preventDefault()}};function Re(j){if(V(j,Ei))return Ei;var T=V(j,Ti),D=V(j,jn);return T&&D?Ei:T||D?T?Ti:jn:V(j,Cs)?Cs:ts}function Ui(){if(!ge)return!1;var j={},T=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(D){j[D]=T?t.CSS.supports("touch-action",D):!0}),j}var Hn=1,It=2,Di=4,ti=8,ln=ti,Mn=16,Oe=32;function Cn(j){this.options=S({},this.defaults,j||{}),this.id=L(),this.manager=null,this.options.enable=R(this.options.enable,!0),this.state=Hn,this.simultaneous={},this.requireFail=[]}Cn.prototype={defaults:{},set:function(j){return S(this.options,j),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(j){if(y(j,"recognizeWith",this))return this;var T=this.simultaneous;return j=Mt(j,this),T[j.id]||(T[j.id]=j,j.recognizeWith(this)),this},dropRecognizeWith:function(j){return y(j,"dropRecognizeWith",this)?this:(j=Mt(j,this),delete this.simultaneous[j.id],this)},requireFailure:function(j){if(y(j,"requireFailure",this))return this;var T=this.requireFail;return j=Mt(j,this),P(T,j)===-1&&(T.push(j),j.requireFailure(this)),this},dropRequireFailure:function(j){if(y(j,"dropRequireFailure",this))return this;j=Mt(j,this);var T=P(this.requireFail,j);return T>-1&&this.requireFail.splice(T,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(j){return!!this.simultaneous[j.id]},emit:function(j){var T=this,D=this.state;function J(lt){T.manager.emit(lt,j)}D<ti&&J(T.options.event+Es(D)),J(T.options.event),j.additionalEvent&&J(j.additionalEvent),D>=ti&&J(T.options.event+Es(D))},tryEmit:function(j){if(this.canEmit())return this.emit(j);this.state=Oe},canEmit:function(){for(var j=0;j<this.requireFail.length;){if(!(this.requireFail[j].state&(Oe|Hn)))return!1;j++}return!0},recognize:function(j){var T=S({},j);if(!U(this.options.enable,[this,T])){this.reset(),this.state=Oe;return}this.state&(ln|Mn|Oe)&&(this.state=Hn),this.state=this.process(T),this.state&(It|Di|ti|Mn)&&this.tryEmit(T)},process:function(j){},getTouchAction:function(){},reset:function(){}};function Es(j){return j&Mn?"cancel":j&ti?"end":j&Di?"move":j&It?"start":""}function dt(j){return j==ht?"down":j==Lt?"up":j==Yt?"left":j==oe?"right":""}function Mt(j,T){var D=T.manager;return D?D.get(j):j}function _t(){Cn.apply(this,arguments)}E(_t,Cn,{defaults:{pointers:1},attrTest:function(j){var T=this.options.pointers;return T===0||j.pointers.length===T},process:function(j){var T=this.state,D=j.eventType,J=T&(It|Di),lt=this.attrTest(j);return J&&(D&mt||!lt)?T|Mn:J||lt?D&vt?T|ti:T&It?T|Di:It:Oe}});function ne(){_t.apply(this,arguments),this.pX=null,this.pY=null}E(ne,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pt},getTouchAction:function(){var j=this.options.direction,T=[];return j&Ct&&T.push(jn),j&ae&&T.push(Ti),T},directionTest:function(j){var T=this.options,D=!0,J=j.distance,lt=j.direction,St=j.deltaX,qt=j.deltaY;return lt&T.direction||(T.direction&Ct?(lt=St===0?Xt:St<0?Yt:oe,D=St!=this.pX,J=Math.abs(j.deltaX)):(lt=qt===0?Xt:qt<0?Lt:ht,D=qt!=this.pY,J=Math.abs(j.deltaY))),j.direction=lt,D&&J>T.threshold&&lt&T.direction},attrTest:function(j){return _t.prototype.attrTest.call(this,j)&&(this.state&It||!(this.state&It)&&this.directionTest(j))},emit:function(j){this.pX=j.deltaX,this.pY=j.deltaY;var T=dt(j.direction);T&&(j.additionalEvent=this.options.event+T),this._super.emit.call(this,j)}});function Ie(){_t.apply(this,arguments)}E(Ie,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ei]},attrTest:function(j){return this._super.attrTest.call(this,j)&&(Math.abs(j.scale-1)>this.options.threshold||this.state&It)},emit:function(j){if(j.scale!==1){var T=j.scale<1?"in":"out";j.additionalEvent=this.options.event+T}this._super.emit.call(this,j)}});function es(){Cn.apply(this,arguments),this._timer=null,this._input=null}E(es,Cn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ts]},process:function(j){var T=this.options,D=j.pointers.length===T.pointers,J=j.distance<T.threshold,lt=j.deltaTime>T.time;if(this._input=j,!J||!D||j.eventType&(vt|mt)&&!lt)this.reset();else if(j.eventType&gt)this.reset(),this._timer=b(function(){this.state=ln,this.tryEmit()},T.time,this);else if(j.eventType&vt)return ln;return Oe},reset:function(){clearTimeout(this._timer)},emit:function(j){this.state===ln&&(j&&j.eventType&vt?this.manager.emit(this.options.event+"up",j):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function Fi(){_t.apply(this,arguments)}E(Fi,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ei]},attrTest:function(j){return this._super.attrTest.call(this,j)&&(Math.abs(j.rotation)>this.options.threshold||this.state&It)}});function ei(){_t.apply(this,arguments)}E(ei,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ct|ae,pointers:1},getTouchAction:function(){return ne.prototype.getTouchAction.call(this)},attrTest:function(j){var T=this.options.direction,D;return T&(Ct|ae)?D=j.overallVelocity:T&Ct?D=j.overallVelocityX:T&ae&&(D=j.overallVelocityY),this._super.attrTest.call(this,j)&&T&j.offsetDirection&&j.distance>this.options.threshold&&j.maxPointers==this.options.pointers&&g(D)>this.options.velocity&&j.eventType&vt},emit:function(j){var T=dt(j.offsetDirection);T&&this.manager.emit(this.options.event+T,j),this.manager.emit(this.options.event,j)}});function Ts(){Cn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}E(Ts,Cn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Cs]},process:function(j){var T=this.options,D=j.pointers.length===T.pointers,J=j.distance<T.threshold,lt=j.deltaTime<T.time;if(this.reset(),j.eventType&gt&&this.count===0)return this.failTimeout();if(J&&lt&&D){if(j.eventType!=vt)return this.failTimeout();var St=this.pTime?j.timeStamp-this.pTime<T.interval:!0,qt=!this.pCenter||Ue(this.pCenter,j.center)<T.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,!qt||!St?this.count=1:this.count+=1,this._input=j;var Ge=this.count%T.taps;if(Ge===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=ln,this.tryEmit()},T.interval,this),It):ln}return Oe},failTimeout:function(){return this._timer=b(function(){this.state=Oe},this.options.interval,this),Oe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ni(j,T){return T=T||{},T.recognizers=R(T.recognizers,ni.defaults.preset),new br(j,T)}ni.VERSION="2.0.7",ni.defaults={domEvents:!1,touchAction:Jn,enable:!0,inputTarget:null,inputClass:null,preset:[[Fi,{enable:!1}],[Ie,{enable:!1},["rotate"]],[ei,{direction:Ct}],[ne,{direction:Ct},["swipe"]],[Ts],[Ts,{event:"doubletap",taps:2},["tap"]],[es]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Mh=1,zn=2;function br(j,T){this.options=S({},ni.defaults,T||{}),this.options.inputTarget=this.options.inputTarget||j,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=j,this.input=hn(this),this.touchAction=new Pe(this,this.options.touchAction),il(this,!0),v(this.options.recognizers,function(D){var J=this.add(new D[0](D[1]));D[2]&&J.recognizeWith(D[2]),D[3]&&J.requireFailure(D[3])},this)}br.prototype={set:function(j){return S(this.options,j),j.touchAction&&this.touchAction.update(),j.inputTarget&&(this.input.destroy(),this.input.target=j.inputTarget,this.input.init()),this},stop:function(j){this.session.stopped=j?zn:Mh},recognize:function(j){var T=this.session;if(!T.stopped){this.touchAction.preventDefaults(j);var D,J=this.recognizers,lt=T.curRecognizer;(!lt||lt&&lt.state&ln)&&(lt=T.curRecognizer=null);for(var St=0;St<J.length;)D=J[St],T.stopped!==zn&&(!lt||D==lt||D.canRecognizeWith(lt))?D.recognize(j):D.reset(),!lt&&D.state&(It|Di|ti)&&(lt=T.curRecognizer=D),St++}},get:function(j){if(j instanceof Cn)return j;for(var T=this.recognizers,D=0;D<T.length;D++)if(T[D].options.event==j)return T[D];return null},add:function(j){if(y(j,"add",this))return this;var T=this.get(j.options.event);return T&&this.remove(T),this.recognizers.push(j),j.manager=this,this.touchAction.update(),j},remove:function(j){if(y(j,"remove",this))return this;if(j=this.get(j),j){var T=this.recognizers,D=P(T,j);D!==-1&&(T.splice(D,1),this.touchAction.update())}return this},on:function(j,T){if(j!==r&&T!==r){var D=this.handlers;return v(nt(j),function(J){D[J]=D[J]||[],D[J].push(T)}),this}},off:function(j,T){if(j!==r){var D=this.handlers;return v(nt(j),function(J){T?D[J]&&D[J].splice(P(D[J],T),1):delete D[J]}),this}},emit:function(j,T){this.options.domEvents&&sl(j,T);var D=this.handlers[j]&&this.handlers[j].slice();if(!(!D||!D.length)){T.type=j,T.preventDefault=function(){T.srcEvent.preventDefault()};for(var J=0;J<D.length;)D[J](T),J++}},destroy:function(){this.element&&il(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function il(j,T){var D=j.element;if(D.style){var J;v(j.options.cssProps,function(lt,St){J=ot(D.style,St),T?(j.oldCssProps[J]=D.style[J],D.style[J]=lt):D.style[J]=j.oldCssProps[J]||""}),T||(j.oldCssProps={})}}function sl(j,T){var D=e.createEvent("Event");D.initEvent(j,!0,!0),D.gesture=T,T.target.dispatchEvent(D)}S(ni,{INPUT_START:gt,INPUT_MOVE:kt,INPUT_END:vt,INPUT_CANCEL:mt,STATE_POSSIBLE:Hn,STATE_BEGAN:It,STATE_CHANGED:Di,STATE_ENDED:ti,STATE_RECOGNIZED:ln,STATE_CANCELLED:Mn,STATE_FAILED:Oe,DIRECTION_NONE:Xt,DIRECTION_LEFT:Yt,DIRECTION_RIGHT:oe,DIRECTION_UP:Lt,DIRECTION_DOWN:ht,DIRECTION_HORIZONTAL:Ct,DIRECTION_VERTICAL:ae,DIRECTION_ALL:Pt,Manager:br,Input:$t,TouchAction:Pe,TouchInput:ye,MouseInput:Ci,PointerEventInput:zt,TouchMouseInput:rn,SingleTouchInput:Ye,Recognizer:Cn,AttrRecognizer:_t,Tap:Ts,Pan:ne,Swipe:ei,Pinch:Ie,Rotate:Fi,Press:es,on:q,off:F,each:v,merge:M,extend:_,assign:S,inherit:E,bindFn:A,prefixed:ot});var Ds=typeof t<"u"?t:typeof self<"u"?self:{};Ds.Hammer=ni,n.exports?n.exports=ni:t[i]=ni})(window,document,"Hammer")})(l0)),l0.exports}var U5=V5();const mo=D1(U5);const Do=n=>n&&n.enabled&&n.modifierKey,kw=(n,t)=>n&&t[n+"Key"],Lg=(n,t)=>n&&!t[n+"Key"];function dr(n,t,e){return n===void 0?!0:typeof n=="string"?n.indexOf(t)!==-1:typeof n=="function"?n({chart:e}).indexOf(t)!==-1:!1}function o0(n,t){return typeof n=="function"&&(n=n({chart:t})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function F5(n,t){let e;return function(){return clearTimeout(e),e=setTimeout(n,t),t}}function Y5({x:n,y:t},e){const i=e.scales,r=Object.keys(i);for(let l=0;l<r.length;l++){const c=i[r[l]];if(t>=c.top&&t<=c.bottom&&n>=c.left&&n<=c.right)return c}return null}function Nw(n,t,e){const{mode:i="xy",scaleMode:r,overScaleMode:l}=n||{},c=Y5(t,e),u=o0(i,e),h=o0(r,e);if(l){const m=o0(l,e);for(const b of["x","y"])m[b]&&(h[b]=u[b],u[b]=!1)}if(c&&h[c.axis])return[c];const g=[];return Kt(e.scales,function(m){u[m.axis]&&g.push(m)}),g}const Y0=new WeakMap;function ze(n){let t=Y0.get(n);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Y0.set(n,t)),t}function I5(n){Y0.delete(n)}function _w(n,t,e,i){const r=Math.max(0,Math.min(1,(n-t)/e||0)),l=1-r;return{min:i*r,max:i*l}}function jw(n,t){const e=n.isHorizontal()?t.x:t.y;return n.getValueForPixel(e)}function Mw(n,t,e){const i=n.max-n.min,r=i*(t-1),l=jw(n,e);return _w(l,n.min,i,r)}function q5(n,t,e){const i=jw(n,e);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),l=Math.log10(n.max),c=Math.log10(i),u=l-r,h=u*(t-1),g=_w(c,r,u,h);return{min:Math.pow(10,r+g.min),max:Math.pow(10,l-g.max)}}function W5(n,t){return t&&(t[n.id]||t[n.axis])||{}}function wv(n,t,e,i,r){let l=e[i];if(l==="original"){const c=n.originalScaleLimits[t.id][i];l=Tt(c.options,c.scale)}return Tt(l,r)}function $5(n,t,e){const i=n.getValueForPixel(t),r=n.getValueForPixel(e);return{min:Math.min(i,r),max:Math.max(i,r)}}function G5(n,{min:t,max:e,minLimit:i,maxLimit:r},l){const c=(n-e+t)/2;t-=c,e+=c;const u=l.min.options??l.min.scale,h=l.max.options??l.max.scale,g=n/1e6;return Yr(t,u,g)&&(t=u),Yr(e,h,g)&&(e=h),t<i?(t=i,e=Math.min(i+n,r)):e>r&&(e=r,t=Math.max(r-n,i)),{min:t,max:e}}function Zr(n,{min:t,max:e},i,r=!1){const l=ze(n.chart),{options:c}=n,u=W5(n,i),{minRange:h=0}=u,g=wv(l,n,u,"min",-1/0),m=wv(l,n,u,"max",1/0);if(r==="pan"&&(t<g||e>m))return!0;const b=n.max-n.min,y=r?Math.max(e-t,h):b;if(r&&y===h&&b<=h)return!0;const v=G5(y,{min:t,max:e,minLimit:g,maxLimit:m},l.originalScaleLimits[n.id]);return c.min=v.min,c.max=v.max,l.updatedScaleLimits[n.id]=v,n.parse(v.min)!==n.min||n.parse(v.max)!==n.max}function X5(n,t,e,i){const r=Mw(n,t,e),l={min:n.min+r.min,max:n.max-r.max};return Zr(n,l,i,!0)}function Q5(n,t,e,i){const r=q5(n,t,e);return Zr(n,r,i,!0)}function Z5(n,t,e,i){Zr(n,$5(n,t,e),i,!0)}const Sv=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function K5(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}function J5(n,t,e,i){const r=Mw(n,t,e);n.min===n.max&&t<1&&K5(n);const l={min:n.min+Sv(r.min),max:n.max-Sv(r.max)};return Zr(n,l,i,!0)}function tT(n){return n.isHorizontal()?n.width:n.height}function eT(n,t,e){const r=n.getLabels().length-1;let{min:l,max:c}=n;const u=Math.max(c-l,1),h=Math.round(tT(n)/Math.max(u,10)),g=Math.round(Math.abs(t/h));let m;return t<-h?(c=Math.min(c+g,r),l=u===1?c:c-u,m=c===r):t>h&&(l=Math.max(0,l-g),c=u===1?l:l+u,m=l===0),Zr(n,{min:l,max:c},e)||m}const nT={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function Cw(n,t,e,i=!1){const{min:r,max:l,options:c}=n,u=c.time&&c.time.round,h=nT[u]||0,g=n.getValueForPixel(n.getPixelForValue(r+h)-t),m=n.getValueForPixel(n.getPixelForValue(l+h)-t);return isNaN(g)||isNaN(m)?!0:Zr(n,{min:g,max:m},e,i?"pan":!1)}function kv(n,t,e){return Cw(n,t,e,!0)}const I0={category:J5,default:X5,logarithmic:Q5},q0={default:Z5},W0={category:eT,default:Cw,logarithmic:kv,timeseries:kv};function iT(n,t,e){const{id:i,options:{min:r,max:l}}=n;if(!t[i]||!e[i])return!0;const c=e[i];return c.min!==r||c.max!==l}function Nv(n,t){Kt(n,(e,i)=>{t[i]||delete n[i]})}function nl(n,t){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:r}=t;return Kt(e,function(l){iT(l,i,r)&&(i[l.id]={min:{scale:l.min,options:l.options.min},max:{scale:l.max,options:l.options.max}})}),Nv(i,e),Nv(r,e),i}function _v(n,t,e,i){const r=I0[n.type]||I0.default;Rt(r,[n,t,e,i])}function jv(n,t,e,i){const r=q0[n.type]||q0.default;Rt(r,[n,t,e,i])}function sT(n){const t=n.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Pg(n,t,e="none",i="api"){const{x:r=1,y:l=1,focalPoint:c=sT(n)}=typeof t=="number"?{x:t,y:t}:t,u=ze(n),{options:{limits:h,zoom:g}}=u;nl(n,u);const m=r!==1,b=l!==1,y=Nw(g,c,n);Kt(y||n.scales,function(v){v.isHorizontal()&&m?_v(v,r,c,h):!v.isHorizontal()&&b&&_v(v,l,c,h)}),n.update(e),Rt(g.onZoom,[{chart:n,trigger:i}])}function Ew(n,t,e,i="none",r="api"){const l=ze(n),{options:{limits:c,zoom:u}}=l,{mode:h="xy"}=u;nl(n,l);const g=dr(h,"x",n),m=dr(h,"y",n);Kt(n.scales,function(b){b.isHorizontal()&&g?jv(b,t.x,e.x,c):!b.isHorizontal()&&m&&jv(b,t.y,e.y,c)}),n.update(i),Rt(u.onZoom,[{chart:n,trigger:r}])}function rT(n,t,e,i="none",r="api"){const l=ze(n);nl(n,l);const c=n.scales[t];Zr(c,e,void 0,!0),n.update(i),Rt(l.options.zoom?.onZoom,[{chart:n,trigger:r}])}function aT(n,t="default"){const e=ze(n),i=nl(n,e);Kt(n.scales,function(r){const l=r.options;i[r.id]?(l.min=i[r.id].min.options,l.max=i[r.id].max.options):(delete l.min,delete l.max),delete e.updatedScaleLimits[r.id]}),n.update(t),Rt(e.options.zoom.onZoomComplete,[{chart:n}])}function lT(n,t){const e=n.originalScaleLimits[t];if(!e)return;const{min:i,max:r}=e;return Tt(r.options,r.scale)-Tt(i.options,i.scale)}function oT(n){const t=ze(n);let e=1,i=1;return Kt(n.scales,function(r){const l=lT(t,r.id);if(l){const c=Math.round(l/(r.max-r.min)*100)/100;e=Math.min(e,c),i=Math.max(i,c)}}),e<1?e:i}function Mv(n,t,e,i){const{panDelta:r}=i,l=r[n.id]||0;_i(l)===_i(t)&&(t+=l);const c=W0[n.type]||W0.default;Rt(c,[n,t,e])?r[n.id]=0:r[n.id]=t}function Tw(n,t,e,i="none"){const{x:r=0,y:l=0}=typeof t=="number"?{x:t,y:t}:t,c=ze(n),{options:{pan:u,limits:h}}=c,{onPan:g}=u||{};nl(n,c);const m=r!==0,b=l!==0;Kt(e||n.scales,function(y){y.isHorizontal()&&m?Mv(y,r,h,c):!y.isHorizontal()&&b&&Mv(y,l,h,c)}),n.update(i),Rt(g,[{chart:n}])}function Dw(n){const t=ze(n);nl(n,t);const e={};for(const i of Object.keys(n.scales)){const{min:r,max:l}=t.originalScaleLimits[i]||{min:{},max:{}};e[i]={min:r.scale,max:l.scale}}return e}function cT(n){const t=ze(n),e={};for(const i of Object.keys(n.scales))e[i]=t.updatedScaleLimits[i];return e}function uT(n){const t=Dw(n);for(const e of Object.keys(n.scales)){const{min:i,max:r}=t[e];if(i!==void 0&&n.scales[e].min!==i||r!==void 0&&n.scales[e].max!==r)return!0}return!1}function Cv(n){const t=ze(n);return t.panning||t.dragging}const Ev=(n,t,e)=>Math.min(e,Math.max(t,n));function Gn(n,t){const{handlers:e}=ze(n),i=e[t];i&&i.target&&(i.target.removeEventListener(t,i),delete e[t])}function po(n,t,e,i){const{handlers:r,options:l}=ze(n),c=r[e];if(c&&c.target===t)return;Gn(n,e),r[e]=h=>i(n,h,l),r[e].target=t;const u=e==="wheel"?!1:void 0;t.addEventListener(e,r[e],{passive:u})}function hT(n,t){const e=ze(n);e.dragStart&&(e.dragging=!0,e.dragEnd=t,n.update("none"))}function dT(n,t){const e=ze(n);!e.dragStart||t.key!=="Escape"||(Gn(n,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,n.update("none"))}function $0(n,t){if(n.target!==t.canvas){const e=t.canvas.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}return Ki(n,t)}function Aw(n,t,e){const{onZoomStart:i,onZoomRejected:r}=e;if(i){const l=$0(t,n);if(Rt(i,[{chart:n,event:t,point:l}])===!1)return Rt(r,[{chart:n,event:t}]),!1}}function fT(n,t){if(n.legend){const l=Ki(t,n);if(Ua(l,n.legend))return}const e=ze(n),{pan:i,zoom:r={}}=e.options;if(t.button!==0||kw(Do(i),t)||Lg(Do(r.drag),t))return Rt(r.onZoomRejected,[{chart:n,event:t}]);Aw(n,t,r)!==!1&&(e.dragStart=t,po(n,n.canvas.ownerDocument,"mousemove",hT),po(n,window.document,"keydown",dT))}function gT({begin:n,end:t},e){let i=t.x-n.x,r=t.y-n.y;const l=Math.abs(i/r);l>e?i=Math.sign(i)*Math.abs(r*e):l<e&&(r=Math.sign(r)*Math.abs(i/e)),t.x=n.x+i,t.y=n.y+r}function Tv(n,t,e,{min:i,max:r,prop:l}){n[i]=Ev(Math.min(e.begin[l],e.end[l]),t[i],t[r]),n[r]=Ev(Math.max(e.begin[l],e.end[l]),t[i],t[r])}function mT(n,t,e){const i={begin:$0(t.dragStart,n),end:$0(t.dragEnd,n)};if(e){const r=n.chartArea.width/n.chartArea.height;gT(i,r)}return i}function Rw(n,t,e,i){const r=dr(t,"x",n),l=dr(t,"y",n),{top:c,left:u,right:h,bottom:g,width:m,height:b}=n.chartArea,y={top:c,left:u,right:h,bottom:g},v=mT(n,e,i&&r&&l);r&&Tv(y,n.chartArea,v,{min:"left",max:"right",prop:"x"}),l&&Tv(y,n.chartArea,v,{min:"top",max:"bottom",prop:"y"});const k=y.right-y.left,S=y.bottom-y.top;return{...y,width:k,height:S,zoomX:r&&k?1+(m-k)/m:1,zoomY:l&&S?1+(b-S)/b:1}}function pT(n,t){const e=ze(n);if(!e.dragStart)return;Gn(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:l=0,maintainAspectRatio:c}}=e.options.zoom,u=Rw(n,i,{dragStart:e.dragStart,dragEnd:t},c),h=dr(i,"x",n)?u.width:0,g=dr(i,"y",n)?u.height:0,m=Math.sqrt(h*h+g*g);if(e.dragStart=e.dragEnd=null,m<=l){e.dragging=!1,n.update("none");return}Ew(n,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),e.dragging=!1,e.filterNextClick=!0,Rt(r,[{chart:n}])}function xT(n,t,e){if(Lg(Do(e.wheel),t)){Rt(e.onZoomRejected,[{chart:n,event:t}]);return}if(Aw(n,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function bT(n,t){const{handlers:{onZoomComplete:e},options:{zoom:i}}=ze(n);if(!xT(n,t,i))return;const r=t.target.getBoundingClientRect(),l=i.wheel.speed,c=t.deltaY>=0?2-1/(1-l):1+l,u={x:c,y:c,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};Pg(n,u,"zoom","wheel"),Rt(e,[{chart:n}])}function yT(n,t,e,i){e&&(ze(n).handlers[t]=F5(()=>Rt(e,[{chart:n}]),i))}function vT(n,t){const e=n.canvas,{wheel:i,drag:r,onZoomComplete:l}=t.zoom;i.enabled?(po(n,e,"wheel",bT),yT(n,"onZoomComplete",l,250)):Gn(n,"wheel"),r.enabled?(po(n,e,"mousedown",fT),po(n,e.ownerDocument,"mouseup",pT)):(Gn(n,"mousedown"),Gn(n,"mousemove"),Gn(n,"mouseup"),Gn(n,"keydown"))}function wT(n){Gn(n,"mousedown"),Gn(n,"mousemove"),Gn(n,"mouseup"),Gn(n,"wheel"),Gn(n,"click"),Gn(n,"keydown")}function ST(n,t){return function(e,i){const{pan:r,zoom:l={}}=t.options;if(!r||!r.enabled)return!1;const c=i&&i.srcEvent;return c&&!t.panning&&i.pointerType==="mouse"&&(Lg(Do(r),c)||kw(Do(l.drag),c))?(Rt(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function kT(n,t){const e=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY),r=e/i;let l,c;return r>.3&&r<1.7?l=c=!0:e>i?l=!0:c=!0,{x:l,y:c}}function Ow(n,t,e){if(t.scale){const{center:i,pointers:r}=e,l=1/t.scale*e.scale,c=e.target.getBoundingClientRect(),u=kT(r[0],r[1]),h=t.options.zoom.mode,g={x:u.x&&dr(h,"x",n)?l:1,y:u.y&&dr(h,"y",n)?l:1,focalPoint:{x:i.x-c.left,y:i.y-c.top}};Pg(n,g,"zoom","pinch"),t.scale=e.scale}}function NT(n,t,e){if(t.options.zoom.pinch.enabled){const i=Ki(e,n);Rt(t.options.zoom.onZoomStart,[{chart:n,event:e,point:i}])===!1?(t.scale=null,Rt(t.options.zoom.onZoomRejected,[{chart:n,event:e}])):t.scale=1}}function _T(n,t,e){t.scale&&(Ow(n,t,e),t.scale=null,Rt(t.options.zoom.onZoomComplete,[{chart:n}]))}function zw(n,t,e){const i=t.delta;i&&(t.panning=!0,Tw(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function jT(n,t,e){const{enabled:i,onPanStart:r,onPanRejected:l}=t.options.pan;if(!i)return;const c=e.target.getBoundingClientRect(),u={x:e.center.x-c.left,y:e.center.y-c.top};if(Rt(r,[{chart:n,event:e,point:u}])===!1)return Rt(l,[{chart:n,event:e}]);t.panScales=Nw(t.options.pan,u,n),t.delta={x:0,y:0},zw(n,t,e)}function MT(n,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,Rt(t.options.pan.onPanComplete,[{chart:n}]))}const G0=new WeakMap;function Dv(n,t){const e=ze(n),i=n.canvas,{pan:r,zoom:l}=t,c=new mo.Manager(i);l&&l.pinch.enabled&&(c.add(new mo.Pinch),c.on("pinchstart",u=>NT(n,e,u)),c.on("pinch",u=>Ow(n,e,u)),c.on("pinchend",u=>_T(n,e,u))),r&&r.enabled&&(c.add(new mo.Pan({threshold:r.threshold,enable:ST(n,e)})),c.on("panstart",u=>jT(n,e,u)),c.on("panmove",u=>zw(n,e,u)),c.on("panend",()=>MT(n,e))),G0.set(n,c)}function Av(n){const t=G0.get(n);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),G0.delete(n))}function CT(n,t){const{pan:e,zoom:i}=n,{pan:r,zoom:l}=t;return i?.zoom?.pinch?.enabled!==l?.zoom?.pinch?.enabled||e?.enabled!==r?.enabled||e?.threshold!==r?.threshold}var ET="2.2.0";function wu(n,t,e){const i=e.zoom.drag,{dragStart:r,dragEnd:l}=ze(n);if(i.drawTime!==t||!l)return;const{left:c,top:u,width:h,height:g}=Rw(n,e.zoom.mode,{dragStart:r,dragEnd:l},i.maintainAspectRatio),m=n.ctx;m.save(),m.beginPath(),m.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",m.fillRect(c,u,h,g),i.borderWidth>0&&(m.lineWidth=i.borderWidth,m.strokeStyle=i.borderColor||"rgba(225,225,225)",m.strokeRect(c,u,h,g)),m.restore()}var Lw={id:"zoom",version:ET,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,t,e){const i=ze(n);i.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),mo&&Dv(n,e),n.pan=(r,l,c)=>Tw(n,r,l,c),n.zoom=(r,l)=>Pg(n,r,l),n.zoomRect=(r,l,c)=>Ew(n,r,l,c),n.zoomScale=(r,l,c)=>rT(n,r,l,c),n.resetZoom=r=>aT(n,r),n.getZoomLevel=()=>oT(n),n.getInitialScaleBounds=()=>Dw(n),n.getZoomedScaleBounds=()=>cT(n),n.isZoomedOrPanned=()=>uT(n),n.isZoomingOrPanning=()=>Cv(n)},beforeEvent(n,{event:t}){if(Cv(n))return!1;if(t.type==="click"||t.type==="mouseup"){const e=ze(n);if(e.filterNextClick)return e.filterNextClick=!1,!1}},beforeUpdate:function(n,t,e){const i=ze(n),r=i.options;i.options=e,CT(r,e)&&(Av(n),Dv(n,e)),vT(n,e)},beforeDatasetsDraw(n,t,e){wu(n,"beforeDatasetsDraw",e)},afterDatasetsDraw(n,t,e){wu(n,"afterDatasetsDraw",e)},beforeDraw(n,t,e){wu(n,"beforeDraw",e)},afterDraw(n,t,e){wu(n,"afterDraw",e)},stop:function(n){wT(n),mo&&Av(n),I5(n)},panFunctions:W0,zoomFunctions:I0,zoomRectFunctions:q0};const Bg="savedProjections",Hg=()=>{try{const n=localStorage.getItem(Bg);if(n)return JSON.parse(n)}catch(n){console.error("Error loading saved projections:",n)}return[]},TT=n=>{try{const t=Hg(),e={id:Date.now().toString(),...n,savedAt:new Date().toISOString()};return t.push(e),localStorage.setItem(Bg,JSON.stringify(t)),e}catch(t){throw console.error("Error saving projection:",t),t}},DT=n=>{try{const e=Hg().filter(i=>i.id!==n);return localStorage.setItem(Bg,JSON.stringify(e)),{success:!0}}catch(t){throw console.error("Error deleting projection:",t),t}};Ms.register(qo,Wo,Uo,mr,Yo,Io,Fo,zg,Lw);const cr=[3,7,31,12,19,5,11,13,17,23,29,31],Pn=[11,13,17,29,31,47,59,61,97,101],Pw=72n,AT=1n<<Pw,Rv=1n<<Pw-2n,X0=8n,Bw=256,c0=12,Ov=Math.PI*2,RT=[3,7,31,12,19,5,11,13,17,23,29,31],Hw=["dub","kubt","k'anch","dub","kubt","k'anch"];function zv(n,t,e){n=(n%e+e)%e;let i=1n;for(;t>0n;)t&1n&&(i=i*n%e),n=n*n%e,t>>=1n;return i}function Lv(n,t){const e=n*n,i=t*t;return(e-i)/(e+i)}function OT(n){const t=Pn.indexOf(n);if(t===-1)return Lv(n,n-2);const e=n,i=t>0?Pn[t-1]:2;return Lv(e,i)}function zT(n){return n==="dub"?3:n==="kubt"?5:n==="k'anch"||n==="k'anchay"?7:typeof n=="number"?Math.pow(3,n)%3:3}function LT(n){const e=n/432;return{phase:Math.log(e)/Math.log(2)*(Math.PI/2),magnitude:Math.sqrt(e)}}function PT(n,t){return Array.isArray(t)?t[n%t.length]:t}function BT(n,t,e,i,r=31){return QT(n,n,e,i,typeof t=="number"?t:r,r)}function HT(n,t,e,i){const r=i.slice(0,3).reduce((g,m)=>g*m,1),l=Math.log(r)/Math.log(3),c=t/100,u=Math.pow(3,c),h=1+l/1e3;return n*u*h}function Pv(n,t){const e=Math.pow(10,t);return Math.floor(n*e)/e}function VT({lastPrice:n,depthPrime:t,omegaHz:e=432,triad:i=[2,5,7],decimals:r=8,lambdaSchedule:l=Hw,omegaSchedule:c=null,N:u=120}){const h=OT(t),g=i.slice(0,3).reduce((v,k)=>v*k,1),m=Math.log(g)/Math.log(3);let b=1+.01*m+.001*(t%7);const y=[];for(let v=0;v<u;v++){const k=l[v%l.length],S=PT(v,c||e),_=BT(v,h,k,S,t);b=HT(b,_,S,i);let M=0;for(let q=0;q<c0;q++){const F=v*(Ov/c0)+q*Ov/c0,Q=RT[q]%360*(Math.PI/180),nt=zT(k)%3*(Math.PI/360),{phase:P}=LT(S),K=Math.floor(q/3)%2===0?1:-1,ot=(v+q)%2===0?1:-1,ut=F+Q+nt+.5*P,L=Math.cos(ut),X=Math.tanh(b/1e5),at=L*K*ot*h*(1+.5*X);M+=at}const E=Math.log(t)/Math.log(2),A=Math.max(1,m),U=Pv(M*E*.5*A,r),R=Pv(n+U,r);y.push({x:v,y:R})}return y}function UT(n,t){Vw(t,!1);const[e,i,r]=t,c=zv(BigInt(i),BigInt(r),Rv)+Rv;return zv(BigInt(n),c,AT)}function FT(n){const t=n>>X0;return Number(t)/Number(1n<<64n)*2-1}function Su(n){const t=n-1;let e=0;for(let i=0;i<cr.length;i++){const r=t*(Math.PI*2/12)*cr[i];e+=Math.cos(r)}return e/cr.length}function u0(n){return Math.trunc(n*Bw)}function YT(n){return n/Bw}const IT=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571];function qT(n,t,e){if(!Vg(n))throw new Error(`Depth must be a prime number, got: ${n}. Prime exponentiation towers require prime-based depth.`);const i=e.indexOf(n);if(i===-1)throw new Error(`Depth prime ${n} not found in PRIMES_500. Prime exponentiation towers must use primes from the hardcoded list.`);const r=[],l=Math.floor(t/2);for(let c=-l;c<=l&&!(r.length>=t);c++){const u=Math.max(0,Math.min(e.length-3,i+c)),h=[e[u],e[u+1],e[u+2]];try{Vw(h,!1),r.push(h)}catch(g){throw console.error(`Invalid triadic set generated: ${JSON.stringify(h)}`,g),new Error(`Failed to generate valid triadic set: ${g.message}`)}}return r}function Vg(n){if(n<2)return!1;if(n===2)return!0;if(n%2===0)return!1;for(let t=3;t*t<=n;t+=2)if(n%t===0)return!1;return!0}const Bv=[12,15];function Vw(n,t=!1){if(!Array.isArray(n)||n.length!==3)throw new Error(`Triadic set must be array of exactly 3 elements, got: ${JSON.stringify(n)}`);for(const e of n){if(!Number.isInteger(e)||e<2)throw new Error(`Triadic set values must be integers >= 2, got: ${JSON.stringify(n)}`);if(!Vg(e)&&!(t&&Bv.includes(e)))throw new Error(`Triadic set contains non-prime value ${e} which is not an explicitly allowed coprime. Triadic sets for prime exponentiation towers must contain primes. Allowed coprimes (if explicitly chosen): ${Bv.join(", ")}. Got: ${JSON.stringify(n)}`)}return!0}function WT(n){if(n<0||n>=cr.length)return 0;let t=0;for(let e=0;e<=n;e++)Vg(cr[e])&&t++;return t}function $T(n,t){if(!t||t.length===0)return 1;const e=t.reduce((l,c)=>l+c,0)/t.length,i=t.reduce((l,c)=>l+Math.pow(c-e,2),0)/t.length,r=Math.log2(Math.max(1,i))+1;return Math.max(1,r*(n+1)/12)}function GT(n,t,e){const i=WT(t),r=$T(t,e);return Math.log2(Math.max(1,i)/Math.max(1,r))}function XT(n){return n==="dub"?3:n==="kubt"?5:n==="k'anch"||n==="k'anchay"?7:typeof n=="number"?Math.pow(3,n)%3:3}function QT(n,t,e,i,r,l=31){const c=(1+Math.sqrt(5))/2,u=Math.PI,h=t*u*c,g=n*2*u/12,m=XT(e),b=m>0?m:1,y=Math.log(b)/Math.log(3),k=(i||144e3)/432;let S=0;if(r&&typeof r=="object"&&r.p&&r.q)S=r.p*r.p-r.q*r.q;else if(typeof r=="number"){const _=Pn.indexOf(r),M=r,E=_>0?Pn[_-1]:2;S=M*M-E*E}else{const _=l||31,M=Pn.indexOf(_),E=_,A=M>0?Pn[M-1]:2;S=E*E-A*A}return h+g+y+k+S}function ZT(n,t){if(t<0||t>=cr.length)return 0;const e=cr[t],i=(n-1)*2*Math.PI/12/Math.log(3),r=Math.pow(3,i),l=(n-1)*2*Math.PI/12*e;return r*Math.cos(l)}function KT(n,t,e,i,r=.01,l=31,c=432,u=!0,h=!1){if(n.length<2)return{lines:[]};const g=n[n.length-1],m=[];for(let b=0;b<i.length;b++){const y=i[b],v=UT(e,y),k=FT(v),S=h?c+b*96:c,_=8;try{const E=VT({lastPrice:g,depthPrime:l,omegaHz:S,triad:y,decimals:_,lambdaSchedule:u?Hw:["dub"],omegaSchedule:h?[432,528,432,528]:null,N:t}).map(q=>q.y),A=E.map(u0);let U=0,R=0;for(let q=1;q<E.length;q++){const F=Su(q),Q=Su(q-1);if((F>0&&Q<=0||F<0&&Q>=0)&&U++,q>1&&q<E.length-1){const V=E[q-1],nt=E[q],P=E[q+1];(nt>V&&nt>P||nt<V&&nt<P)&&R++}}m.push({triad:y,base:e,aQ8:(v>>X0).toString(),pointsQ8:A,points:E,zeroCrossings:U,turningPoints:R,omega:S,depthPrime:l})}catch(M){console.error(`Failed to compute crystalline projection for triad ${y}:`,M);let E=g;const A=[];let U=0,R=0;for(let q=1;q<=t;q++){const F=Su(q),Q=r*k*F;E=E*(1+Q);const V=u0(E);if(A.push(V),q>1){const nt=Su(q-1);(F>0&&nt<=0||F<0&&nt>=0)&&U++}}m.push({triad:y,base:e,aQ8:(v>>X0).toString(),pointsQ8:A,points:A.map(YT),zeroCrossings:U,turningPoints:R})}}return{symbol:null,lastPriceQ8:u0(g),beta:r,horizon:t,lines:m}}function h0(n,t){if(n.length<2)return Array(t).fill(n[n.length-1]||0);const e=n.slice(-30),i=e.length;let r=0,l=0,c=0,u=0;e.forEach((b,y)=>{const v=y,k=b;r+=v,l+=k,c+=v*k,u+=v*v});const h=(i*c-r*l)/(i*u-r*r),g=(l-h*r)/i,m=[];for(let b=1;b<=t;b++){const y=g+h*(i+b-1);m.push(Math.max(0,y))}return m}function JT(n){try{const t=`stabilizedModel_${n.toUpperCase()}`,e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){console.error("Error loading stabilized model:",t)}return null}function Hv(n,t=.9){const e=[210,0,40,90,140,260,300,20,170,200,280,320,45];return`hsla(${e[n%e.length]}, 85%, 60%, ${t})`}function tD(){const n=js(),[t,e]=N.useState(""),[i,r]=N.useState("1D"),[l,c]=N.useState(null),[u,h]=N.useState(!1),[g,m]=N.useState(null),[b,y]=N.useState(null),[v,k]=N.useState(null),[S,_]=N.useState(20),[M,E]=N.useState(48),[A,U]=N.useState([]),[R,q]=N.useState(!1),[F,Q]=N.useState("primetetration"),[V,nt]=N.useState(null),[P,Y]=N.useState(!1),[K,ot]=N.useState(null),[ut,L]=N.useState(!1),[X,at]=N.useState(!1),[yt,bt]=N.useState(4),[z,B]=N.useState(Pn[4]||31),[tt,ct]=N.useState(3),[xt,pt]=N.useState(12),[gt,kt]=N.useState(null),[vt,mt]=N.useState(.01),[Xt,Yt]=N.useState(432),[oe,Lt]=N.useState(!1),[ht,Ct]=N.useState(!0),[ae,Pt]=N.useState(!1),[je,be]=N.useState(!1),[$t,hn]=N.useState(!1),[Jt,Ot]=N.useState(null),Ve=N.useRef(null),Kn=N.useRef(null),nn=N.useRef(null),Me=N.useRef(null),dn=N.useRef(null),Sn=N.useRef(null),Ue=N.useRef({responsive:!0,maintainAspectRatio:!1,animation:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(W){return W.parsed.y!==null&&W.parsed.y!==void 0?`${W.dataset.label}: $${W.parsed.y.toFixed(2)}`:""}}},zoom:{zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy",modifierKey:null,threshold:10},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{maxTicksLimit:20,font:{size:11},autoSkip:!0}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(W){return W!=null&&!isNaN(W)?"$"+W.toFixed(2):""},font:{size:11}},min:void 0,max:void 0}}}),Ae=N.useCallback(async()=>{if(!t||!t.trim()){m("Please enter a stock symbol");return}const W=l;h(!0),m(null);try{const Ut=new Promise((dt,Mt)=>setTimeout(()=>Mt(new Error("Request timeout. Please try again.")),2e4)),wt=$u(t.toUpperCase().trim(),i),zt=await Promise.race([wt,Ut]);if(!zt)throw new Error("No data received from API");if(!zt.data||!Array.isArray(zt.data))throw new Error("Invalid data format: data.data is not an array");if(zt.data.length===0)throw new Error("No chart data available for this symbol");const Gt=zt.data.filter(dt=>{if(!dt||!dt.timestamp)return!1;const Mt=dt.close;return Mt!=null&&!isNaN(Mt)&&Mt>0});if(Gt.length===0)throw new Error("No valid price data available. All data points are invalid.");Gt.sort((dt,Mt)=>dt.timestamp-Mt.timestamp);const he=Gt.map(dt=>Number(dt.close));nn.current=he;const Le=Gt.map(dt=>{try{const Mt=new Date(dt.timestamp);return isNaN(Mt.getTime())?"":i==="1H"?Mt.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/New_York"}):Mt.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"America/New_York"})}catch{return""}}).filter(dt=>dt!==""),Ye=JT(t.toUpperCase().trim());let Bt=[],Rn=Ye,At=S;F==="primetetration"&&M&&(i==="1H"?At=M:i==="1D"||i==="1d"?At=Math.ceil(M/24):At=S),At=Math.max(1,Math.min(1e3,At||S||20));const ye=he[he.length-1];if(F==="primetetration")try{const dt=Pn[yt]||31,Mt=qT(dt,xt,IT),_t=KT(he,At,tt,Mt,vt,dt,Xt,ht,oe);if(_t.symbol=t.toUpperCase().trim(),kt(_t),_t.lines&&_t.lines.length>0&&_t.lines[0].points){if(Bt=_t.lines[0].points,Bt.length!==At)if(console.warn(`Projected prices length (${Bt.length}) doesn't match stepsToUse (${At})`),Bt.length<At){const ne=Bt[Bt.length-1]||ye;for(;Bt.length<At;)Bt.push(ne)}else Bt=Bt.slice(0,At)}else Bt=h0(he,At)}catch(dt){console.error("Prime Tetration projection failed, falling back to simple:",dt),Bt=h0(he,At),kt(null)}else Bt=h0(he,At);if(F!=="primetetration"&&kt(null),!Array.isArray(Bt)||Bt.length===0)Bt=Array(At).fill(ye);else if(Bt.length!==At)if(console.warn(`Final projectedPrices length (${Bt.length}) doesn't match stepsToUse (${At}), adjusting...`),Bt.length<At){const dt=Bt[Bt.length-1]||ye;for(;Bt.length<At;)Bt.push(dt)}else Bt=Bt.slice(0,At);const Nn=Array.from({length:12},(dt,Mt)=>GT(he.length,Mt,he)).reduce((dt,Mt)=>dt+Mt,0)/12,On=Array.from({length:12},(dt,Mt)=>Math.abs(ZT(he.length,Mt))).reduce((dt,Mt)=>dt+Mt,0)/12;nt(F==="primetetration"&&gt?{depthPrime:Pn[yt]||31,base:tt,projectionCount:xt,beta:vt,horizon:At,phi:cr,lines:gt.lines?gt.lines.length:0}:null);const _n=[];for(let dt=1;dt<=At;dt++)_n.push(`Step ${dt}`);const rn=Array.isArray(Le)?Le:[],an=Array.isArray(_n)?_n:[],Ht=Array.isArray(he)?he:[],ve=Array.isArray(Bt)?Bt:[];if(rn.length!==Ht.length){console.warn("Historical labels and prices length mismatch:",rn.length,Ht.length);const dt=Math.min(rn.length,Ht.length);rn.splice(dt),Ht.splice(dt)}if(an.length!==ve.length){console.warn("Projected labels and prices length mismatch:",an.length,ve.length);const dt=Math.min(an.length,ve.length);an.splice(dt),ve.splice(dt)}const le=[...rn,...an],ge=[...Ht,...ve];if(le.length!==ge.length){console.warn("Labels and prices length mismatch:",le.length,ge.length);const dt=Math.min(le.length,ge.length);le.splice(dt),ge.splice(dt)}const Jn=Ht[0]||0,ts=ve.length>0?ve[ve.length-1]:ye,Cs=ye-Jn,Ei=Jn!==0?Cs/Jn*100:0,Ti=ts-ye;let jn=0;ye!==0&&ye>0&&(jn=Ti/ye*100,jn=Math.max(-1e3,Math.min(1e3,jn)));const Vi=Math.max(0,ts);if(ve.length>0&&Ht.length>0){const dt=Ht[Ht.length-1],Mt=ve[0];Math.abs(Mt-dt)/dt>.02&&(ve[0]=dt+(Mt-dt)*.3,ge[Ht.length]=ve[0])}const Pe=le.map((dt,Mt)=>{if(Mt<Ht.length){const _t=ge[Mt];return _t!=null&&!isNaN(_t)&&_t>0?Number(_t):null}if(Mt===Ht.length&&Ht.length>0){const _t=Ht[Ht.length-1],ne=ge[Mt];return ne!=null&&!isNaN(ne)&&ne>0?_t*.8+Number(ne)*.2:_t}return null}),Re=le.map((dt,Mt)=>{if(Mt<Ht.length)return null;if(Mt===Ht.length&&Ht.length>0){const _t=Ht[Ht.length-1],ne=ge[Mt];return ne!=null&&!isNaN(ne)&&ne>0?_t*.8+Number(ne)*.2:_t}if(Mt<ge.length){const _t=ge[Mt];return _t!=null&&!isNaN(_t)&&_t>0?Number(_t):null}return null}),Ui=Pe.some(dt=>dt!=null),Hn=Re.some(dt=>dt!=null);if(!Ui&&!Hn)throw new Error("No valid chart data available. All data points are null or invalid.");const It=Ht.length,Di=Pe[It]||Re[It];console.log("Chart Data Debug:",{labelsLength:le.length,pricesLength:ge.length,historicalLength:Ht.length,projectedLength:ve.length,historicalDataPoints:Pe.filter(dt=>dt!=null).length,projectedDataPoints:Re.filter(dt=>dt!=null).length,firstHistorical:Pe[0],lastHistorical:Pe[Ht.length-1],connectionIndex:It,connectionPrice:Di,firstProjected:Re[It],secondProjected:Re[It+1],lastProjected:Re[Re.length-1],hasHistoricalData:Ui,hasProjectedData:Hn,sampleHistorical:Pe.slice(Math.max(0,Ht.length-5),Ht.length+1),sampleProjected:Re.slice(It,It+5),projectedOscillations:Re.slice(It,It+10).filter(dt=>dt!==null).map((dt,Mt,_t)=>Mt===0?0:_t[Mt]-_t[Mt-1])});const ti=Pe.filter(dt=>dt!=null&&!isNaN(dt)).length,ln=Re.filter(dt=>dt!=null&&!isNaN(dt)).length;if(ti===0&&ln===0)throw new Error("No valid data points available for chart. All values are null or invalid.");for(;Pe.length<le.length;)Pe.push(null);for(;Re.length<le.length;)Re.push(null);const Mn=[{label:`${t.toUpperCase()} Historical`,data:Pe.slice(0,le.length),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!1,pointRadius:2,pointHoverRadius:6,borderWidth:2,spanGaps:!1,showLine:!0,stepped:!1}];F==="primetetration"&&gt&&gt.lines&&gt.lines.length>0?gt.lines.forEach((dt,Mt)=>{let _t=dt.points||[];if(_t.length!==At)if(console.warn(`Line ${Mt} points length (${_t.length}) doesn't match stepsToUse (${At})`),_t.length<At){const Ie=_t[_t.length-1]||ye;for(;_t.length<At;)_t.push(Ie)}else _t=_t.slice(0,At);const ne=le.map((Ie,es)=>{if(es<Ht.length)return null;const Fi=es-Ht.length;if(Fi>=0&&Fi<_t.length){if(Fi===0&&Ht.length>0)return Ht[Ht.length-1]*.8+_t[0]*.2;const ei=_t[Fi];return ei!=null&&!isNaN(ei)&&ei>0?Number(ei):null}return null});Mn.push({label:`Triad [${dt.triad.join("-")}]`,data:ne,borderColor:Hv(Mt,.9),backgroundColor:Hv(Mt,.18),fill:!1,borderWidth:2,pointRadius:0,tension:.4,spanGaps:!1,showLine:!0,stepped:!1})}):Mn.push({label:`${t.toUpperCase()} Projected (Prime Tetration)`,data:Re.slice(0,le.length),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",borderDash:[5,5],tension:.4,fill:!1,pointRadius:2,pointHoverRadius:6,borderWidth:2,spanGaps:!1,showLine:!0,stepped:!1});const Oe={labels:le,datasets:Mn,currentPrice:zt.currentPrice||ye,change:Cs,changePercent:Ei,projectedPrice:Vi,projectedChange:Ti,projectedChangePercent:jn};console.log("Final Chart Data:",{labelsCount:Oe.labels.length,datasetsCount:Oe.datasets.length,historicalDataCount:Oe.datasets[0].data.length,projectedDataCount:Oe.datasets[1].data.length,historicalValid:Oe.datasets[0].data.filter(dt=>dt!==null).length,projectedValid:Oe.datasets[1].data.filter(dt=>dt!==null).length,firstFewHistorical:Oe.datasets[0].data.slice(0,5),firstFewProjected:Oe.datasets[1].data.slice(Ht.length,Ht.length+5)});const Cn=[...Pe,...Re].filter(dt=>dt!=null&&!isNaN(dt)&&typeof dt=="number"&&dt>0);if(Cn.length>0){const dt=Math.min(...Cn),Mt=Math.max(...Cn),_t=Mt-dt,ne=Math.max(_t*.05,dt*.01);dn.current=Math.max(0,dt-ne),Sn.current=Mt+ne,Ue.current.scales.y.min=dn.current,Ue.current.scales.y.max=Sn.current}Kn.current=Oe,c(Oe),k(i),y(new Date);const Es=`${t.toUpperCase()}-${i}`;U(dt=>{const Mt=dt.filter(ne=>ne!==Es),_t=[Es,...Mt].slice(0,5);return localStorage.setItem("projectionRecentSearches",JSON.stringify(_t)),_t})}catch(Ut){const wt=Ut.message||"Failed to load chart data. Please check the symbol and try again.";m(wt),W||c(null)}finally{h(!1)}},[t,i,S,F,yt,tt,xt,vt]);N.useEffect(()=>{if(n.state?.loadProjection){const W=n.state.loadProjection;if(hn(!0),Ot(W.id||null),e(W.symbol||""),r(W.interval||"1D"),Q(W.projectionModel||"primetetration"),_(W.projectionSteps||20),E(W.projectionHours||48),W.projectionModel==="primetetration"){ct(W.base||3),pt(W.projectionCount||12);const Ut=W.primeDepthIndex!==void 0?W.primeDepthIndex:4;bt(Ut),B(Pn[Ut]||31),Yt(W.omegaHz||432),Ct(W.useLambdaSchedule!==void 0?W.useLambdaSchedule:!0),Lt(W.useOmegaSchedule||!1)}if(W.chartData&&(W.chartData.historicalPrices&&Array.isArray(W.chartData.historicalPrices)&&(nn.current=W.chartData.historicalPrices),W.chartData.labels&&W.chartData.datasets)){const Ut={labels:W.chartData.labels||[],datasets:(W.chartData.datasets||[]).map(zt=>({...zt,data:Array.isArray(zt.data)?zt.data.map(Gt=>Gt!=null?Number(Gt):null):[]})),currentPrice:W.chartData.currentPrice!==void 0?Number(W.chartData.currentPrice):null,change:W.chartData.change!==void 0?Number(W.chartData.change):null,changePercent:W.chartData.changePercent!==void 0?Number(W.chartData.changePercent):null,projectedPrice:W.chartData.projectedPrice!==void 0?Number(W.chartData.projectedPrice):null,projectedChange:W.chartData.projectedChange!==void 0?Number(W.chartData.projectedChange):null,projectedChangePercent:W.chartData.projectedChangePercent!==void 0?Number(W.chartData.projectedChangePercent):null},wt=Ut.datasets.flatMap(zt=>(zt.data||[]).filter(Gt=>Gt!=null&&!isNaN(Gt)&&typeof Gt=="number"&&Gt>0));if(wt.length>0){const zt=Math.min(...wt),Gt=Math.max(...wt),he=Gt-zt,Le=Math.max(he*.05,zt*.01);dn.current=Math.max(0,zt-Le),Sn.current=Gt+Le,Ue.current.scales.y.min=dn.current,Ue.current.scales.y.max=Sn.current}c(Ut),Kn.current=Ut}W.snapshotData&&W.projectionModel==="primetetration"&&kt(W.snapshotData),window.history.replaceState({},document.title),setTimeout(()=>{hn(!1)},5e3)}},[n.state]),N.useEffect(()=>{const W=localStorage.getItem("projectionRecentSearches");if(W)try{U(JSON.parse(W))}catch{}},[]);const di=()=>{t?.trim()?(q(!1),Ae()):m("Please enter a stock symbol")},sn=()=>{t&&t.trim()&&Ae()},kn=()=>{if(!t||!t.trim()){m("Please enter a stock symbol first");return}if(!l&&!gt){m("No projection data to save. Please load chart data first.");return}Pt(!0),be(!1);try{const W={symbol:t.toUpperCase().trim(),projectionModel:F,interval:i,projectionSteps:S,projectionHours:M,base:tt,projectionCount:xt,primeDepth:Pn[yt]||31,primeDepthIndex:yt,omegaHz:Xt,useLambdaSchedule:ht,useOmegaSchedule:oe,beta:vt,snapshotData:gt?JSON.parse(JSON.stringify(gt)):null,chartData:l?JSON.parse(JSON.stringify({labels:l.labels||[],datasets:l.datasets?l.datasets.map(wt=>({label:wt.label||"",data:Array.isArray(wt.data)?wt.data.map(zt=>zt!=null?Number(zt):null):[],borderColor:wt.borderColor||"rgb(59, 130, 246)",backgroundColor:wt.backgroundColor||"rgba(59, 130, 246, 0.1)",borderWidth:wt.borderWidth||2,borderDash:wt.borderDash||void 0,tension:wt.tension!==void 0?wt.tension:.4,fill:wt.fill!==void 0?wt.fill:!1,pointRadius:wt.pointRadius!==void 0?wt.pointRadius:2,pointHoverRadius:wt.pointHoverRadius!==void 0?wt.pointHoverRadius:6,spanGaps:wt.spanGaps!==void 0?wt.spanGaps:!1,showLine:wt.showLine!==void 0?wt.showLine:!0,stepped:wt.stepped!==void 0?wt.stepped:!1})):[],currentPrice:l.currentPrice!==void 0?Number(l.currentPrice):null,change:l.change!==void 0?Number(l.change):null,changePercent:l.changePercent!==void 0?Number(l.changePercent):null,projectedPrice:l.projectedPrice!==void 0?Number(l.projectedPrice):null,projectedChange:l.projectedChange!==void 0?Number(l.projectedChange):null,projectedChangePercent:l.projectedChangePercent!==void 0?Number(l.projectedChangePercent):null,historicalPrices:nn.current?nn.current.map(wt=>Number(wt)):[]})):null,savedAt:new Date().toISOString()};TT(W),be(!0),setTimeout(()=>be(!1),3e3)}catch(W){console.error("Error saving projection:",W),m("Failed to save projection: "+W.message)}finally{Pt(!1)}},Fe=W=>{W!==i&&(r(W),t&&t.trim()&&l&&setTimeout(()=>{Ae()},100))},pr=W=>{const[Ut,wt]=W.split("-");e(Ut),r(wt),q(!1),setTimeout(()=>{Ae()},100)},Ci=W=>{W.key==="Enter"&&di()},xr=()=>{if(Me.current){let W=null;Me.current.chartInstance?W=Me.current.chartInstance:Me.current.chart?W=Me.current.chart:Me.current&&(W=Me.current),W&&(typeof W.resetZoom=="function"&&W.resetZoom(),dn.current!==null&&Sn.current!==null&&(W.scales&&W.scales.y?(W.scales.y.options.min=dn.current,W.scales.y.options.max=Sn.current,W.update("none")):W.options&&W.options.scales&&W.options.scales.y&&(W.options.scales.y.min=dn.current,W.options.scales.y.max=Sn.current,W.update("none"))))}};return N.useEffect(()=>()=>{},[]),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Price Projection"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Prime Tetration Projections"})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Stock Symbol"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:Ve,type:"text",id:"symbol",value:t,onChange:W=>{const Ut=W.target.value.toUpperCase();e(Ut),q(Ut.length===0&&A.length>0)},onKeyDown:Ci,onFocus:()=>{A.length>0&&!t&&q(!0)},onBlur:()=>{setTimeout(()=>q(!1),200)},placeholder:"Enter symbol (e.g., AAPL, TSLA, MSFT)",className:"w-full px-4 py-3 pr-10 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all"}),t&&f.jsx("button",{type:"button",onClick:()=>{e(""),q(!1),Ve.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),R&&A.length>0&&!u&&f.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto",style:{zIndex:10},children:[f.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-600",children:"Recent Searches"}),A.map(W=>{const[Ut,wt]=W.split("-");return f.jsxs("button",{type:"button",onClick:()=>pr(W),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center justify-between transition-colors",children:[f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Ut}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:wt})]},W)})]})]})]}),f.jsxs("div",{className:"w-full lg:w-auto",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Interval"}),f.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[f.jsx("button",{type:"button",onClick:()=>Fe("1D"),className:`px-6 py-2 rounded-md font-medium transition-all ${i==="1D"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Day"}),f.jsx("button",{type:"button",onClick:()=>Fe("1H"),className:`px-6 py-2 rounded-md font-medium transition-all ${i==="1H"?"bg-blue-600 text-white shadow-md":"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"1 Hour"})]})]}),f.jsxs("div",{className:"w-full lg:w-auto",children:[f.jsx("label",{htmlFor:"projectionSteps",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Projection Steps"}),f.jsxs("select",{id:"projectionSteps",value:S,onChange:W=>{const Ut=parseInt(W.target.value);_(Ut),l&&setTimeout(()=>Ae(),100)},className:"w-full lg:w-32 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-all",children:[f.jsx("option",{value:10,children:"10 Steps"}),f.jsx("option",{value:20,children:"20 Steps"}),f.jsx("option",{value:40,children:"40 Steps"}),f.jsx("option",{value:60,children:"60 Steps"})]})]}),f.jsx("div",{className:"w-full lg:w-auto",children:f.jsx("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),di()},disabled:u||!t||!t.trim(),className:"w-full lg:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:opacity-50 shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 relative z-0",children:u?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Loading..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),f.jsx("span",{children:"Search"})]})})})]}),f.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Projection Model Configuration"]}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Configure your projection parameters"})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Projection Model"}),f.jsx("div",{className:"w-full px-4 py-3 border-2 border-purple-500 dark:border-purple-400 rounded-lg bg-purple-50 dark:bg-purple-900/20 transition-all text-sm font-medium",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-semibold",children:"Prime Tetration Projections"})]})})]}),F==="primetetration"&&f.jsx(f.Fragment,{children:f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[f.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Core Parameters"]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("h5",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Seed, Frequency & Schedules"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Base (seed)"}),f.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:tt===3,onChange:()=>{ct(tt===3?2:3),l&&setTimeout(()=>Ae(),100)},className:"sr-only peer"}),f.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}),f.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:tt===3?"3 (preferred)":"2 (Enigma-style)"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:" (Omega Hz)"}),f.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:Xt===528,onChange:()=>{Yt(Xt===432?528:432),l&&setTimeout(()=>Ae(),100)},className:"sr-only peer"}),f.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),f.jsxs("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:[Xt," Hz"]})]})]})]}),f.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex flex-wrap gap-6",children:[f.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[f.jsx("input",{type:"checkbox",checked:ht,onChange:W=>{Ct(W.target.checked),l&&setTimeout(()=>Ae(),100)},className:"sr-only peer"}),f.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}),f.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:"Use  Schedule (dub, kubt, k'anch)"})]}),f.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[f.jsx("input",{type:"checkbox",checked:oe,onChange:W=>{Lt(W.target.checked),l&&setTimeout(()=>Ae(),100)},className:"sr-only peer"}),f.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),f.jsx("span",{className:"ms-3 text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Use  Schedule (vary frequencies)"})]})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"projectionCount",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Projections Count"}),f.jsx("input",{type:"number",id:"projectionCount",min:"1",max:"50",step:"1",value:xt,onChange:W=>{const Ut=W.target.value;if(Ut==="")return;const wt=parseInt(Ut,10);!isNaN(wt)&&wt>=1&&wt<=50&&(pt(wt),l&&setTimeout(()=>Ae(),100))},onBlur:W=>{const Ut=W.target.value;if(Ut===""||isNaN(parseInt(Ut,10)))pt(12),l&&setTimeout(()=>Ae(),100);else{const wt=parseInt(Ut,10);wt<1?(pt(1),l&&setTimeout(()=>Ae(),100)):wt>50&&(pt(50),l&&setTimeout(()=>Ae(),100))}},className:"w-full px-4 py-2.5 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white transition-all text-sm font-medium bg-white",placeholder:"Enter number (1-50)"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Range: 1-50 projections"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Prime Depth"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Pn.map(W=>{const Ut=Pn[yt]===W;return f.jsx("button",{type:"button",onClick:()=>{const wt=Pn.indexOf(W);bt(wt),B(W),l&&setTimeout(()=>Ae(),100)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Ut?"bg-purple-600 text-white shadow-md ring-2 ring-purple-400 dark:ring-purple-500":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500 hover:text-purple-600 dark:hover:text-purple-400"}`,children:W},W)})}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Selected: ",Pn[yt]||31]})]})]})]})}),f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 flex items-center justify-between",children:[f.jsx("div",{children:f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:je?f.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Projection saved successfully!"]}):"Save this projection configuration to view it later on the Data page"})}),f.jsx("button",{onClick:kn,disabled:ae||!t||!t.trim()||!l&&!gt,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white text-sm font-semibold rounded-lg hover:from-green-700 hover:to-green-800 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed disabled:opacity-50 shadow-md hover:shadow-lg transition-all flex items-center gap-2",title:!t||!t.trim()?"Enter a stock symbol first":!l&&!gt?"Load chart data first":"Save projection to Data page",children:ae?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Saving..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),f.jsx("span",{children:"Save Projection"})]})})]})]})]}),$t&&f.jsx("div",{className:"mt-4 bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Projection loaded successfully! You can now edit the parameters and save changes."}),f.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:'All saved data has been restored. Modify any settings and click "Save Projection" to update.'})]}),f.jsx("button",{onClick:()=>hn(!1),className:"ml-2 text-green-500 hover:text-green-700 dark:hover:text-green-300",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),g&&f.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:g}),f.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:"Please check the symbol and try again"})]})]})}),l&&f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Price Metrics"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-5 border border-blue-200 dark:border-blue-800 shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Current Price"}),f.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),f.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:l?.currentPrice!==void 0&&l.currentPrice!==null?`$${l.currentPrice.toFixed(2)}`:f.jsx("span",{className:"text-gray-400",children:"N/A"})})]}),f.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.change>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Historical Change"}),l&&f.jsx("svg",{className:`w-4 h-4 ${l.change>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.change>=0?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),f.jsx("p",{className:`text-xl font-bold ${l.change>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.change!==void 0&&l.change!==null?`${l.change>=0?"+":""}$${Math.abs(l.change).toFixed(2)}`:f.jsx("span",{className:"text-gray-400",children:"--"})}),l?.changePercent!==void 0&&l.changePercent!==null&&f.jsxs("p",{className:`text-xs mt-1 ${l.changePercent>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[l.changePercent>=0?"+":"",l.changePercent.toFixed(2),"%"]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-5 border border-purple-200 dark:border-purple-800 shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:"Projected Price"}),f.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),f.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:l?.projectedPrice!==void 0&&l.projectedPrice!==null&&l.projectedPrice>0?(()=>{const W=l.projectedPrice;return W>=1e3?`$${W.toFixed(2)}`:W>=1?`$${W.toFixed(2)}`:`$${W.toFixed(4)}`})():f.jsx("span",{className:"text-gray-400",children:"N/A"})})]}),f.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.projectedChange>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Projected Change"}),l&&f.jsx("svg",{className:`w-4 h-4 ${l.projectedChange>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.projectedChange>=0?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),f.jsx("p",{className:`text-xl font-bold ${l.projectedChange>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.projectedChange!==void 0&&l.projectedChange!==null?(()=>{const W=l.projectedChange;return Math.abs(W)>=1e3?`${W>=0?"+":""}$${Math.abs(W).toFixed(2)}`:Math.abs(W)>=1?`${W>=0?"+":""}$${Math.abs(W).toFixed(2)}`:`${W>=0?"+":""}$${Math.abs(W).toFixed(4)}`})():f.jsx("span",{className:"text-gray-400",children:"--"})}),l?.projectedChangePercent!==void 0&&l.projectedChangePercent!==null&&f.jsx("p",{className:`text-xs mt-1 ${l.projectedChangePercent>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:(()=>{const W=l.projectedChangePercent;return Math.abs(W)>=1e3?`${W>=0?"+":""}${W.toFixed(0)}%`:Math.abs(W)>=100?`${W>=0?"+":""}${W.toFixed(1)}%`:`${W>=0?"+":""}${W.toFixed(2)}%`})()})]}),f.jsxs("div",{className:`rounded-xl p-5 border shadow-sm ${l&&l.projectedChangePercent>=0?"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800":"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Change %"}),l&&f.jsx("svg",{className:`w-4 h-4 ${l.projectedChangePercent>=0?"text-green-500":"text-red-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.projectedChangePercent>=0?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})]}),f.jsx("p",{className:`text-xl font-bold ${l.projectedChangePercent>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:l?.projectedChangePercent!==void 0&&l.projectedChangePercent!==null?(()=>{const W=l.projectedChangePercent;return Math.abs(W)>=1e3?`${W>=0?"+":""}${W.toFixed(0)}%`:Math.abs(W)>=100?`${W>=0?"+":""}${W.toFixed(1)}%`:`${W>=0?"+":""}${W.toFixed(2)}%`})():f.jsx("span",{className:"text-gray-400",children:"--"})}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Projected"})]})]})]}),V&&f.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:[f.jsxs("button",{type:"button",onClick:()=>at(!X),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),f.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Prime Tetration Parameters"})]}),f.jsx("svg",{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform duration-200 ${X?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),X&&f.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/30",children:f.jsx("div",{className:"flex flex-col gap-4",children:F==="primetetration"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Depth Prime:"}),f.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:V.depthPrime})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Base:"}),f.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:V.base})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Lines:"}),f.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:V.lines})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Beta:"}),f.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:V.beta})]})]}),V.phi&&Array.isArray(V.phi)&&f.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Full _d: [3,7,31,12,19,5,11,13,17,23,29,31]"}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+8 bits truncation active"})]})}),gt&&gt.lines&&gt.lines.length>0&&f.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Oscillation Stats:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:gt.lines.slice(0,6).map((W,Ut)=>f.jsxs("div",{className:"text-xs font-mono text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900/30 px-3 py-2 rounded flex flex-col gap-1",children:[f.jsxs("span",{className:"font-semibold",children:["L",Ut+1,"[",W.triad.join("-"),"]"]}),f.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["zc=",W.zeroCrossings,", tp=",W.turningPoints]})]},Ut))})]})})]}):null})})]}),(b||l)&&f.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{children:b?`Last updated: ${b.toLocaleString("en-US",{timeZone:"America/New_York"})}`:"Ready to load data"})]}),l&&f.jsxs("button",{type:"button",onClick:sn,disabled:u,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 disabled:text-gray-400 transition-colors",children:[f.jsx("svg",{className:`w-4 h-4 ${u?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Refresh"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Price Projection Chart"}),t&&v&&f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.toUpperCase()," - ",v," interval - ",S," step projection"]})]}),l&&f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Historical"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 border-2 border-dashed border-purple-500"}),f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Projected"})]})]}),f.jsxs("button",{type:"button",onClick:xr,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Reset zoom and pan",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Zoom"]})]})]}),f.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[f.jsxs("button",{type:"button",onClick:()=>Y(!P),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 hover:bg-gray-100 dark:hover:bg-gray-900/70 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"About Prime Tetration Projections"})]}),f.jsx("svg",{className:`w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform ${P?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),P&&f.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:f.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Prime Tetration Projections use the full crystalline 12-dimensional lattice with triadic prime exponentiation towers. Each projection line represents a different prime triad [p1,p2,p3] with amplitude A = base^(p2^p3) mod 2^72. The lattice oscillator Z(n) aggregates all 12 _d dimensions without dimension sweeping. All calculations use Q8 fixed-point truncation (+8 guard bits)."})})]})]}),f.jsx("div",{className:"h-[600px] relative",children:l&&Array.isArray(l.labels)&&l.labels.length>0&&Array.isArray(l.datasets)&&l.datasets.length>0&&l.datasets[0]&&Array.isArray(l.datasets[0].data)&&l.datasets[0].data.some(W=>W!=null)?f.jsxs(f.Fragment,{children:[u&&f.jsx("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-800/90 z-10 flex items-center justify-center backdrop-blur-sm",children:f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto"})})}),f.jsx(Ia,{ref:Me,data:{labels:Array.isArray(l.labels)?l.labels:[],datasets:Array.isArray(l.datasets)?l.datasets.map(W=>({...W,data:Array.isArray(W.data)?W.data:[]})):[]},options:{...Ue.current,responsive:!0,maintainAspectRatio:!1},redraw:!0},`chart-${t}-${i}-${S}-${l.labels?.length||0}`)]}):u?f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading chart data..."}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:"Please wait"})]})}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-2",children:"No chart data available"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Please try searching again or check the symbol"})]})})})]})]})}Ms.register(qo,Wo,Uo,mr,Yo,Io,Fo,zg,Lw);function eD(){const[n,t]=N.useState([]),[e,i]=N.useState(null),[r,l]=N.useState(!1),[c,u]=N.useState(!1),[h,g]=N.useState(null),[m,b]=N.useState(!0),y=rg(),v={responsive:!0,maintainAspectRatio:!1,animation:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"600"}}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(R){return R.parsed.y!==null&&R.parsed.y!==void 0?`${R.dataset.label}: $${R.parsed.y.toFixed(2)}`:""}}},zoom:{zoom:{wheel:{enabled:!0,speed:.1},pinch:{enabled:!0},mode:"xy"},pan:{enabled:!0,mode:"xy",modifierKey:null},limits:{x:{min:"original",max:"original"},y:{min:"original",max:"original"}}}},scales:{x:{display:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{maxTicksLimit:20,font:{size:11},autoSkip:!0}},y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(R){return R!=null&&!isNaN(R)?"$"+R.toFixed(2):""},font:{size:11}}}}};N.useEffect(()=>{k()},[]);const k=()=>{try{const R=Hg();t(R)}catch(R){console.error("Error loading projections:",R)}finally{b(!1)}},S=R=>{i(R),l(!0)},_=R=>{g(R),u(!0)},M=()=>{if(h)try{DT(h.id),k(),u(!1),g(null)}catch(R){console.error("Error deleting projection:",R),alert("Failed to delete projection")}},E=R=>{y("/projection",{state:{loadProjection:R}})},A=R=>R?new Date(R).toLocaleString("en-US",{timeZone:"America/New_York"}):"N/A",U=R=>({lattice:"12-Fold Lattice",primetetration:"Prime Tetration",montecarlo:"Monte Carlo"})[R]||R;return m?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[f.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),"Saved Projections"]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage and view your saved projection configurations"})]}),f.jsx("div",{className:"p-6",children:n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No projections saved"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Save projections from the Projection page to view them here."}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>y("/projection"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Go to Projection Page"})})]}):f.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:f.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[f.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Symbol"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Model"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Interval"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Parameters"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Saved At"}),f.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),f.jsx("tbody",{children:n.map(R=>f.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[f.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:R.symbol||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:U(R.projectionModel)}),f.jsx("td",{className:"px-6 py-4",children:R.interval||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[R.projectionModel==="primetetration"&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{children:["Base: ",R.base||3]}),f.jsxs("span",{children:["Depth: ",R.primeDepth||"N/A"]}),f.jsxs("span",{children:["Count: ",R.projectionCount||12]})]}),R.projectionSteps&&f.jsxs("span",{children:["Steps: ",R.projectionSteps]})]})}),f.jsx("td",{className:"px-6 py-4",children:A(R.savedAt)}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>S(R),className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"View"}),f.jsx("button",{onClick:()=>E(R),className:"font-medium text-green-600 dark:text-green-500 hover:underline",children:"Load"}),f.jsx("button",{onClick:()=>_(R),className:"font-medium text-red-600 dark:text-red-500 hover:underline",children:"Delete"})]})})]},R.id))})]})})})]}),r&&e&&f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>l(!1)}),f.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),f.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 max-h-[90vh] overflow-y-auto",children:f.jsx("div",{className:"sm:flex sm:items-start",children:f.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[f.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",id:"modal-title",children:["Projection Details: ",e.symbol]}),e.chartData&&e.chartData.labels&&Array.isArray(e.chartData.labels)&&e.chartData.datasets&&Array.isArray(e.chartData.datasets)&&e.chartData.datasets.length>0?f.jsxs("div",{className:"mb-6 bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Price Projection Chart"}),f.jsx("div",{className:"h-96 w-full",children:f.jsx(Ia,{data:{labels:e.chartData.labels||[],datasets:(e.chartData.datasets||[]).map(R=>({...R,data:Array.isArray(R.data)?R.data:[]}))},options:v})}),e.chartData.currentPrice&&f.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Current Price"}),f.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["$",e.chartData.currentPrice.toFixed(2)]})]}),e.chartData.change!==void 0&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Change"}),f.jsxs("p",{className:`text-sm font-bold ${e.chartData.change>=0?"text-green-600":"text-red-600"}`,children:[e.chartData.change>=0?"+":"","$",e.chartData.change.toFixed(2)]})]}),e.chartData.changePercent!==void 0&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Change %"}),f.jsxs("p",{className:`text-sm font-bold ${e.chartData.changePercent>=0?"text-green-600":"text-red-600"}`,children:[e.chartData.changePercent>=0?"+":"",e.chartData.changePercent.toFixed(2),"%"]})]}),e.chartData.projectedPrice&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:"Projected Price"}),f.jsxs("p",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:["$",e.chartData.projectedPrice.toFixed(2)]})]})]})]}):f.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),f.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Chart data not available for this projection. The chart may not have been saved with the projection."})]})}),f.jsx("div",{className:"mt-2 space-y-4",children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Model"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:U(e.projectionModel)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Interval"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.interval||"N/A"})]}),e.projectionModel==="primetetration"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Base (seed)"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.base||3})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Prime Depth"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.primeDepth||"N/A"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projections Count"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.projectionCount||12})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Omega Hz"}),f.jsxs("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[e.omegaHz||432," Hz"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lambda Schedule"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.useLambdaSchedule?"Enabled":"Disabled"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Omega Schedule"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.useOmegaSchedule?"Enabled":"Disabled"})]})]}),e.projectionSteps&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projection Steps"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:e.projectionSteps})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Saved At"}),f.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:A(e.savedAt)})]})]})})]})})}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[f.jsx("button",{type:"button",onClick:()=>E(e),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Load Projection"}),f.jsx("button",{type:"button",onClick:()=>l(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})]})]})]})}),c&&h&&f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>u(!1)}),f.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),f.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:f.jsxs("div",{className:"sm:flex sm:items-start",children:[f.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10",children:f.jsx("svg",{className:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[f.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Delete Projection"}),f.jsx("div",{className:"mt-2",children:f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Are you sure you want to delete the projection for"," ",f.jsx("span",{className:"font-medium",children:h.symbol}),"? This action cannot be undone."]})})]})]})}),f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[f.jsx("button",{type:"button",onClick:M,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Delete"}),f.jsx("button",{type:"button",onClick:()=>{u(!1),g(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}Ms.register(qo,Wo,Uo,mr,Yo,Io,Fo);function nD({monitorId:n}){const[t,e]=N.useState(null),[i,r]=N.useState(!0);N.useEffect(()=>{l();const c=setInterval(l,3e4);return()=>clearInterval(c)},[n]);const l=async()=>{try{const c=await q4(n,"response-time"),u=c.map(g=>{const m=g.time||g.timestamp;return new Date(m).toLocaleTimeString("en-US",{timeZone:"America/New_York"})}),h=c.map(g=>g.value||g.responseTime||0);e({labels:u,datasets:[{label:"Response Time (ms)",data:h,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]})}catch(c){console.error("Failed to load chart data:",c),r(!1)}finally{r(!1)}};return i||!t?f.jsx("div",{className:"h-48 flex items-center justify-center text-gray-500",children:"Loading chart..."}):f.jsx("div",{className:"h-48",children:f.jsx(Ia,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})})}function iD({monitor:n,onEdit:t,onDelete:e,onTogglePause:i}){const[r,l]=N.useState(!1),u=(()=>{if(n.paused)return{color:"gray",text:"Paused"};const m=n.responseTime||n.avgResponseTime||0;return!(n.status==="up"||n.isUp)||m===0?{color:"red",text:"Down"}:m<1e3?{color:"green",text:"Operational"}:m<5e3?{color:"yellow",text:"Degraded"}:{color:"red",text:"Down"}})(),h=u.color,g=u.text;return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-white mb-1",children:n.name}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:n.url})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("span",{className:`inline-flex items-center gap-x-1.5 py-1 px-2 rounded-full text-xs font-medium ${h==="green"?"bg-green-100 text-green-800":h==="yellow"?"bg-yellow-100 text-yellow-800":h==="red"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${h==="green"?"bg-green-600":h==="yellow"?"bg-yellow-600":h==="red"?"bg-red-600":"bg-gray-600"}`}),g]})})]}),n.price!==void 0?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Current Price"}),f.jsxs("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:["$",n.price.toFixed(2)]}),n.change!==void 0&&f.jsxs("p",{className:`text-xs font-semibold mt-1 ${n.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[n.change>=0?"+":"","$",n.change.toFixed(2)," (",n.changePercent>=0?"+":"",n.changePercent.toFixed(2),"%)"]})]}),n.volume&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Volume"}),f.jsx("p",{className:"text-xs font-medium text-gray-800 dark:text-gray-200",children:n.volume.toLocaleString()})]}),n.marketState&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Market Status"}),f.jsx("p",{className:"text-xs font-medium text-gray-800 dark:text-gray-200 capitalize",children:n.marketState==="REGULAR"?"Open":n.marketState.toLowerCase()})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Response Time"}),f.jsxs("p",{className:"text-base font-semibold text-gray-800 dark:text-white",children:[n.responseTime||n.avgResponseTime||0,"ms"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Uptime"}),f.jsxs("p",{className:"text-base font-semibold text-gray-800 dark:text-white",children:[n.uptime||n.uptimePercent||0,"%"]})]})]}),n.lastCheck&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Last Check"}),f.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:new Date(n.lastCheck).toLocaleString("en-US",{timeZone:"America/New_York"})})]})]}),n.lastCheck&&n.price===void 0&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Last Check"}),f.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:new Date(n.lastCheck).toLocaleString("en-US",{timeZone:"America/New_York"})})]}),r&&f.jsx("div",{className:"mb-4",children:f.jsx(nD,{monitorId:n.id})}),f.jsxs("div",{className:"flex gap-2 flex-wrap",children:[f.jsx("button",{type:"button",onClick:()=>l(!r),className:"flex-1 min-w-[100px] py-1.5 px-2 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:r?"Hide Chart":"Show Chart"}),f.jsx("button",{type:"button",onClick:()=>i(n.id),className:"py-1.5 px-2 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:n.paused?"Resume":"Pause"}),f.jsx("button",{type:"button",onClick:()=>t(n),className:"py-1.5 px-2 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50",children:"Edit"}),f.jsx("button",{type:"button",onClick:()=>e(n.id),className:"py-1.5 px-2 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50",children:"Delete"})]})]})}function sD({isOpen:n,onClose:t,onSave:e,monitor:i}){const[r,l]=N.useState({name:"",symbol:"",url:"",type:"http"});N.useEffect(()=>{l(i?{name:i.name||"",symbol:i.symbol||i.id||"",url:i.url||"",type:i.type||"http"}:{name:"",symbol:"",url:"",type:"http"})},[i,n]);const c=u=>{u.preventDefault(),e(r)};return f.jsxs("div",{id:"add-monitor-modal",className:`hs-overlay fixed inset-0 z-[80] overflow-x-hidden overflow-y-auto ${n?"hs-overlay-open":"hidden"}`,children:[f.jsx("div",{className:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto",children:f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center py-3 px-4 border-b",children:[f.jsx("h3",{className:"font-bold text-gray-800",children:i?"Edit Monitor":"Add Monitor"}),f.jsxs("button",{type:"button",onClick:t,className:"flex justify-center items-center size-7 text-sm font-semibold rounded-full border border-transparent text-gray-800 hover:bg-gray-100",children:[f.jsx("span",{className:"sr-only",children:"Close"}),f.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m18 6-12 12"}),f.jsx("path",{d:"m6 6 12 12"})]})]})]}),f.jsxs("form",{onSubmit:c,children:[f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Symbol"}),f.jsx("input",{type:"text",value:r.symbol,onChange:u=>l({...r,symbol:u.target.value.toUpperCase()}),className:"py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"AAPL, GOOGL, MSFT, etc.",required:!0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a stock ticker symbol (e.g., AAPL, GOOGL, TSLA)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name (Optional)"}),f.jsx("input",{type:"text",value:r.name,onChange:u=>l({...r,name:u.target.value}),className:"py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Leave empty to use stock name"})]})]}),f.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t",children:[f.jsx("button",{type:"button",onClick:t,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50",children:"Cancel"}),f.jsx("button",{type:"submit",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700",children:i?"Update":"Create"})]})]})]})}),f.jsx("div",{className:"hs-overlay-backdrop fixed inset-0 z-[79] bg-gray-900 bg-opacity-50"})]})}Ms.register(qo,Wo,Uo,mr,Yo,Io,Fo);function rD(){const[n,t]=N.useState([]),[e,i]=N.useState(!0),[r,l]=N.useState(!1),[c,u]=N.useState(null),[h,g]=N.useState(!1),[m,b]=N.useState(null),[y,v]=N.useState("unknown"),[k,S]=N.useState("unknown"),[_,M]=N.useState("unknown"),[E,A]=N.useState("unknown"),[U,R]=N.useState("yahoo"),[q,F]=N.useState(()=>{try{const ht=localStorage.getItem("preferredApi");return ht&&["yahoo","finnhub","massive","auto"].includes(ht)?ht:"auto"}catch{return"auto"}}),[Q,V]=N.useState([]),[nt,P]=N.useState(100),[Y,K]=N.useState(0),[ot,ut]=N.useState(0),[L,X]=N.useState(!1),[at,yt]=N.useState("unknown"),[bt,z]=N.useState("unknown"),[B,tt]=N.useState("unknown"),ct=30,xt=()=>{try{const ht=localStorage.getItem("apiRequestHistory");let Ct=[];if(ht)try{Ct=JSON.parse(ht)}catch(Ve){console.error("Error parsing request history:",Ve)}const ae=Date.now(),Pt=ae-1440*60*1e3,je=Ct.filter(Ve=>Ve.timestamp>Pt);if(je.length===0){P(100),K(0),ut(0);return}const be=je.filter(Ve=>Ve.success).length,$t=je.length,hn=$t>0?be/$t*100:100;P(hn),K($t),ut(be);const Jt=ae-10080*60*1e3,Ot=Ct.filter(Ve=>Ve.timestamp>Jt);localStorage.setItem("apiRequestHistory",JSON.stringify(Ot))}catch(ht){console.error("Error calculating success rate:",ht),P(100),K(0),ut(0)}},pt=ht=>{try{const Ct=localStorage.getItem("apiRequestHistory");let ae=[];if(Ct)try{ae=JSON.parse(Ct)}catch(Pt){console.error("Error parsing request history:",Pt)}ae.push({timestamp:Date.now(),success:ht}),ae.length>1e3&&(ae=ae.slice(-1e3)),localStorage.setItem("apiRequestHistory",JSON.stringify(ae)),xt()}catch(Ct){console.error("Error recording API request:",Ct)}},gt=async()=>{try{const ht=await fr("AAPL","1d","1d");yt(ht&&ht.data?"operational":"down")}catch(ht){console.error("Dashboard API check failed:",ht),yt("down")}try{const ht=await $u("AAPL","1D");z(ht&&ht.data&&ht.data.length>0?"operational":"down")}catch(ht){console.error("Charts API check failed:",ht),z("down")}try{const ht=await $u("AAPL","1D");tt(ht&&ht.data&&ht.data.length>0?"operational":"down")}catch(ht){console.error("Projection API check failed:",ht),tt("down")}try{const ht=await yg("general");A(ht&&ht.length>0?"operational":"down")}catch(ht){console.error("Fibhub API check failed:",ht),A("down")}};N.useEffect(()=>{xt(),kt(),gt();const Ct=(()=>{try{const Pt=localStorage.getItem("refreshInterval");return Pt?parseInt(Pt,10):30}catch{return 30}})(),ae=setInterval(()=>{kt(),xt(),gt()},Ct*1e3);return()=>clearInterval(ae)},[]);const kt=async()=>{try{const ht=await H4();t(ht),g(!0),b(null),xt(),pt(!0);const Ct=ht.map($t=>$t.apiSource).filter(Boolean);let ae="disconnected";const Pt={yahoo:Ct.filter($t=>$t==="yahoo").length,finnhub:Ct.filter($t=>$t==="finnhub").length,massive:Ct.filter($t=>$t==="massive").length};let je="yahoo";Pt.finnhub>Pt.yahoo&&Pt.finnhub>Pt.massive?je="finnhub":Pt.massive>Pt.yahoo&&Pt.massive>Pt.finnhub?je="massive":Pt.yahoo>0?je="yahoo":Pt.finnhub>0?je="finnhub":Pt.massive>0&&(je="massive"),Ct.length>0?(R(je),ae="connected",v(Pt.yahoo>0?"connected":Pt.finnhub>0||Pt.massive>0?"standby":"unknown"),S(Pt.finnhub>0?"connected":Pt.yahoo>0||Pt.massive>0?"standby":"unknown"),M(Pt.massive>0?"connected":Pt.yahoo>0||Pt.finnhub>0?"standby":"unknown")):(v("failed"),S("failed"),M("failed"),A("unknown"));const be=new Date().toLocaleTimeString("en-US",{timeZone:"America/New_York"});V($t=>[...$t,{time:be,status:ae==="connected"?1:0}].slice(-ct))}catch(ht){console.error("Failed to load monitors:",ht),g(!1),b("Unable to fetch live data from all APIs. Please check your internet connection."),t([]),v("failed"),S("failed"),M("failed"),A("failed"),pt(!1);const Ct=new Date().toLocaleTimeString("en-US",{timeZone:"America/New_York"});V(ae=>[...ae,{time:Ct,status:0}].slice(-ct))}finally{i(!1)}},vt=async ht=>{if(ht!==q){X(!0);try{localStorage.setItem("preferredApi",ht),F(ht),await kt()}catch(Ct){console.error("Failed to switch API:",Ct),b("Failed to switch API endpoint: "+Ct.message)}finally{X(!1)}}},mt=()=>{u(null),l(!0)},Xt=ht=>{u(ht),l(!0)},Yt=async ht=>{try{c?await U4(c.id,ht):await V4(ht),l(!1),u(null),await kt()}catch(Ct){console.error("Failed to save monitor:",Ct),alert(`Failed to save monitor: ${Ct.message||"Unknown error"}`)}},oe=async ht=>{if(window.confirm("Are you sure you want to delete this monitor?"))try{await F4(ht),await kt()}catch(Ct){console.error("Failed to delete monitor:",Ct),alert(`Failed to delete monitor: ${Ct.message||"Unknown error"}`)}},Lt=async ht=>{try{await Y4(ht),await kt()}catch(Ct){console.error("Failed to toggle pause:",Ct),alert(`Failed to toggle pause: ${Ct.message||"Unknown error"}`)}};return e?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"text-gray-600",children:"Loading monitors..."})}):f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"API Status & Monitoring"}),f.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400",children:"Monitor API health, performance metrics, and manage your stock market data sources"})]}),f.jsxs("button",{type:"button",onClick:()=>{kt(),gt()},disabled:e,className:"px-6 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:[f.jsx("svg",{className:`w-5 h-5 ${e?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e?"Refreshing...":"Refresh All"]})]}),f.jsx("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),f.jsxs("span",{children:["Data Sources: ",f.jsx("a",{href:"https://finance.yahoo.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Yahoo Finance"}),", ",f.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Finnhub"}),", ",f.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Massive"})]})]})})]}),m&&f.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4 shadow-sm",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-red-500 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3 flex-1",children:[f.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"Connection Error"}),f.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:m})]})]})}),f.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700 mb-8",children:[f.jsxs("div",{className:"flex items-start justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${h?"bg-gradient-to-br from-green-400 to-green-600":"bg-gradient-to-br from-red-400 to-red-600"}`,children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"System Overview"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Real-time status of all API endpoints and page functionality"})]})]}),f.jsx("div",{className:"flex flex-col items-end gap-2",children:f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsx("span",{className:`w-3 h-3 rounded-full ${h?"bg-green-500 animate-pulse":"bg-red-500"}`}),f.jsx("span",{className:`text-base font-semibold ${h?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:h?"All Systems Operational":"System Down"})]})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Page Status"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),f.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dashboard"})]}),f.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${at==="operational"?"bg-green-500 animate-pulse":at==="down"?"bg-red-500":"bg-gray-400"}`})]}),f.jsx("p",{className:`text-xl font-bold mb-1 ${at==="operational"?"text-green-600 dark:text-green-400":at==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:at==="operational"?"Operational":at==="down"?"Down":"Checking..."}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Real-time market data"})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Charts"})]}),f.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${bt==="operational"?"bg-green-500 animate-pulse":bt==="down"?"bg-red-500":"bg-gray-400"}`})]}),f.jsx("p",{className:`text-xl font-bold mb-1 ${bt==="operational"?"text-green-600 dark:text-green-400":bt==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:bt==="operational"?"Operational":bt==="down"?"Down":"Checking..."}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Price charts & analysis"})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),f.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Projection"})]}),f.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${B==="operational"?"bg-green-500 animate-pulse":B==="down"?"bg-red-500":"bg-gray-400"}`})]}),f.jsx("p",{className:`text-xl font-bold mb-1 ${B==="operational"?"text-green-600 dark:text-green-400":B==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:B==="operational"?"Operational":B==="down"?"Down":"Checking..."}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Price projections & forecasts"})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[f.jsxs("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"API Configuration"]}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preferred Data Source"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Choose your primary API endpoint. Auto mode will automatically switch between available sources."}),f.jsxs("select",{value:q,onChange:ht=>vt(ht.target.value),disabled:L,className:"w-full md:w-auto min-w-[200px] px-4 py-2.5 text-sm font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:[f.jsx("option",{value:"auto",children:" Auto (Smart Fallback)"}),f.jsx("option",{value:"yahoo",children:" Yahoo Finance"}),f.jsx("option",{value:"finnhub",children:" Finnhub"}),f.jsx("option",{value:"massive",children:" Massive"})]}),L&&f.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2 flex items-center gap-1",children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Switching API endpoint..."]})]}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Currently Active:"}),f.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:U==="yahoo"?" Yahoo Finance":U==="finnhub"?" Finnhub":U==="massive"?" Massive":" None"})]})]})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Performance Metrics"]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Success Rate (Last 24 Hours)"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"API request success percentage"})]}),f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${nt>=99?"bg-green-100 dark:bg-green-900/20":nt>=95?"bg-blue-100 dark:bg-blue-900/20":nt>=90?"bg-yellow-100 dark:bg-yellow-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:f.jsx("svg",{className:`w-6 h-6 ${nt>=99?"text-green-600 dark:text-green-400":nt>=95?"text-blue-600 dark:text-blue-400":nt>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:`text-4xl font-bold mb-3 ${nt>=99?"text-green-600 dark:text-green-400":nt>=95?"text-blue-600 dark:text-blue-400":nt>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[nt.toFixed(1),"%"]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${nt>=99?"bg-gradient-to-r from-green-400 to-green-600":nt>=95?"bg-gradient-to-r from-blue-400 to-blue-600":nt>=90?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.min(nt,100)}%`}})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Successful Requests"}),f.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ot.toLocaleString()})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total Requests"}),f.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Y.toLocaleString()})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Connection Status History"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Real-time API connectivity over time"})]}),f.jsx("div",{className:"h-48",children:Q.length>0?f.jsx(Ia,{data:{labels:Q.map(ht=>ht.time),datasets:[{label:"API Status",data:Q.map(ht=>ht.status),borderColor:h?"rgb(34, 197, 94)":"rgb(239, 68, 68)",backgroundColor:h?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:h?"rgb(34, 197, 94)":"rgb(239, 68, 68)",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:12,weight:"bold"},bodyFont:{size:11},callbacks:{label:function(ht){return ht.parsed.y===1?" Connected":" Disconnected"}}}},scales:{y:{beginAtZero:!0,max:1,ticks:{stepSize:1,callback:function(ht){return ht===1?"":""},font:{size:11}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{ticks:{maxTicksLimit:8,font:{size:10}},grid:{display:!1}}}}}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[f.jsx("svg",{className:"w-12 h-12 mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsx("p",{className:"text-sm",children:"No status data yet"}),f.jsx("p",{className:"text-xs mt-1",children:"Data will appear after first API check"})]})})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Last System Check"})]}),f.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:n.length>0&&n[0]?.lastCheck?new Date(n[0].lastCheck).toLocaleString("en-US",{timeZone:"America/New_York",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),f.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Active Endpoint"})]}),f.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:y==="connected"?" Yahoo Finance":k==="connected"?" Finnhub":_==="connected"?" Massive":" None"})]})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),"API Endpoints"]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Monitor the status of all available data sources. The system automatically switches between endpoints for optimal reliability."}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-md ${y==="connected"?"bg-gradient-to-br from-green-400 to-green-600":y==="failed"?"bg-gradient-to-br from-red-400 to-red-600":"bg-gradient-to-br from-gray-300 to-gray-500 dark:from-gray-600 dark:to-gray-700"}`,children:f.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`w-3 h-3 rounded-full mb-1 ${y==="connected"?"bg-green-500 animate-pulse":y==="failed"?"bg-red-500":"bg-gray-400"}`}),f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y==="connected"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":y==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"}`,children:y==="connected"?"Active":y==="failed"?"Failed":"Standby"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Yahoo Finance"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:f.jsx("a",{href:"https://finance.yahoo.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"query1.finance.yahoo.com"})}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-md font-medium",children:"Primary"}),f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Real-time quotes"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-md ${k==="connected"?"bg-gradient-to-br from-green-400 to-green-600":k==="failed"?"bg-gradient-to-br from-red-400 to-red-600":"bg-gradient-to-br from-blue-400 to-blue-600"}`,children:f.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`w-3 h-3 rounded-full mb-1 ${k==="connected"?"bg-green-500 animate-pulse":k==="failed"?"bg-red-500":"bg-blue-500"}`}),f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${k==="connected"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":k==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:k==="connected"?"Active":k==="failed"?"Failed":"Standby"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Finnhub"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:f.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"finnhub.io"})}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-md font-medium",children:"Backup"}),f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Market data"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-md ${_==="connected"?"bg-gradient-to-br from-green-400 to-green-600":_==="failed"?"bg-gradient-to-br from-red-400 to-red-600":"bg-gradient-to-br from-purple-400 to-purple-600"}`,children:f.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`w-3 h-3 rounded-full mb-1 ${_==="connected"?"bg-green-500 animate-pulse":_==="failed"?"bg-red-500":"bg-purple-500"}`}),f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_==="connected"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":_==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}`,children:_==="connected"?"Active":_==="failed"?"Failed":"Standby"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Massive"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:f.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"api.massive.com"})}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded-md font-medium",children:"Backup"}),f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Secure API"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-2 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-md ${E==="operational"?"bg-gradient-to-br from-green-400 to-green-600":E==="down"?"bg-gradient-to-br from-red-400 to-red-600":"bg-gradient-to-br from-orange-400 to-orange-600"}`,children:f.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:`w-3 h-3 rounded-full mb-1 ${E==="operational"?"bg-green-500 animate-pulse":E==="down"?"bg-red-500":"bg-orange-500"}`}),f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${E==="operational"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":E==="down"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}`,children:E==="operational"?"Operational":E==="down"?"Down":"Checking..."})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Fibhub News"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:f.jsx("a",{href:"https://fibhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"api.fibhub.io"})}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-md font-medium",children:"News"}),f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Market news"})]})]})]})]})]}),n.length>0&&f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Active Monitors (",n.length,")"]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track your stock symbols and monitor their performance"})]}),f.jsxs("button",{type:"button",onClick:mt,className:"px-4 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Monitor"]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(ht=>f.jsx(iD,{monitor:ht,onEdit:Xt,onDelete:oe,onTogglePause:Lt},ht.id))})]}),n.length===0&&!e&&f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 border border-gray-200 dark:border-gray-700 text-center",children:f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Monitors Yet"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Start monitoring your favorite stocks by adding your first monitor. Track prices, changes, and get real-time updates."}),f.jsxs("button",{type:"button",onClick:mt,className:"px-6 py-3 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 rounded-lg shadow-md hover:shadow-lg transition-all inline-flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Your First Monitor"]})]})}),f.jsx(sD,{isOpen:r,onClose:()=>{l(!1),u(null)},onSave:Yt,monitor:c})]})}function aD({columns:n,rows:t,columnUnit:e,rowUnit:i,onColumnsChange:r,onRowsChange:l,onColumnUnitChange:c,onRowUnitChange:u}){return f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Columns"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",min:"1",max:"12",value:n,onChange:h=>r(parseInt(h.target.value)||1),className:"flex-1 py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500"}),f.jsxs("select",{value:e,onChange:h=>c(h.target.value),className:"py-2 px-3 block border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",children:[f.jsx("option",{value:"fr",children:"fr"}),f.jsx("option",{value:"px",children:"px"}),f.jsx("option",{value:"%",children:"%"}),f.jsx("option",{value:"auto",children:"auto"}),f.jsx("option",{value:"1fr",children:"1fr"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rows"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"number",min:"1",max:"12",value:t,onChange:h=>l(parseInt(h.target.value)||1),className:"flex-1 py-2 px-3 block w-full border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500"}),f.jsxs("select",{value:i,onChange:h=>u(h.target.value),className:"py-2 px-3 block border border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",children:[f.jsx("option",{value:"fr",children:"fr"}),f.jsx("option",{value:"px",children:"px"}),f.jsx("option",{value:"%",children:"%"}),f.jsx("option",{value:"auto",children:"auto"}),f.jsx("option",{value:"1fr",children:"1fr"})]})]})]})]})}function lD({id:n,children:t}){const{attributes:e,listeners:i,setNodeRef:r,transform:l,transition:c}=mh({id:n}),u={transform:ur.Transform.toString(l),transition:c};return f.jsx("div",{ref:r,style:u,...e,...i,className:"cursor-move",children:t})}function oD({columns:n,rows:t,columnUnit:e,rowUnit:i,items:r,onItemsChange:l}){const c=J1(Iu(dh),Iu(hh,{coordinateGetter:b2})),u=Array(n).fill(`1${e==="1fr"?"fr":e}`).join(" "),h=Array(t).fill(`1${i==="1fr"?"fr":i}`).join(" "),g=m=>{const{active:b,over:y}=m;if(b.id!==y.id){const v=r.findIndex(S=>S.id===b.id),k=r.findIndex(S=>S.id===y.id);l(La(r,v,k))}};return f.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:f.jsx("div",{className:"grid gap-2 min-h-[400px]",style:{gridTemplateColumns:u,gridTemplateRows:h},children:f.jsx(zu,{sensors:c,collisionDetection:Ru,onDragEnd:g,children:f.jsx(Lu,{items:r.map(m=>m.id),strategy:xg,children:r.map(m=>f.jsx(lD,{id:m.id,children:f.jsx("div",{className:"bg-blue-500 text-white p-4 rounded-lg flex items-center justify-center font-semibold",children:m.label})},m.id))})})})})}function cD({columns:n,rows:t,columnUnit:e,rowUnit:i}){const[r,l]=N.useState(!1),c=Array(n).fill(`1${e==="1fr"?"fr":e}`).join(" "),u=Array(t).fill(`1${i==="1fr"?"fr":i}`).join(" "),h=`.grid-container {
  display: grid;
  grid-template-columns: ${c};
  grid-template-rows: ${u};
  gap: 1rem;
}`,g=async()=>{try{await navigator.clipboard.writeText(h),l(!0),setTimeout(()=>l(!1),2e3)}catch(m){console.error("Failed to copy:",m)}};return f.jsxs("div",{className:"mt-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Generated CSS"}),f.jsx("button",{type:"button",onClick:g,className:"py-1 px-3 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:r?"Copied!":"Copy"})]}),f.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:f.jsx("code",{children:h})})]})}function uD(){const[n,t]=N.useState(3),[e,i]=N.useState(3),[r,l]=N.useState("fr"),[c,u]=N.useState("fr"),[h,g]=N.useState(()=>{const y=[];for(let v=1;v<=9;v++)y.push({id:`item-${v}`,label:`Item ${v}`});return y}),m=()=>{const y=`item-${Date.now()}`;g([...h,{id:y,label:`Item ${h.length+1}`}])},b=()=>{t(3),i(3),l("fr"),u("fr");const y=[];for(let v=1;v<=9;v++)y.push({id:`item-${v}`,label:`Item ${v}`});g(y)};return f.jsxs("div",{children:[f.jsx(aD,{columns:n,rows:e,columnUnit:r,rowUnit:c,onColumnsChange:t,onRowsChange:i,onColumnUnitChange:l,onRowUnitChange:u}),f.jsxs("div",{className:"mb-4 flex gap-2",children:[f.jsx("button",{type:"button",onClick:m,className:"py-2 px-4 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"Add Item"}),f.jsx("button",{type:"button",onClick:b,className:"py-2 px-4 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Reset"})]}),f.jsx(oD,{columns:n,rows:e,columnUnit:r,rowUnit:c,items:h,onItemsChange:g}),f.jsx(cD,{columns:n,rows:e,columnUnit:r,rowUnit:c})]})}function hD(){const[n,t]=N.useState(()=>{const P=localStorage.getItem("darkMode");return P?JSON.parse(P):!1}),[e,i]=N.useState({finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}),[r,l]=N.useState(()=>{const P=localStorage.getItem("refreshInterval");return P?parseInt(P,10):30}),[c,u]=N.useState(()=>{const P=localStorage.getItem("defaultSymbols");return P?JSON.parse(P):["AAPL","GOOGL","MSFT","TSLA","AMZN"]}),[h,g]=N.useState(""),[m,b]=N.useState(()=>{const P=localStorage.getItem("notificationSettings");return P?JSON.parse(P):{priceAlerts:!0,apiStatusAlerts:!0,errorAlerts:!0,soundEnabled:!1}}),[y,v]=N.useState(()=>{const P=localStorage.getItem("generalSettings");return P?JSON.parse(P):{autoRefresh:!0,showTooltips:!0,compactMode:!1}}),[k,S]=N.useState({message:"",type:""}),[_,M]=N.useState({finnhub:!1,massive:!1});N.useEffect(()=>{const P=localStorage.getItem("apiKeys");P&&i(JSON.parse(P))},[]),N.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(n))},[n]);const E=()=>{localStorage.setItem("apiKeys",JSON.stringify(e)),F("API keys saved successfully","success")},A=()=>{localStorage.setItem("refreshInterval",r.toString()),F("Refresh interval saved successfully","success")},U=()=>{localStorage.setItem("defaultSymbols",JSON.stringify(c)),F("Default symbols saved successfully","success")},R=()=>{localStorage.setItem("notificationSettings",JSON.stringify(m)),F("Notification settings saved successfully","success")},q=()=>{localStorage.setItem("generalSettings",JSON.stringify(y)),F("General settings saved successfully","success")},F=(P,Y)=>{S({message:P,type:Y}),setTimeout(()=>{S({message:"",type:""})},3e3)},Q=()=>{const P=h.toUpperCase().trim();P&&!c.includes(P)&&(u([...c,P]),g(""))},V=P=>{u(c.filter(Y=>Y!==P))},nt=()=>{window.confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")&&(localStorage.removeItem("apiKeys"),localStorage.removeItem("refreshInterval"),localStorage.removeItem("defaultSymbols"),localStorage.removeItem("notificationSettings"),localStorage.removeItem("generalSettings"),i({finnhub:"demo",massive:"qeBvdtjWjffA90rzgWB_HeHtmdpyuGQG"}),l(30),u(["AAPL","GOOGL","MSFT","TSLA","AMZN"]),b({priceAlerts:!0,apiStatusAlerts:!0,errorAlerts:!0,soundEnabled:!1}),v({autoRefresh:!0,showTooltips:!0,compactMode:!1}),F("All settings reset to defaults","success"))};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Settings"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage your application preferences and configuration"})]}),f.jsx("button",{onClick:nt,className:"px-3 py-1.5 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Reset to Defaults"})]}),k.message&&f.jsx("div",{className:`rounded-lg p-4 ${k.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[k.type==="success"?f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsx("span",{children:k.message})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Appearance"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Customize the look and feel of the application"})]})}),f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Dark Mode"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Switch between light and dark theme"})]}),f.jsx("button",{type:"button",onClick:()=>t(!n),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",role:"switch","aria-checked":n,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"API Keys"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Manage your API keys for different data sources"})]}),f.jsx("button",{onClick:E,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save API Keys"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Finnhub API Key"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:_.finnhub?"text":"password",value:e.finnhub,onChange:P=>i({...e,finnhub:P.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter Finnhub API key"}),f.jsx("button",{type:"button",onClick:()=>M({..._,finnhub:!_.finnhub}),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:_.finnhub?f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Get your free API key from ",f.jsx("a",{href:"https://finnhub.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"finnhub.io"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Massive API Key"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:_.massive?"text":"password",value:e.massive,onChange:P=>i({...e,massive:P.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter Massive API key"}),f.jsx("button",{type:"button",onClick:()=>M({..._,massive:!_.massive}),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:_.massive?f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Manage your API key from ",f.jsx("a",{href:"https://massive.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"massive.com"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Data Refresh"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure how often data is refreshed"})]}),f.jsx("button",{onClick:A,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Interval"})]}),f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Refresh Interval (seconds)"}),f.jsx("input",{type:"number",min:"5",max:"300",value:r,onChange:P=>l(parseInt(P.target.value,10)||30),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Data will refresh every ",r," seconds (minimum: 5, maximum: 300)"]})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Default Symbols"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure default stock symbols to monitor"})]}),f.jsx("button",{onClick:U,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Symbols"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:h,onChange:P=>g(P.target.value.toUpperCase()),onKeyPress:P=>P.key==="Enter"&&Q(),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter symbol (e.g., AAPL)",maxLength:"10"}),f.jsx("button",{onClick:Q,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Add"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(P=>f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg",children:[f.jsx("span",{className:"text-sm font-medium",children:P}),f.jsx("button",{onClick:()=>V(P),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:f.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},P))}),c.length===0&&f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No symbols added. Add symbols to monitor by default."})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Notifications"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure notification preferences"})]}),f.jsx("button",{onClick:R,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save Notifications"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Price Alerts"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when prices reach your target"})]}),f.jsx("button",{type:"button",onClick:()=>b({...m,priceAlerts:!m.priceAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.priceAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.priceAlerts?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"API Status Alerts"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when API endpoints change status"})]}),f.jsx("button",{type:"button",onClick:()=>b({...m,apiStatusAlerts:!m.apiStatusAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.apiStatusAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.apiStatusAlerts?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Error Alerts"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Get notified when errors occur"})]}),f.jsx("button",{type:"button",onClick:()=>b({...m,errorAlerts:!m.errorAlerts}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.errorAlerts?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.errorAlerts?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Sound Notifications"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Play sound when notifications appear"})]}),f.jsx("button",{type:"button",onClick:()=>b({...m,soundEnabled:!m.soundEnabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${m.soundEnabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.soundEnabled?"translate-x-6":"translate-x-1"}`})})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"General"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"General application preferences"})]}),f.jsx("button",{onClick:q,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save General"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto Refresh"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Automatically refresh data at configured intervals"})]}),f.jsx("button",{type:"button",onClick:()=>v({...y,autoRefresh:!y.autoRefresh}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.autoRefresh?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.autoRefresh?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Show Tooltips"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Display helpful tooltips throughout the application"})]}),f.jsx("button",{type:"button",onClick:()=>v({...y,showTooltips:!y.showTooltips}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.showTooltips?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.showTooltips?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Compact Mode"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Use a more compact layout to fit more information"})]}),f.jsx("button",{type:"button",onClick:()=>v({...y,compactMode:!y.compactMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y.compactMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.compactMode?"translate-x-6":"translate-x-1"}`})})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 lg:col-span-2",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"CSS Grid Generator"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Create dynamic layouts by configuring your grid columns and rows, then drag elements to position them."})]}),f.jsx(uD,{})]})]})]})}function _e(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function qr(n,t){return n.width===t.width&&n.height===t.height}var dD=(function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(r){return r!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n})();function fD(n){return new dD(n)}var gD=(function(){function n(t,e,i){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=_e({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??(function(l){return l}),this._allowResizeObserver=(r=i?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return _e({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=_e(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;qr(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=_e(this._transformBitmapSize(t,this._canvasElementClientSize)),r=qr(this.bitmapSize,i)?null:i;e===null&&r===null||e!==null&&r!==null&&qr(e,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(e,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}pD().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Vv(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=fD(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=Vv(this._canvasElement);if(i!==null){var r=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,l=this._canvasElement.getClientRects(),c=l[0]!==void 0?xD(l[0],r):_e({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(c)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(c){return c.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var r=i.devicePixelContentBoxSize[0],l=_e({width:r.inlineSize,height:r.blockSize});t._suggestNewBitmapSize(l)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n})();function mD(n,t){return new gD(n,t.transform,t.options)}function Vv(n){return n.ownerDocument.defaultView}function pD(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function xD(n,t){return _e({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var bD=(function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n})();function $r(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var r=n.canvasElement.getContext("2d",t);return r===null?null:new bD(r,e,i)}const Uw={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Uv,Aa;function qa(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function Fw(n,t,e,i){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(e,t+r),n.lineTo(i,t+r),n.stroke()}function wn(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function Qn(n){if(n===void 0)throw new Error("Value is undefined");return n}function ft(n){if(n===null)throw new Error("Value is null");return n}function lr(n){return ft(Qn(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(Uv||(Uv={})),(function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"})(Aa||(Aa={}));class $e{constructor(){this.t=[]}i(t,e,i){const r={h:t,l:e,o:i===!0};this.t.push(r)}_(t){const e=this.t.findIndex((i=>t===i.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const r=[...this.t];this.t=this.t.filter((l=>!l.o)),r.forEach((l=>l.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function hi(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&Object.prototype.hasOwnProperty.call(e,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:hi(n[i],e[i]));return n}function Wa(n){return typeof n=="number"&&isFinite(n)}function Ao(n){return typeof n=="number"&&n%1==0}function $o(n){return typeof n=="string"}function ku(n){return typeof n=="boolean"}function Ss(n){const t=n;if(!t||typeof t!="object")return t;let e,i,r;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&typeof r=="object"?Ss(r):r);return e}function yD(n){return n!==null}function vD(n){return n===null?void 0:n}const Yw="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function nh(n,t,e){return t===void 0&&(t=Yw),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class wD{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),i=this.W();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=nh(e,i),t.A=2.5/12*e,t.V=t.A,t.B=e/12*t.C,t.I=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function d0(n){return n<0?0:n>255?255:Math.round(n)||0}function Fv(n){return .199*n[0]+.687*n[1]+.114*n[2]}class SD{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if(t==="transparent")return t;const i=this.K(t),r=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*r})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Fv(e)>160?"black":"white"}}J(t){return Fv(this.K(t))}tt(t,e,i){const[r,l,c,u]=this.K(t),[h,g,m,b]=this.K(e),y=[d0(r+i*(h-r)),d0(l+i*(g-l)),d0(c+i*(m-c)),(v=u+i*(b-u),v<=0||v>1?Math.min(Math.max(v,0),1):Math.round(1e4*v)/1e4)];var v;return`rgba(${y[0]}, ${y[1]}, ${y[2]}, ${y[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=(function(c){const u=document.createElement("div");u.style.display="none",document.body.appendChild(u),u.style.color=c;const h=window.getComputedStyle(u).color;return document.body.removeChild(u),h})(t),r=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(const c of this.Y){const u=c(t);if(u)return this.q.set(t,u),u}throw new Error(`Failed to parse color: ${t}`)}const l=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,l),l}}class kD{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((r=>{r.nt(t,e,i)}))}}class Go{nt(t,e,i){t.useBitmapCoordinateSpace((r=>this.et(r,e,i)))}}class ND extends Go{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,l=this.rt,c=Math.max(1,Math.floor(e))%2/2,u=h=>{t.beginPath();for(let g=r.to-1;g>=r.from;--g){const m=l.ot[g],b=Math.round(m._t*e)+c,y=m.ut*i,v=h*i+c;t.moveTo(b,y),t.arc(b,y,v,0,2*Math.PI)}t.fill()};l.ct>0&&(t.fillStyle=l.dt,u(l.ft+l.ct)),t.fillStyle=l.vt,u(l.ft)}}function _D(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const jD={from:0,to:1};class MD{constructor(t,e,i){this.Mt=new kD,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=i,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(_D),this.bt=this.St.map((e=>{const i=new ND;return i.ht(e),i})),this.Mt.st(this.bt))}Rt(){const t=this.Ct.N().mode===2||!this.Ct.Vt(),e=this.Pt.Bt(),i=this.Ct.It(),r=this.O.Et();this.kt(),e.forEach(((l,c)=>{const u=this.St[c],h=l.At(i),g=l.zt();!t&&h!==null&&l.Vt()&&g!==null?(u.vt=h.Lt,u.ft=h.ft,u.ct=h.Ot,u.ot[0].gt=h.gt,u.ot[0].ut=l.Ft().Nt(h.gt,g.Wt),u.dt=h.Ht??this.O.Ut(u.ot[0].ut/l.Ft().$t()),u.ot[0].wt=i,u.ot[0]._t=r.qt(i),u.lt=jD):u.lt=null}))}}class CD extends Go{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const l=this.Yt.jt.Vt,c=this.Yt.Kt.Vt;if(!l&&!c)return;const u=Math.round(this.Yt._t*i),h=Math.round(this.Yt.ut*r);t.lineCap="butt",l&&u>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,qa(t,this.Yt.jt.Xt),(function(g,m,b,y){g.beginPath();const v=g.lineWidth%2?.5:0;g.moveTo(m+v,b),g.lineTo(m+v,y),g.stroke()})(t,u,0,e.height)),c&&h>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*r),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,qa(t,this.Yt.Kt.Xt),Fw(t,h,0,e.width))}}class ED{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new CD(this.Zt),this.Jt=t,this.Pt=e}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,i=this.Zt;if(e.mode===2)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.Pt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function wh(n,t,e,i,r,l){n.save(),n.globalCompositeOperation="copy",n.fillStyle=l,n.fillRect(t,e,i,r),n.restore()}function Yv(n,t,e,i,r,l){n.beginPath(),n.roundRect?n.roundRect(t,e,i,r,l):(n.lineTo(t+i-l[1],e),l[1]!==0&&n.arcTo(t+i,e,t+i,e+l[1],l[1]),n.lineTo(t+i,e+r-l[2]),l[2]!==0&&n.arcTo(t+i,e+r,t+i-l[2],e+r,l[2]),n.lineTo(t+l[3],e+r),l[3]!==0&&n.arcTo(t,e+r,t,e+r-l[3],l[3]),n.lineTo(t,e+l[0]),l[0]!==0&&n.arcTo(t,e,t+l[0],e,l[0]))}function Iv(n,t,e,i,r,l,c=0,u=[0,0,0,0],h=""){if(n.save(),!c||!h||h===l)return Yv(n,t,e,i,r,u),n.fillStyle=l,n.fill(),void n.restore();const g=c/2;var m;Yv(n,t+g,e+g,i-c,r-c,(m=-g,u.map((b=>b===0?b:b+m)))),l!=="transparent"&&(n.fillStyle=l,n.fill()),h!=="transparent"&&(n.lineWidth=c,n.strokeStyle=h,n.closePath(),n.stroke()),n.restore()}function Iw(n,t,e,i,r,l,c){n.save(),n.globalCompositeOperation="copy";const u=n.createLinearGradient(0,0,0,r);u.addColorStop(0,l),u.addColorStop(1,c),n.fillStyle=u,n.fillRect(t,e,i,r),n.restore()}class qv{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,r){if(!this.Yt.Vt||this.Yt.ri.length===0)return;const l=this.Yt.R,c=this.ei.Z,u=t.useBitmapCoordinateSpace((h=>{const g=h.context;g.font=e.k;const m=this.hi(h,e,i,r),b=m.ai;return m.li?Iv(g,b.oi,b._i,b.ui,b.ci,c,b.di,[b.ft,0,0,b.ft],c):Iv(g,b.fi,b._i,b.ui,b.ci,c,b.di,[0,b.ft,b.ft,0],c),this.Yt.pi&&(g.fillStyle=l,g.fillRect(b.fi,b.mi,b.wi-b.fi,b.gi)),this.Yt.Mi&&(g.fillStyle=e.D,g.fillRect(m.li?b.bi-b.di:0,b._i,b.di,b.Si-b._i)),m}));t.useMediaCoordinateSpace((({context:h})=>{const g=u.xi;h.font=e.k,h.textAlign=u.li?"right":"left",h.textBaseline="middle",h.fillStyle=l,h.fillText(this.Yt.ri,g.Ci,(g._i+g.Si)/2+g.Pi)}))}hi(t,e,i,r){const{context:l,bitmapSize:c,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:g}=t,m=this.Yt.pi||!this.Yt.yi?e.C:0,b=this.Yt.ki?e.S:0,y=e.A+this.ei.Ti,v=e.V+this.ei.Ri,k=e.B,S=e.I,_=this.Yt.ri,M=e.P,E=i.Di(l,_),A=Math.ceil(i.Vi(l,_)),U=M+y+v,R=e.S+k+S+A+m,q=Math.max(1,Math.floor(g));let F=Math.round(U*g);F%2!=q%2&&(F+=1);const Q=b>0?Math.max(1,Math.floor(b*h)):0,V=Math.round(R*h),nt=Math.round(m*h),P=this.ei.Bi??this.ei.Ii,Y=Math.round(P*g)-Math.floor(.5*g),K=Math.floor(Y+q/2-F/2),ot=K+F,ut=r==="right",L=ut?u.width-b:b,X=ut?c.width-Q:Q;let at,yt,bt;return ut?(at=X-V,yt=X-nt,bt=L-m-k-b):(at=X+V,yt=X+nt,bt=L+m+k),{li:ut,ai:{_i:K,mi:Y,Si:ot,ui:V,ci:F,ft:2*h,di:Q,oi:at,fi:X,wi:yt,gi:q,bi:c.width},xi:{_i:K/g,Si:ot/g,Ci:bt,Pi:E}}}}class Sh{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||qv)(this.Ai,this.Ei),this.Oi=new(t||qv)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class TD extends Sh{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const l=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||l===null)return;const c=this.Yi.Xi().X(r.labelBackgroundColor);i.Z=c.Z,t.R=c.G;const u=2/12*this.Yi.P();i.Ti=u,i.Ri=u;const h=this.ji(this.Yi);i.Ii=h.Ii,t.ri=this.Yi.Zi(h.gt,l),t.Vt=!0}}const DD=/[1-9]/g;class qw{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(this.Yt===null||this.Yt.Vt===!1||this.Yt.ri.length===0)return;const i=t.useMediaCoordinateSpace((({context:y})=>(y.font=e.k,Math.round(e.Gi.Vi(y,ft(this.Yt).ri,DD)))));if(i<=0)return;const r=e.Ji,l=i+2*r,c=l/2,u=this.Yt.Qi;let h=this.Yt.Ii,g=Math.floor(h-c)+.5;g<0?(h+=Math.abs(0-g),g=Math.floor(h-c)+.5):g+l>u&&(h-=Math.abs(u-(g+l)),g=Math.floor(h-c)+.5);const m=g+l,b=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace((({context:y,horizontalPixelRatio:v,verticalPixelRatio:k})=>{const S=ft(this.Yt);y.fillStyle=S.Z;const _=Math.round(g*v),M=Math.round(0*k),E=Math.round(m*v),A=Math.round(b*k),U=Math.round(2*v);if(y.beginPath(),y.moveTo(_,M),y.lineTo(_,A-U),y.arcTo(_,A,_+U,A,U),y.lineTo(E-U,A),y.arcTo(E,A,E,A-U,U),y.lineTo(E,M),y.fill(),S.pi){const R=Math.round(S.Ii*v),q=M,F=Math.round((q+e.C)*k);y.fillStyle=S.R;const Q=Math.max(1,Math.floor(v)),V=Math.floor(.5*v);y.fillRect(R-V,q,Q,F-q)}})),t.useMediaCoordinateSpace((({context:y})=>{const v=ft(this.Yt),k=0+e.S+e.C+e.A+e.P/2;y.font=e.k,y.textAlign="left",y.textBaseline="middle",y.fillStyle=v.R;const S=e.Gi.Di(y,"Apr0");y.translate(g+r,k+S),y.fillText(v.ri,0,0)}))}}class AD{constructor(t,e,i){this.xt=!0,this.Gt=new qw,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,this.Ct.N().mode===2)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;t.Qi=i.Qi();const r=this.ji();if(r===null)return;t.Ii=r.Ii;const l=i.ss(this.Ct.It());t.ri=i.ns(ft(l)),t.Vt=!0;const c=this.ts.Xi().X(e.labelBackgroundColor);t.Z=c.Z,t.R=c.G,t.pi=i.N().ticksVisible}}class Ww{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var Q0;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(Q0||(Q0={}));class RD extends Ww{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ys=((r,l)=>c=>{const u=l(),h=r();if(c===ft(this.Pt).ks())return{gt:h,Ii:u};{const g=ft(c.zt());return{gt:c.Ts(u,g),Ii:u}}})((()=>this.ds),(()=>this.Ss));const i=((r,l)=>()=>{const c=this.ts.Et().Rs(r()),u=l();return c&&Number.isFinite(u)?{wt:c,Ii:u}:null})((()=>this.fs),(()=>this.si()));this.Ds=new AD(this,t,i)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new ED(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new MD(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const i=[];return this.Pt===t&&i.push(this.Hs(this.vs,e,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()})),this.vs.forEach((t=>t.yt())),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const r=this.bs,l=this.Ss,c=this.ds,u=this.fs,h=this.Pt,g=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=i;const m=g!==null?g.zt():null;return g!==null&&m!==null?(this.ds=e,this.Ss=g.Nt(e,m)):(this.ds=NaN,this.Ss=NaN),r!==this.bs||l!==this.Ss||u!==this.fs||c!==this.ds||h!==this.Pt}Os(){const t=this.ts.js().map((i=>i.Xs().Ks())).filter(yD),e=t.length===0?null:Math.max(...t);this.fs=e!==null?e:NaN}Hs(t,e,i){let r=t.get(e);return r===void 0&&(r=new TD(this,e,i),t.set(e,r)),r}}function kh(n){return n==="left"||n==="right"}class vn{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=(function(r,l){return r===void 0?l:{tn:Math.max(r.tn,l.tn),sn:r.sn||l.sn}})(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return e===void 0?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach(((e,i)=>{this.Qs(i,e)}))}static wn(){return new vn(2)}static gn(){return new vn(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((e=>e.an===5));t!==-1&&this.Gs.splice(t,1)}}class $w{formatTickmarks(t){return t.map((e=>this.format(e)))}}const Wv=".";function ks(n,t){if(!Wa(n))return"n/a";if(!Ao(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class Nh extends $w{constructor(t,e){if(super(),e||(e=1),Wa(t)&&Ao(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),r="";const l=this.xn!==void 0?this.xn:NaN;if(e>1){let c=+(Math.round(t*e)-i*e).toFixed(this.xn);c>=e&&(c-=e,i+=1),r=Wv+ks(+c.toFixed(this.xn)*this.Mn,l)}else i=Math.round(i*e)/e,l>0&&(r=Wv+ks(0,l));return i.toFixed(0)+r}}class Gw extends Nh{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class OD extends $w{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((r,l)=>l))}}const zD=/[2-9]/g;class ih{constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.In(t,e,i).width}Di(t,e,i){const r=this.In(t,e,i);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}In(t,e,i){const r=i||zD,l=String(e).replace(r,"0");if(this.Dn.has(l))return Qn(this.Dn.get(l)).En;if(this.yn===this.Vn){const u=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(u),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";const c=t.measureText(l);return t.restore(),c.width===0&&e.length||(this.Dn.set(l,{En:c,An:this.kn}),this.Rn[this.kn]=l,this.yn++,this.kn++),c}}class LD{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){this.M!==null&&this.zn!==null&&this.zn.nt(t,this.M,this.On,this.Ln)}}class Xw{constructor(t,e,i){this.Fn=t,this.On=new ih(50),this.Wn=e,this.O=i,this.F=-1,this.Gt=new LD(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(t===null)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(e===null)return null;const i=t.qn(e);if(i==="overlay")return null;const r=this.O.Yn();return r.P!==this.F&&(this.F=r.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),r,i),this.Gt}}class PD extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:r,Kn:l}=this.Yt;return e>=i-r-7&&e<=i+r+7?{Xn:this.Yt,Kn:l}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null||this.Yt.Vt===!1)return;const l=Math.round(this.Yt.ut*r);l<0||l>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),qa(t,this.Yt.Xt),Fw(t,l,0,e.width))}}class Ug{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new PD,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class BD extends Ug{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(e!==2&&e!==3)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const r=this.Jn.zt();r!==null&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(r.Wt,r.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class HD extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const r=this.Yt;if(r===null)return;const l=Math.max(1,Math.floor(e)),c=l%2/2,u=Math.round(r.ne.x*e)+c,h=r.ne.y*i;t.fillStyle=r.ee,t.beginPath();const g=Math.max(2,1.5*r.re)*e;t.arc(u,h,g,0,2*Math.PI,!1),t.fill(),t.fillStyle=r.he,t.beginPath(),t.arc(u,h,r.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=l,t.strokeStyle=r.ae,t.beginPath(),t.arc(u,h,r.ft*e+l/2,0,2*Math.PI,!1),t.stroke()}}const VD=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class UD{constructor(t){this.Gt=new HD,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),this.ge.N().lastPriceAnimation===2){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return this.ge.N().lastPriceAnimation!==0}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),i=this.ge.zt();if(e===null||i===null)return;const r=this.ge.ye(!0);if(r.ke||!e.Te(r.Re))return;const l={x:t.qt(r.Re),y:this.ge.Ft().Nt(r.gt,i.Wt)},c=r.R,u=this.ge.N().lineWidth,h=this.De(this.Ve(),c);this.Gt.ht({ee:c,re:u,he:h.he,ae:h.ae,ft:h.ft,ne:l})}Ce(){const t=this.Gt.se();if(t!==null){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,e,i,r){const l=i+(r-i)*e;return this.ge.Qt().Xi().j(t,l)}De(t,e){const i=t%2600/2600;let r;for(const g of VD)if(i>=g.le&&i<=g.oe){r=g;break}wn(r!==void 0,"Last price animation internal logic error");const l=(i-r.le)/(r.oe-r.le);return{he:this.Be(e,l,r.ce,r.de),ae:this.Be(e,l,r.fe,r.pe),ft:(c=l,u=r._e,h=r.ue,u+(h-u)*c)};var c,u,h}}class FD extends Ug{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ye(e.priceLineSource===0);i.ke||(t.Vt=!0,t.ut=i.Ii,t.R=this.Jn.Ie(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class YD extends Sh{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.Jt;if(!r.Vt())return;const l=r.N(),c=l.lastValueVisible,u=r.Ee()!=="",h=l.seriesLastValueMode===0,g=r.ye(!1);if(g.ke)return;c&&(t.ri=this.Ae(g,c,h),t.Vt=t.ri.length!==0),(u||h)&&(e.ri=this.ze(g,c,u,h),e.Vt=e.ri.length>0);const m=r.Ie(g.R),b=this.Jt.Qt().Xi().X(m);i.Z=b.Z,i.Ii=g.Ii,e.Ht=r.Qt().Ut(g.Ii/r.Ft().$t()),t.Ht=m,t.R=b.G,e.R=b.G}ze(t,e,i,r){let l="";const c=this.Jt.Ee();return i&&c.length!==0&&(l+=`${c} `),e&&r&&(l+=this.Jt.Ft().Le()?t.Oe:t.Ne),l.trim()}Ae(t,e,i){return e?i?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function $v(n,t,e,i){const r=Number.isFinite(t),l=Number.isFinite(e);return r&&l?n(t,e):r||l?r?t:e:i}class Bn{constructor(t,e){this.Fe=t,this.We=e}He(t){return t!==null&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new Bn(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return t===null?this:new Bn($v(Math.min,this.$e(),t.$e(),-1/0),$v(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!Wa(t)||this.We-this.Fe===0)return;const e=.5*(this.We+this.Fe);let i=this.We-e,r=this.Fe-e;i*=t,r*=t,this.We=e+i,this.Fe=e+r}Ke(t){Wa(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return t===null?null:new Bn(t.minValue,t.maxValue)}}class sh{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:this.Ge===null?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return t===null?null:new sh(Bn.Ze(t.priceRange),t.margins)}}class ID extends Ug{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();i!==null&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class qD extends Sh{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const r=this.ir.N(),l=r.axisLabelVisible,c=r.title!=="",u=this.ge;if(!l||!u.Vt())return;const h=this.ir.sr();if(h===null)return;c&&(e.ri=r.title,e.Vt=!0),e.Ht=u.Qt().Ut(h/u.Ft().$t()),t.ri=this.nr(r.price),t.Vt=!0;const g=this.ge.Qt().Xi().X(r.axisLabelColor||r.color);i.Z=g.Z;const m=r.axisLabelTextColor||g.G;t.R=m,e.R=m,i.Ii=h}nr(t){const e=this.ge.zt();return e===null?"":this.ge.Ft().Zi(t,e.Wt)}}class WD{constructor(t,e){this.ge=t,this.Ps=e,this.er=new ID(t,this),this.Fn=new qD(t,this),this.rr=new Xw(this.Fn,t,t.Qt())}hr(t){hi(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const i=t.zt();return i===null?null:e.Nt(this.Ps.price,i.Wt)}}class $D extends Ww{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const GD={Bar:(n,t,e,i)=>{const r=t.upColor,l=t.downColor,c=ft(n(e,i)),u=lr(c.Wt[0])<=lr(c.Wt[3]);return{cr:c.R??(u?r:l)}},Candlestick:(n,t,e,i)=>{const r=t.upColor,l=t.downColor,c=t.borderUpColor,u=t.borderDownColor,h=t.wickUpColor,g=t.wickDownColor,m=ft(n(e,i)),b=lr(m.Wt[0])<=lr(m.Wt[3]);return{cr:m.R??(b?r:l),dr:m.Ht??(b?c:u),pr:m.vr??(b?h:g)}},Custom:(n,t,e,i)=>({cr:ft(n(e,i)).R??t.color}),Area:(n,t,e,i)=>{const r=ft(n(e,i));return{cr:r.vt??t.lineColor,vt:r.vt??t.lineColor,mr:r.mr??t.topColor,wr:r.wr??t.bottomColor}},Baseline:(n,t,e,i)=>{const r=ft(n(e,i));return{cr:r.Wt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,gr:r.gr??t.topLineColor,Mr:r.Mr??t.bottomLineColor,br:r.br??t.topFillColor1,Sr:r.Sr??t.topFillColor2,Cr:r.Cr??t.bottomFillColor1,Pr:r.Pr??t.bottomFillColor2}},Line:(n,t,e,i)=>{const r=ft(n(e,i));return{cr:r.R??t.color,vt:r.R??t.color}},Histogram:(n,t,e,i)=>({cr:ft(n(e,i)).R??t.color})};class XD{constructor(t){this.yr=(e,i)=>i!==void 0?i.Wt:this.ge.Xs().kr(e),this.ge=t,this.Tr=GD[t.Rr()]}Dr(t,e){return this.Tr(this.yr,this.ge.N(),t,e)}}function Qw(n,t,e,i,r=0,l=t.length){let c=l-r;for(;0<c;){const u=c>>1,h=r+u;i(t[h],e)===n?(r=h+1,c-=u+1):c=u}return r}const $a=Qw.bind(null,!0),Zw=Qw.bind(null,!1);var Gv;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Gv||(Gv={}));const er=30;class QD{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return this.zr()===0}Te(t){return this.Nr(t,0)!==null}kr(t){return this.Fr(t)}Fr(t,e=0){const i=this.Nr(t,e);return i===null?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let r=null;for(const l of i)r=Nu(r,this.$r(t,e,l));return r}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map((e=>e.Re))}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(i===null&&e!==0)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return $a(this.Vr,t,((e,i)=>e.Re<i))}Zr(t){return Zw(this.Vr,t,((e,i)=>e.Re>i))}Gr(t,e,i){let r=null;for(let l=t;l<e;l++){const c=this.Vr[l].Wt[i];Number.isNaN(c)||(r===null?r={Jr:c,Qr:c}:(c<r.Jr&&(r.Jr=c),c>r.Qr&&(r.Qr=c)))}return r}$r(t,e,i){if(this.Ki())return null;let r=null;const l=ft(this.Lr()),c=ft(this.Ks()),u=Math.max(t,l),h=Math.min(e,c),g=Math.ceil(u/er)*er,m=Math.max(g,Math.floor(h/er)*er);{const y=this.Xr(u),v=this.Zr(Math.min(h,g,e));r=Nu(r,this.Gr(y,v,i))}let b=this.Br.get(i);b===void 0&&(b=new Map,this.Br.set(i,b));for(let y=Math.max(g+1,u);y<m;y+=er){const v=Math.floor(y/er);let k=b.get(v);if(k===void 0){const S=this.Xr(v*er),_=this.Zr((v+1)*er-1);k=this.Gr(S,_,i),b.set(v,k)}r=Nu(r,k)}{const y=this.Xr(m),v=this.Zr(h);r=Nu(r,this.Gr(y,v,i))}return r}}function Nu(n,t){return n===null?t:t===null?n:{Jr:Math.min(n.Jr,t.Jr),Qr:Math.max(n.Qr,t.Qr)}}const rh={setLineStyle:qa};class ZD{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rh)}ih(t,e,i){this.th.drawBackground?.(t,rh)}}class KD{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new ZD(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class Kw{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((i=>new KD(i)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let JD=class extends Kw{us(){return[]}};class tA{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rh)}ih(t,e,i){this.th.drawBackground?.(t,rh)}}class Xv{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(t===null)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new tA(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Jw(n){return{ri:n.text(),Ii:n.coordinate(),Bi:n.fixedCoordinate?.(),R:n.textColor(),Z:n.backColor(),Vt:n.visible?.()??!0,pi:n.tickVisible?.()??!0}}class eA{constructor(t,e){this.Gt=new qw,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Jw(this._h)}),this.Gt}}class nA extends Sh{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const r=Jw(this._h);i.Z=r.Z,t.R=r.R;const l=2/12*this.Yi.P();i.Ti=l,i.Ri=l,i.Ii=r.Ii,i.Bi=r.Bi,t.ri=r.ri,t.Vt=r.Vt,t.pi=r.pi}}class iA extends Kw{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().Et(),i=t.map((r=>new eA(r,e)));return this.dh={nh:t,eh:i},i}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Ft(),i=t.map((r=>new nA(r,e)));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((i=>new Xv(i)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((i=>new Xv(i)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function f0(n,t,e,i){n.forEach((r=>{t(r).forEach((l=>{l.rh()===e&&i.push(l)}))}))}function g0(n){return n.Fs()}function sA(n){return n.wh()}function rA(n){return n.gh()}const aA=["Area","Line","Baseline"];class _h extends $D{constructor(t,e,i,r,l){super(t),this.Yt=new QD,this.er=new FD(this),this.bh=[],this.Sh=new BD(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=e;const c=new YD(this);this.vs=[c],this.rr=new Xw(c,this,t),aA.includes(this.kh)&&(this.xh=new UD(this)),this.Th(),this.sh=r(this,this.Qt(),l)}m(){this.Ph!==null&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){const e={ke:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return e;const r=this.Qt().Et().Pe(),l=this.zt();if(r===null||l===null)return e;let c,u;if(t){const b=this.Yt.Ar();if(b===null)return e;c=b,u=b.Re}else{const b=this.Yt.Fr(r.bi(),-1);if(b===null||(c=this.Yt.kr(b.Re),c===null))return e;u=b.Re}const h=c.Wt[3],g=this.Rh().Dr(u,{Wt:c}),m=i.Nt(h,l.Wt);return{ke:!1,gt:h,ri:i.Zi(h,l.Wt),Oe:i.Dh(h),Ne:i.Vh(h,l.Wt),R:g.cr,Ii:m,Re:u}}Rh(){return this.Ch!==null||(this.Ch=new XD(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;e!==void 0&&e!==this.Ps.priceScaleId&&this.Qt().Bh(this,e),hi(this.Ps,t),t.priceFormat!==void 0&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,e){this.Yt.ht(t),this.sh.yt("data"),this.xh!==null&&(e&&e.zh?this.xh.be():t.length===0&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new WD(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);e!==-1&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){const t=this.Wh();return t===null?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(t===null)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.kr(t);return e===null?null:this.kh==="Bar"||this.kh==="Candlestick"||this.kh==="Custom"?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];f0(this.yh,g0,"top",e);const i=this.xh;return i!==null&&i.Vt()&&(this.Ph===null&&i.xe()&&(this.Ph=setTimeout((()=>{this.Ph=null,this.Qt().Zh()}),0)),i.Se(),e.unshift(i)),e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map((i=>i.lr()));return t.push(...e),f0(this.yh,g0,"normal",t),t}Jh(){return this.Qh(g0,"bottom")}ta(t){return this.Qh(sA,t)}ia(t){return this.Qh(rA,t)}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const r of this.bh)i.push(r.ur());return this.yh.forEach((r=>{i.push(...r.Ws())})),i}cs(){const t=[];return this.yh.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(this.Ps.autoscaleInfoProvider!==void 0){const i=this.Ps.autoscaleInfoProvider((()=>{const r=this.na(t,e);return r===null?null:r.Xe()}));return sh.Ze(i)}return this.na(t,e)}nh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){this.sh.yt();for(const t of this.vs)t.yt();for(const t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach((t=>t.Ns()))}Ft(){return ft(super.Ft())}At(t){if(!((this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const e=this.Yt.kr(t);return e===null?null:{gt:e.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new iA(t,this))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t))}ca(){if(this.kh==="Custom")return t=>this.sh.da(t)}fa(){if(this.kh==="Custom")return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!kh(this.Ft().ma())}na(t,e){if(!Ao(t)||!Ao(e)||this.Yt.Ki())return null;const i=this.kh==="Line"||this.kh==="Area"||this.kh==="Baseline"||this.kh==="Histogram"?[3]:[2,1],r=this.Yt.Ur(t,e,i);let l=r!==null?new Bn(r.Jr,r.Qr):null,c=null;if(this.Rr()==="Histogram"){const u=this.Ps.base,h=new Bn(u,u);l=l!==null?l.vn(h):h}return this.yh.forEach((u=>{const h=u.Mh(t,e);if(h?.priceRange){const g=new Bn(h.priceRange.minValue,h.priceRange.maxValue);l=l!==null?l.vn(g):g}h?.margins&&(c=h.margins)})),new sh(l,c)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ra=new OD(this.Ps.priceFormat.precision);break;case"percent":this.ra=new Gw(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new Nh(t,this.Ps.priceFormat.minMove*t)}}this.es!==null&&this.es.wa()}Qh(t,e){const i=[];return f0(this.yh,t,e,i),i}}const lA=[3],oA=[0,1,2,3];class cA{constructor(t){this.Ps=t}ga(t,e,i){let r=t;if(this.Ps.mode===0)return r;const l=i.ks(),c=l.zt();if(c===null)return r;const u=l.Nt(t,c),h=i.Ma().filter((m=>m instanceof _h)).reduce(((m,b)=>{if(i.Un(b)||!b.Vt())return m;const y=b.Ft(),v=b.Xs();if(y.Ki()||!v.Te(e))return m;const k=v.kr(e);if(k===null)return m;const S=lr(b.zt()),_=this.Ps.mode===3?oA:lA;return m.concat(_.map((M=>y.Nt(k.Wt[M],S.Wt))))}),[]);if(h.length===0)return r;h.sort(((m,b)=>Math.abs(m-u)-Math.abs(b-u)));const g=h[0];return r=l.Ts(g,c),r}}function xo(n,t,e){return Math.min(Math.max(n,t),e)}function _u(n,t,e){return t-n<=e}class uA extends Go{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(this.Yt===null)return;const l=Math.max(1,Math.floor(i));t.lineWidth=l,(function(c,u){c.save(),c.lineWidth%2&&c.translate(.5,.5),u(),c.restore()})(t,(()=>{const c=ft(this.Yt);if(c.ba){t.strokeStyle=c.Sa,qa(t,c.xa),t.beginPath();for(const u of c.Ca){const h=Math.round(u.Pa*i);t.moveTo(h,-l),t.lineTo(h,e.height+l)}t.stroke()}if(c.ya){t.strokeStyle=c.ka,qa(t,c.Ta),t.beginPath();for(const u of c.Ra){const h=Math.round(u.Pa*r);t.moveTo(-l,h),t.lineTo(e.width+l,h)}t.stroke()}}))}}class hA{constructor(t){this.Gt=new uA,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map((i=>({Pa:i.coord})))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class dA{constructor(t){this.sh=new hA(t)}lr(){return this.sh}}const m0={Va:4,Ba:1e-4};function Ra(n,t){const e=100*(n-t)/t;return t<0?-e:e}function fA(n,t){const e=Ra(n.$e(),t),i=Ra(n.qe(),t);return new Bn(e,i)}function bo(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function gA(n,t){const e=bo(n.$e(),t),i=bo(n.qe(),t);return new Bn(e,i)}function ah(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.Ba)+t.Va;return n<0?-i:i}function yo(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Va)-t.Ba;return n<0?-i:i}function eo(n,t){if(n===null)return null;const e=ah(n.$e(),t),i=ah(n.qe(),t);return new Bn(e,i)}function Oa(n,t){if(n===null)return null;const e=yo(n.$e(),t),i=yo(n.qe(),t);return new Bn(e,i)}function p0(n){if(n===null)return m0;const t=Math.abs(n.qe()-n.$e());if(t>=1||t<1e-15)return m0;const e=Math.ceil(Math.abs(Math.log10(t))),i=m0.Va+e;return{Va:i,Ba:1/Math.pow(10,i)}}class x0{constructor(t,e){if(this.Ia=t,this.Ea=e,(function(i){if(i<0)return!1;if(i>1e18)return!0;for(let r=i;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let i=this.Ia;i!==1;){if(i%2==0)this.Aa.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Aa.push(2,2.5),i/=5}if(this.Aa.length>100)throw new Error("something wrong with base")}}}za(t,e,i){const r=this.Ia===0?0:1/this.Ia;let l=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),c=0,u=this.Ea[0];for(;;){const b=_u(l,r,1e-14)&&l>r+1e-14,y=_u(l,i*u,1e-14),v=_u(l,1,1e-14);if(!(b&&y&&v))break;l/=u,u=this.Ea[++c%this.Ea.length]}if(l<=r+1e-14&&(l=r),l=Math.max(1,l),this.Aa.length>0&&(h=l,g=1,m=1e-14,Math.abs(h-g)<m))for(c=0,u=this.Aa[0];_u(l,i*u,1e-14)&&l>r+1e-14;)l/=u,u=this.Aa[++c%this.Aa.length];var h,g,m;return l}}class Qv{constructor(t,e,i,r){this.La=[],this.Yi=t,this.Ia=e,this.Oa=i,this.Na=r}za(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),r=(t-e)*this.Fa()/i,l=new x0(this.Ia,[2,2.5,2]),c=new x0(this.Ia,[2,2,2.5]),u=new x0(this.Ia,[2.5,2,2]),h=[];return h.push(l.za(t,e,r),c.za(t,e,r),u.za(t,e,r)),(function(g){if(g.length<1)throw Error("array is empty");let m=g[0];for(let b=1;b<g.length;++b)g[b]<m&&(m=g[b]);return m})(h)}Wa(){const t=this.Yi,e=t.zt();if(e===null)return void(this.La=[]);const i=t.$t(),r=this.Oa(i-1,e),l=this.Oa(0,e),c=this.Yi.N().entireTextOnly?this.Ha()/2:0,u=c,h=i-1-c,g=Math.max(r,l),m=Math.min(r,l);if(g===m)return void(this.La=[]);const b=this.za(g,m);if(this.Ua(e,b,g,m,u,h),t.$a()&&this.qa(b,m,g)){const k=this.Yi.Ya();this.ja(e,b,u,h,k,2*k)}const y=this.La.map((k=>k.Ka)),v=this.Yi.Xa(y);for(let k=0;k<this.La.length;k++)this.La[k].Za=v[k]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,e,i,r,l,c){const u=this.La,h=this.Yi;let g=i%e;g+=g<0?e:0;const m=i>=r?1:-1;let b=null,y=0;for(let v=i-g;v>r;v-=e){const k=this.Na(v,t,!0);b!==null&&Math.abs(k-b)<this.Fa()||k<l||k>c||(y<u.length?(u[y].Pa=k,u[y].Za=h.Ga(v),u[y].Ka=v):u.push({Pa:k,Za:h.Ga(v),Ka:v}),y++,b=k,h.Ja()&&(e=this.za(v*m,r)))}u.length=y}ja(t,e,i,r,l,c){const u=this.La,h=this.Qa(t,i,l,c),g=this.Qa(t,r,-c,-l),m=this.Na(0,t,!0)-this.Na(e,t,!0);u.length>0&&u[0].Pa-h.Pa<m/2&&u.shift(),u.length>0&&g.Pa-u[u.length-1].Pa<m/2&&u.pop(),u.unshift(h),u.push(g)}Qa(t,e,i,r){const l=(i+r)/2,c=this.Oa(e+i,t),u=this.Oa(e+r,t),h=Math.min(c,u),g=Math.max(c,u),m=Math.max(.1,this.za(g,h)),b=this.Oa(e+l,t),y=b-b%m,v=this.Na(y,t,!0);return{Za:this.Yi.Ga(y),Pa:v,Ka:y}}qa(t,e,i){let r=lr(this.Yi.Qe());return this.Yi.Ja()&&(r=Oa(r,this.Yi.tl())),r.$e()-e<t&&i-r.qe()<t}}function tS(n){return n.slice().sort(((t,e)=>ft(t.hs())-ft(e.hs())))}var Zv;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(Zv||(Zv={}));const Kv=new Gw,Jv=new Nh(100,1);class mA{constructor(t,e,i,r,l){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new $e,this.ul=new $e,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=Jv,this.wl=p0(null),this.gl=t,this.Ps=e,this.Ml=i,this.bl=r,this.Sl=l,this.xl=new Qv(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(hi(this.Ps,t),this.wa(),t.mode!==void 0&&this.yl({ie:t.mode}),t.scaleMargins!==void 0){const e=Qn(t.scaleMargins.top),i=Qn(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return this.Ps.mode===1}Le(){return this.Ps.mode===2}Dl(){return this.Ps.mode===3}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let i=null;t.sn!==void 0&&(this.Ps.autoScale=t.sn),t.ie!==void 0&&(this.Ps.mode=t.ie,t.ie!==2&&t.ie!==3||(this.Ps.autoScale=!0),this.el.rl=!1),e.ie===1&&t.ie!==e.ie&&((function(l,c){if(l===null)return!1;const u=yo(l.$e(),c),h=yo(l.qe(),c);return isFinite(u)&&isFinite(h)})(this.Ge,this.wl)?(i=Oa(this.Ge,this.wl),i!==null&&this.Bl(i)):this.Ps.autoScale=!0),t.ie===1&&t.ie!==e.ie&&(i=eo(this.Ge,this.wl),i!==null&&this.Bl(i));const r=e.ie!==this.Ps.mode;r&&(e.ie===2||this.Le())&&this.wa(),r&&(e.ie===3||this.Dl())&&this.wa(),t.Vl!==void 0&&e.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(e,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;const t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,e){const i=this.Ge;(e||i===null&&t!==null||i!==null&&!i.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(t!==null)}Ki(){return this.Nl(),this.il===0||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=Ra(t,e):this.Dl()&&(t=bo(t,e)),this.Pl(t,e)}Ul(t,e,i){this.Nl();const r=this.Ol(),l=ft(this.Qe()),c=l.$e(),u=l.qe(),h=this.zl()-1,g=this.Vl(),m=h/(u-c),b=i===void 0?0:i.from,y=i===void 0?t.length:i.to,v=this.$l();for(let k=b;k<y;k++){const S=t[k],_=S.gt;if(isNaN(_))continue;let M=_;v!==null&&(M=v(S.gt,e));const E=r+m*(M-c),A=g?E:this.il-1-E;S.ut=A}}ql(t,e,i){this.Nl();const r=this.Ol(),l=ft(this.Qe()),c=l.$e(),u=l.qe(),h=this.zl()-1,g=this.Vl(),m=h/(u-c),b=i===void 0?0:i.from,y=i===void 0?t.length:i.to,v=this.$l();for(let k=b;k<y;k++){const S=t[k];let _=S.qh,M=S.Yh,E=S.jh,A=S.Kh;v!==null&&(_=v(S.qh,e),M=v(S.Yh,e),E=v(S.jh,e),A=v(S.Kh,e));let U=r+m*(_-c),R=g?U:this.il-1-U;S.Yl=R,U=r+m*(M-c),R=g?U:this.il-1-U,S.jl=R,U=r+m*(E-c),R=g?U:this.il-1-U,S.Kl=R,U=r+m*(A-c),R=g?U:this.il-1-U,S.Xl=R}}Ts(t,e){const i=this.Cl(t,e);return this.Zl(i,e)}Zl(t,e){let i=t;return this.Le()?i=(function(r,l){return l<0&&(r=-r),r/100*l+l})(i,e):this.Dl()&&(i=(function(r,l){return r-=100,l<0&&(r=-r),r/100*l+l})(i,e)),i}Ma(){return this.cl}Dt(){return this.fl||(this.fl=tS(this.cl)),this.fl}Gl(t){this.cl.indexOf(t)===-1&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){const e=this.cl.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.cl.splice(e,1),this.cl.length===0&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(const e of this.cl){const i=e.zt();i!==null&&(t===null||i.Hh<t.Hh)&&(t=i)}return t===null?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){const t=this.zt()===null;if(this.pl!==null&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();const e=this.xl.Da();return this.pl={Da:e,io:t},this._l.p(),e}so(){return this._l}no(t){this.Le()||this.Dl()||this.vl===null&&this.nl===null&&(this.Ki()||(this.vl=this.il-t,this.nl=ft(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||this.vl===null)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let e=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1));const i=ft(this.nl).Ue();e=Math.max(e,.1),i.je(e),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||this.ml===null&&this.nl===null&&(this.Ki()||(this.ml=t,this.nl=ft(this.Qe()).Ue()))}ao(t){if(this.Tl()||this.ml===null)return;const e=ft(this.Qe()).Ye()/(this.zl()-1);let i=t-this.ml;this.Vl()&&(i*=-1);const r=i*e,l=ft(this.nl).Ue();l.Ke(r),this.Bl(l,!0),this.pl=null}lo(){this.Tl()||this.ml!==null&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,e){switch(this.Ps.mode){case 2:return this.oo(Ra(t,e));case 3:return this.ea().format(bo(t,e));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,ft(this.dl).ea())}Vh(t,e){return t=Ra(t,e),this.oo(t,Kv)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach((t=>t.Ns()))}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;this.dl=null;for(const i of this.cl)i.hs()<t&&(t=i.hs(),this.dl=i);let e=100;this.dl!==null&&(e=Math.round(this.dl.nh())),this.ra=Jv,this.Le()?(this.ra=Kv,e=100):this.Dl()?(this.ra=new Nh(100,1),e=100):this.dl!==null&&(this.ra=this.dl.ea()),this.xl=new Qv(this,e,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return this.dl===null||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,e){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?ah(t,this.wl):t;const i=ft(this.Qe()),r=this.Ol()+(this.zl()-1)*(t-i.$e())/i.Ye();return this.Hl(r)}Cl(t,e){if(this.Nl(),this.Ki())return 0;const i=this.Hl(t),r=ft(this.Qe()),l=r.$e()+r.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?yo(l,this.wl):l}Il(){this.pl=null,this.xl.Wa()}po(){if(this.Rl()&&!this.Tl())return;const t=this.el.hl;if(t===null)return;let e=null;const i=this.co();let r=0,l=0;for(const h of i){if(!h.Vt())continue;const g=h.zt();if(g===null)continue;const m=h.Mh(t.Uh(),t.bi());let b=m&&m.Qe();if(b!==null){switch(this.Ps.mode){case 1:b=eo(b,this.wl);break;case 2:b=fA(b,g.Wt);break;case 3:b=gA(b,g.Wt)}if(e=e===null?b:e.vn(ft(b)),m!==null){const y=m.tr();y!==null&&(r=Math.max(r,y.above),l=Math.max(l,y.below))}}}if(this.$a()&&(r=Math.max(r,this.Ya()),l=Math.max(l,this.Ya())),r===this.ll&&l===this.ol||(this.ll=r,this.ol=l,this.pl=null,this.kl()),e!==null){if(e.$e()===e.qe()){const h=5*this.fo();this.Ja()&&(e=Oa(e,this.wl)),e=new Bn(e.$e()-h,e.qe()+h),this.Ja()&&(e=eo(e,this.wl))}if(this.Ja()){const h=Oa(e,this.wl),g=p0(h);if(c=g,u=this.wl,c.Va!==u.Va||c.Ba!==u.Ba){const m=this.nl!==null?Oa(this.nl,this.wl):null;this.wl=g,e=eo(h,g),m!==null&&(this.nl=eo(m,g))}}this.Bl(e)}else this.Ge===null&&(this.Bl(new Bn(-.5,.5)),this.wl=p0(null));var c,u}$l(){return this.Le()?Ra:this.Dl()?bo:this.Ja()?t=>ah(t,this.wl):null}vo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.format(t)):e(t)}mo(t,e,i){return e===void 0?(i===void 0&&(i=this.ea()),i.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.bl.priceFormatter,e)}uo(t,e){const i=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(i?r=>r.map(i):void 0),e)}oo(t,e){return this.vo(t,this.bl.percentageFormatter,e)}_o(t,e){const i=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(i?r=>r.map(i):void 0),e)}}function t1(n){return n instanceof _h}class e1{constructor(t,e){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new $e,this.yh=[],this.uh=t,this.ts=e,this.Co=new dA(this);const i=e.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const i of e){const r=ft(i[0].Ft());r.hr(t.overlayPriceScales),t.localization&&r.wa()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?Qn(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach((t=>{t.m&&t.m()})),this.yh=this.yh.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach((e=>{if(this.Un(e)){const i=e.Ft();i!==null&&i.Al(t)}})),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(t1)}Ma(){return this.cl}Un(t){const e=t.Ft();return e===null||this.Po!==e&&this.ko!==e}Gl(t,e,i){this.No(t,e,i?t.hs():this.cl.length)}Ql(t,e){const i=this.cl.indexOf(t);wn(i!==-1,"removeDataSource: invalid data source"),this.cl.splice(i,1),e||this.cl.forEach(((c,u)=>c.ls(u)));const r=ft(t.Ft()).ma();if(this.wo.has(r)){const c=Qn(this.wo.get(r)),u=c.indexOf(t);u!==-1&&(c.splice(u,1),c.length===0&&this.wo.delete(r))}const l=t.Ft();l&&l.Ma().indexOf(t)>=0&&(l.Ql(t),this.Fo(l)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,e){t.no(e)}$o(t,e){t.eo(e),this.Ao()}qo(t){t.ro()}Yo(t,e){t.ho(e)}jo(t,e){t.ao(e),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach((t=>{t.Ns()}))}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&this.ko.Ma().length!==0?t=this.ko:this.ts.N().leftPriceScale.visible&&this.Po.Ma().length!==0?t=this.Po:this.cl.length!==0&&(t=this.cl[0].Ft()),t===null&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){t!==null&&t.Tl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),e!==null&&t.do(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach((t=>{this.Un(t)&&this.Fo(t.Ft())})),this.Ao(),this.ts.ar()}Dt(){return this.fl===null&&(this.fl=tS(this.cl)),this.fl}Qo(t,e){e=xo(e,0,this.cl.length-1);const i=this.cl.indexOf(t);wn(i!==-1,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(e,0,t),this.cl.forEach(((r,l)=>r.ls(l))),this.fl=null;for(const r of[this.Po,this.ko])r.Jl(),r.wa();this.ts.ar()}Bt(){return this.Dt().filter(t1)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new JD(t))}ua(t){this.yh=this.yh.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,e){return this.yh.map((i=>i.jn(t,e))).filter((i=>i!==null))}Xo(t){const e=t.co();if(e&&e.length>0&&!this.uh.Ki()){const i=this.uh.Pe();i!==null&&t.do(i)}t.Ns()}No(t,e,i){let r=this.Do(e);if(r===null&&(r=this.yo(e,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,t),!kh(e)){const l=this.wo.get(e)||[];l.push(t),this.wo.set(e,l)}t.ls(i),r.Gl(t),t._s(r),this.Fo(r),this.fl=null}To(t,e,i){e.ie!==i.ie&&this.Xo(t)}yo(t,e){const i={visible:!0,autoScale:!0,...Ss(e)},r=new mA(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return r.Al(this.$t()),r}}function ju(n){return{n_:n.n_,e_:{Kn:n.r_.externalId},h_:n.r_.cursorStyle}}function pA(n,t,e,i){for(const r of n){const l=r.Tt(i);if(l!==null&&l.jn){const c=l.jn(t,e);if(c!==null)return{a_:r,e_:c}}}return null}function xA(n){return n.Fs!==void 0}function eS(n,t,e){const i=[n,...n.Dt()],r=(function(l,c,u){let h,g;for(const y of l){const v=y.sa?.(c,u)??[];for(const k of v)m=k.zOrder,b=h?.zOrder,(!b||m==="top"&&b!=="top"||m==="normal"&&b==="bottom")&&(h=k,g=y)}var m,b;return h&&g?{r_:h,n_:g}:null})(i,t,e);if(r?.r_.zOrder==="top")return ju(r);for(const l of i){if(r&&r.n_===l&&r.r_.zOrder!=="bottom"&&!r.r_.isBackground)return ju(r);if(xA(l)){const c=pA(l.Fs(n),t,e,n);if(c!==null)return{n_:l,a_:c.a_,e_:c.e_}}if(r&&r.n_===l&&r.r_.zOrder!=="bottom"&&r.r_.isBackground)return ju(r)}return r?.r_?ju(r):null}class bA{constructor(t,e,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=i}__(t){const e=t.time,i=this.o_.cacheKey(e),r=this.Dn.get(i);if(r!==void 0)return r.u_;if(this.yn===this.Vn){const c=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(Qn(c)),this.Tn++,this.yn--}const l=this.l_(t);return this.Dn.set(i,{u_:l,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,l}}class vo{constructor(t,e){wn(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function n1(n,t){return n===null||t===null?n===t:n.He(t)}class yA{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let i=e;i<t.length;++i){const r=t[i];let l=this.p_.get(r.timeWeight);l===void 0&&(l=[],this.p_.set(r.timeWeight,l)),l.push({index:i,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}M_(t,e,i,r,l){const c=Math.ceil(e/t);return this.Dn!==null&&this.Dn.b_===c&&l===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:l,x_:i,Da:this.C_(c,i,r),b_:c}),this.Dn.Da}g_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach(((i,r)=>{t<=i[0].index?e.push(r):i.splice($a(i,t,(l=>l.index<t)),1/0)}));for(const i of e)this.p_.delete(i)}C_(t,e,i){let r=[];const l=c=>!e||i.has(c.index);for(const c of Array.from(this.p_.keys()).sort(((u,h)=>h-u))){if(!this.p_.get(c))continue;const u=r;r=[];const h=u.length;let g=0;const m=Qn(this.p_.get(c)),b=m.length;let y=1/0,v=-1/0;for(let k=0;k<b;k++){const S=m[k],_=S.index;for(;g<h;){const M=u[g],E=M.index;if(!(E<_&&l(M))){y=E;break}g++,r.push(M),v=E,y=1/0}if(y-_>=t&&_-v>=t&&l(S))r.push(S),v=_;else if(this.v_)return u}for(;g<h;g++)l(u[g])&&r.push(u[g])}return r}}class Ha{constructor(t){this.P_=t}y_(){return this.P_===null?null:new vo(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new Ha(null)}}function vA(n,t){return n.weight>t.weight?n:t}class wA{constructor(t,e,i,r){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new yA,this.B_=new Map,this.I_=Ha.T_(),this.E_=!0,this.A_=new $e,this.z_=new $e,this.L_=new $e,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.bl=i,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.Y_(e),this.o_=r,this.j_(),this.V_.m_(e.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){hi(this.bl,t),this.Z_(),this.j_()}hr(t,e){hi(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),t.barSpacing!==void 0&&this.ts.dn(t.barSpacing),t.rightOffset!==void 0&&this.ts.fn(t.rightOffset),this.Y_(t),t.minBarSpacing===void 0&&t.maxBarSpacing===void 0||this.ts.dn(t.barSpacing??this.q_),t.ignoreWhitespaceIndices!==void 0&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const i=$a(this.D_,this.o_.key(t),((r,l)=>this.o_.key(r.time)<l));return this.o_.key(t)<this.o_.key(this.D_[i].time)?e?i:null:i}Ki(){return this.Mo===0||this.D_.length===0||this.R_===null}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){const t=this.Pe();if(t===null)return null;const e={from:t.Uh(),to:t.bi()};return this.eu(e)}eu(t){const e=Math.round(t.from),i=Math.round(t.to),r=ft(this.ru()),l=ft(this.hu());return{from:ft(this.ss(Math.max(r,e))),to:ft(this.ss(Math.min(l,i)))}}au(t){return{from:ft(this.Q_(t.from,!0)),to:ft(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;const e=this.su(),i=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&i!==0){const r=this.q_*t/i;this.q_=r}if(this.Ps.fixLeftEdge&&e!==null&&e.Uh()<=0){const r=i-t;this.U_-=Math.round(r/this.q_)+1,this.E_=!0}this.lu(),this.ou()}qt(t){if(this.Ki()||!Ao(t))return 0;const e=this._u()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}uu(t,e){const i=this._u(),r=e===void 0?0:e.from,l=e===void 0?t.length:e.to;for(let c=r;c<l;c++){const u=t[c].wt,h=i+this.U_-u,g=this.Mo-(h+.5)*this.q_-1;t[c]._t=g}}cu(t,e){const i=Math.ceil(this.du(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){const e=this.q_;if(this.wu(t),this.Ps.rightOffsetPixels!==void 0&&e!==0){const i=this.U_*e/this.q_;this.U_=i}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(this.N_!==null)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),r=ft(this.Pe()),l=Math.max(r.Uh(),r.Uh()-i),c=Math.max(r.bi(),r.bi()-i),u=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),h=this.ru()+i,g=this.hu()-i,m=this.Mu(),b=this.Ps.fixLeftEdge||m,y=this.Ps.fixRightEdge||m;let v=0;for(const k of u){if(!(l<=k.index&&k.index<=c))continue;let S;v<this.H_.length?(S=this.H_[v],S.coord=this.qt(k.index),S.label=this.bu(k),S.weight=k.weight):(S={needAlignCoordinate:!1,coord:this.qt(k.index),label:this.bu(k),weight:k.weight},this.H_.push(S)),this.q_>e/2&&!m?S.needAlignCoordinate=!1:S.needAlignCoordinate=b&&k.index<=h||y&&k.index>=g,v++}return this.H_.length=v,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,e){const i=this.du(t),r=this.mu(),l=r+e*(r/10);this.dn(l),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(t)))}no(t){this.ml&&this.lo(),this.vl===null&&this.O_===null&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(this.O_===null)return;const e=xo(this.Mo-t,0,this.Mo),i=xo(this.Mo-ft(this.vl),0,this.Mo);e!==0&&i!==0&&this.dn(this.O_.mu*e/i)}ro(){this.vl!==null&&(this.vl=null,this.yu())}ho(t){this.ml===null&&this.O_===null&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(this.ml===null)return;const e=(this.ml-t)/this.mu();this.U_=ft(this.O_).gu+e,this.E_=!0,this.ou()}lo(){this.ml!==null&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,r=performance.now();this.ts._n({Ru:l=>(l-r)/e>=1,Du:l=>{const c=(l-r)/e;return c>=1?t:i+(t-i)*c}})}yt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,e){const i=t.f_(),r=e&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-r)/i),this.U_=t.bi()-this._u(),e&&(this.U_=r?r/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){const t=this.ru(),e=this.hu();t!==null&&e!==null&&this.Eu(new vo(t,e),!0)}zu(t){const e=new vo(t.from,t.to);this.Eu(e)}ns(t){return this.bl.timeFormatter!==void 0?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const i of e.va())this.F_.set(i,!0);this.W_++}Mu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}ru(){return this.D_.length===0?null:0}hu(){return this.D_.length===0?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){const e=this.Lu(t),i=this._u()+this.U_-e;return Math.round(1e6*i)/1e6}wu(t){const e=this.q_;this.q_=t,this.lu(),e!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(Ha.T_());const t=this._u(),e=this.Mo/this.q_,i=this.U_+t,r=new vo(i-e+1,i);this.Nu(new Ha(r))}lu(){const t=xo(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.D_.length!==0?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){const t=this.Hu();t!==null&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Uu();this.U_>e&&(this.U_=e,this.E_=!0)}Hu(){const t=this.ru(),e=this.R_;return t===null||e===null?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let e=this.B_.get(t.weight);return e===void 0&&(e=new bA((i=>this.$u(i)),this.o_),this.B_.set(t.weight,e)),e.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){const e=this.I_;this.I_=t,n1(e.y_(),this.I_.y_())||this.A_.p(),n1(e.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;const t=this.ru();if(t===null)return;const e=this.Pe();if(e===null)return;const i=e.Uh()-t;if(i<0){const r=this.U_-i-1;this.fn(r)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){const e=(function*(r){const l=Math.round(r),c=l<r;let u=1;for(;;)c?(yield l+u,yield l-u):(yield l-u,yield l+u),u++})(t),i=this.hu();for(;i;){const r=e.next().value;if(this.F_.get(r))return r;if(r<0||r>i)break}return t}Y_(t){if(t.rightOffsetPixels!==void 0){const e=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(e)}}}var i1,s1,r1,a1,l1;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(i1||(i1={}));class SA{constructor(t,e,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new $e,this.Xu=new $e,this.Zu=null,this.Gu=t,this.Ps=e,this.o_=i,this.Sl=new SD(this.Ps.layout.colorParsers),this.Ju=new wD(this),this.uh=new wA(this,e.timeScale,this.Ps.localization,i),this.Ct=new RD(this,e.crosshair),this.Qu=new cA(e.crosshair),e.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(vn.gn())}ar(){this.rc(vn.wn())}Zh(){this.rc(new vn(1))}Eh(t){const e=this.hc(t);this.rc(e)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;const e=this.ju;this.ju=t,e!==null&&this.Eh(e.n_),t!==null&&t.n_!==e?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){hi(this.Ps,t),this.qu.forEach((e=>e.Ro(t))),t.timeScale!==void 0&&this.uh.hr(t.timeScale),t.localization!==void 0&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,e,i=0){const r=this.qu[i];if(r===void 0)return;if(t==="left")return hi(this.Ps,{leftPriceScale:e}),r.Ro({leftPriceScale:e}),this.Ku.p(),void this.Ih();if(t==="right")return hi(this.Ps,{rightPriceScale:e}),r.Ro({rightPriceScale:e}),this.Ku.p(),void this.Ih();const l=this._c(t,i);l!==null&&(l.Ft.hr(e),this.Ku.p())}_c(t,e){const i=this.qu[e];if(i===void 0)return null;const r=i.Do(t);return r!==null?{Us:i,Ft:r}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,e){t.Al(e),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach((e=>e.Eo(t))),this.vu()}fc(t){this.qu.length!==1&&(wn(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,e){if(this.qu.length<2)return;wn(t>=0&&t<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu.reduce(((b,y)=>b+y.Bo()),0),l=this.qu.reduce(((b,y)=>b+y.$t()),0),c=l-30*(this.qu.length-1);e=Math.min(c,Math.max(30,e));const u=r/l,h=i.$t();i.Io(e*u);let g=e-h,m=this.qu.length-1;for(const b of this.qu)if(b!==i){const y=Math.min(c,Math.max(30,b.$t()-g/m));g-=b.$t()-y,m-=1;const v=y*u;b.Io(v)}this.Ih()}mc(t,e){wn(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index");const i=this.qu[t],r=this.qu[e];this.qu[t]=r,this.qu[e]=i,this.Ih()}wc(t,e){if(wn(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index"),t===e)return;const[i]=this.qu.splice(t,1);this.qu.splice(e,0,i),this.Ih()}Uo(t,e,i){t.Uo(e,i)}$o(t,e,i){t.$o(e,i),this.Ah(),this.rc(this.gc(t,2))}qo(t,e){t.qo(e),this.rc(this.gc(t,2))}Yo(t,e,i){e.Tl()||t.Yo(e,i)}jo(t,e,i){e.Tl()||(t.jo(e,i),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,e){e.Tl()||(t.Ko(e),this.rc(this.gc(t,2)))}Zo(t,e){t.Zo(e),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,e){const i=this.Et();if(i.Ki()||e===0)return;const r=i.Qi();t=Math.max(1,Math.min(t,r)),i.Cu(t,e),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,e,i,r,l){this.Ct.Vs(t,e);let c=NaN,u=this.uh.cu(t,!0);const h=this.uh.Pe();h!==null&&(u=Math.min(Math.max(h.Uh(),u),h.bi()));const g=r.ks(),m=g.zt();if(m!==null&&(c=g.Ts(e,m)),c=this.Qu.ga(c,u,r),this.Ct.As(u,c,r),this.Zh(),!l){const b=eS(r,t,e);this.lc(b&&{n_:b.n_,e_:b.e_,h_:b.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:e},i)}}Rc(t,e,i){const r=i.ks(),l=r.zt(),c=r.Nt(t,ft(l)),u=this.uh.Q_(e,!0),h=this.uh.qt(ft(u));this.Tc(h,c,null,i,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){const t=this.Ct.Us();if(t!==null){const e=this.Ct.Is(),i=this.Ct.Es();this.Tc(e,i,null,t)}this.Ct.Ns()}Vc(t,e,i){const r=this.uh.Rs(0);e!==void 0&&i!==void 0&&this.uh.yt(e,i);const l=this.uh.Rs(0),c=this.uh._u(),u=this.uh.Pe();if(u!==null&&r!==null&&l!==null){const h=u.Te(c),g=this.o_.key(r)>this.o_.key(l),m=t!==null&&t>c&&!g,b=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,y=h&&(i!==void 0||b)&&this.uh.N().shiftVisibleRangeOnNewBar;if(m&&!y){const v=t-c;this.uh.fn(this.uh.gu()-v)}}this.uh.xu(t)}Lh(t){t!==null&&t.Jo()}Hn(t){if((function(i){return i instanceof e1})(t))return t;const e=this.qu.find((i=>i.Dt().includes(t)));return e===void 0?null:e}vu(){this.qu.forEach((t=>t.Jo())),this.Ah()}m(){this.qu.forEach((t=>t.m())),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,e){const i=this.tc(e);this.Ec(t,i),this.Yu.push(t),this.Yu.length===1?this.Ih():this.ar()}Ac(t){const e=this.Hn(t),i=this.Yu.indexOf(t);wn(i!==-1,"Series not found");const r=ft(e);this.Yu.splice(i,1),r.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(r)}Bh(t,e){const i=ft(this.Hn(t));i.Ql(t,!0),i.Gl(t,e,!0)}Au(){const t=vn.wn();t.rn(),this.rc(t)}Lc(t){const e=vn.wn();e.ln(t),this.rc(e)}cn(){const t=vn.wn();t.cn(),this.rc(t)}dn(t){const e=vn.wn();e.dn(t),this.rc(e)}fn(t){const e=vn.wn();e.fn(t),this.rc(e)}_n(t){const e=vn.wn();e._n(t),this.rc(e)}hn(){const t=vn.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,e){if(wn(e>=0,"Index should be greater or equal to 0"),e===this.Fc(t))return;const i=ft(this.Hn(t));i.Ql(t);const r=this.tc(e);this.Ec(t,r),i.Ma().length===0&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){const e=this.ec,i=this.sc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Zu===null||this.Zu.mr!==i||this.Zu.wr!==e)this.Zu={mr:i,wr:e,Hc:new Map};else{const l=this.Zu.Hc.get(t);if(l!==void 0)return l}const r=this.Sl.tt(i,e,t/100);return this.Zu.Hc.set(t,r),r}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){const e=new e1(this.uh,this);this.qu.push(e);const i=t??this.qu.length-1,r=vn.gn();return r.Qs(i,{tn:0,sn:!0}),this.rc(r),e}tc(t){return wn(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex((e=>e.Oo().includes(t)))}gc(t,e){const i=new vn(e);if(t!==null){const r=this.qu.indexOf(t);i.Qs(r,{tn:e})}return i}hc(t,e){return e===void 0&&(e=2),this.gc(this.Hn(t),e)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach((e=>e.i_().lr().yt()))}Ec(t,e){const i=t.N().priceScaleId,r=i!==void 0?i:this.Oc();e.Gl(t,r),kh(r)||t.hr(t.N())}nc(t){const e=this.Ps.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}zc(t){!t.Lo()&&t.Ma().length===0&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function nS(n){if(n>=1)return 0;let t=0;for(;t<8;t++){const e=Math.round(n);if(Math.abs(e-n)<1e-8)return t;n*=10}return t}function Z0(n){return!Wa(n)&&!$o(n)}function iS(n){return Wa(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(s1||(s1={})),(function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"})(r1||(r1={})),(function(n){n.Solid="solid",n.VerticalGradient="gradient"})(a1||(a1={})),(function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"})(l1||(l1={}));const o1=n=>n.getUTCFullYear();function kA(n,t,e){return t.replace(/yyyy/g,(i=>ks(o1(i),4))(n)).replace(/yy/g,(i=>ks(o1(i)%100,2))(n)).replace(/MMMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,e)).replace(/MMM/g,((i,r)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,e)).replace(/MM/g,(i=>ks((r=>r.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>ks((r=>r.getUTCDate())(i),2))(n))}class sS{constructor(t="yyyy-MM-dd",e="default"){this.Yc=t,this.jc=e}__(t){return kA(t,this.Yc,this.jc)}}class NA{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",ks(t.getUTCHours(),2)).replace("%m",ks(t.getUTCMinutes(),2)).replace("%s",ks(t.getUTCSeconds(),2))}}const _A={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class jA{constructor(t={}){const e={..._A,...t};this.Qc=new sS(e.Xc,e.Jc),this.td=new NA(e.Zc),this.sd=e.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function Mu(n){return 60*n*60*1e3}function b0(n){return 60*n*1e3}const Cu=[{nd:(c1=1,1e3*c1),ed:10},{nd:b0(1),ed:20},{nd:b0(5),ed:21},{nd:b0(30),ed:22},{nd:Mu(1),ed:30},{nd:Mu(3),ed:31},{nd:Mu(6),ed:32},{nd:Mu(12),ed:33}];var c1;function u1(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=Cu.length-1;e>=0;--e)if(Math.floor(t.getTime()/Cu[e].nd)!==Math.floor(n.getTime()/Cu[e].nd))return Cu[e].ed;return 0}function y0(n){let t=n;if($o(n)&&(t=Fg(n)),!Z0(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{rd:Math.round(e.getTime()/1e3),hd:t}}function h1(n){if(!iS(n))throw new Error("time must be of type isUTCTimestamp");return{rd:n}}function Fg(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function d1(n){$o(n.time)&&(n.time=Fg(n.time))}class f1{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?(function(e){e.forEach(d1)})(t):d1(t)}createConverterToInternalObj(t){return ft((function(e){return e.length===0?null:Z0(e[0].time)||$o(e[0].time)?y0:h1})(t))}key(t){return typeof t=="object"&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.hd===void 0?new Date(1e3*e.rd).getTime():new Date(Date.UTC(e.hd.year,e.hd.month-1,e.hd.day)).getTime()}convertHorzItemToInternal(t){return iS(e=t)?h1(e):Z0(e)?y0(e):y0(Fg(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new jA({Xc:e,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new sS(e,t.locale)}formatHorzItem(t){const e=t;return this.ad.__(new Date(1e3*e.rd))}formatTickmark(t,e){const i=(function(l,c,u){switch(l){case 0:case 10:return c?u?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const l=r.tickMarkFormatter(t.originalTime,i,e.locale);if(l!==null)return l}return(function(l,c,u){const h={};switch(c){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const g=l.hd===void 0?new Date(1e3*l.rd):new Date(Date.UTC(l.hd.year,l.hd.month-1,l.hd.day));return new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()).toLocaleString(u,h)})(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(vA,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,r=0){if(i.length===0)return;let l=r===0?null:i[r-1].time.rd,c=l!==null?new Date(1e3*l):null,u=0;for(let h=r;h<i.length;++h){const g=i[h],m=new Date(1e3*g.time.rd);c!==null&&(g.timeWeight=u1(m,c)),u+=g.time.rd-(l||g.time.rd),l=g.time.rd,c=m}if(r===0&&i.length>1){const h=Math.ceil(u/(i.length-1)),g=new Date(1e3*(i[0].time.rd-h));i[0].timeWeight=u1(new Date(1e3*i[0].time.rd),g)}})(t,e)}static ld(t){return hi({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const Ga=typeof window<"u";function g1(){return!!Ga&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function v0(){return!!Ga&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function K0(n){return n+n%2}function MA(n){Ga&&window.chrome!==void 0&&n.addEventListener("mousedown",(t=>{if(t.button===1)return t.preventDefault(),!1}))}class jh{constructor(t,e,i){this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!v0(),this.Ld=r=>{this.Od(r)},this.Nd=r=>{if(this.Fd(r)){const l=this.Wd(r);if(++this.dd,this.fd&&this.dd>1){const{Hd:c}=this.Ud(Gi(r),this.pd);c<30&&!this.Sd&&this.$d(l,this.Yd.qd),this.jd()}}else{const l=this.Wd(r);if(++this.od,this._d&&this.od>1){const{Hd:c}=this.Ud(Gi(r),this.ud);c<5&&!this.bd&&this.Kd(l,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=e,this.Ps=i,this.Jd()}m(){this.xd!==null&&(this.xd(),this.xd=null),this.Cd!==null&&(this.Cd(),this.Cd=null),this.yd!==null&&(this.yd(),this.yd=null),this.kd!==null&&(this.kd(),this.kd=null),this.Td!==null&&(this.Td(),this.Td=null),this.Pd!==null&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();const e=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",e)},this.Gd.addEventListener("mousemove",e),this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){this._d!==null&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}jd(){this.fd!==null&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}if(t){if(this.Id||this.gd!==null||this.Fd(t))return;const e=this.Wd(t);this.Kd(e,this.Yd.nf),this.zd=!0}ef(t){const e=w0(t.changedTouches,ft(this.Ad));if(e===null||(this.Ed=Eu(t),this.Rd!==null)||this.Bd)return;this.Vd=!0;const i=this.Ud(Gi(e),ft(this.gd)),{rf:r,hf:l,Hd:c}=i;if(this.Md||!(c<5)){if(!this.Md){const u=.5*r,h=l>=u&&!this.Ps.af(),g=u>l&&!this.Ps.lf();h||g||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){const u=this.Wd(t,e);this.$d(u,this.Yd._f),Da(t)}}}uf(t){if(t.button!==0)return;const e=this.Ud(Gi(t),ft(this.wd)),{Hd:i}=e;if(i>=5&&(this.bd=!0,this.Zd()),this.bd){const r=this.Wd(t);this.Kd(r,this.Yd.cf)}}Ud(t,e){const i=Math.abs(e._t-t._t),r=Math.abs(e.ut-t.ut);return{rf:i,hf:r,Hd:i+r}}df(t){let e=w0(t.changedTouches,ft(this.Ad));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Ad=null,this.Ed=Eu(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);const i=this.Wd(t,e);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){const{Hd:r}=this.Ud(Gi(e),this.pd);r<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&Da(t));this.dd===0&&Da(t),t.touches.length===0&&this.md&&(this.md=!1,Da(t))}Od(t){if(t.button!==0)return;const e=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),g1()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(e,this.Yd.vf),++this.od,this._d&&this.od>1){const{Hd:i}=this.Ud(Gi(t),this.ud);i<5&&!this.bd&&this.Kd(e,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(e,this.Yd.mf)}Qd(){this.vd!==null&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(this.Ad!==null)return;const e=t.changedTouches[0];this.Ad=e.identifier,this.Ed=Eu(t);const i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=Gi(e),this.Td&&(this.Td(),this.Td=null);{const l=this.ef.bind(this),c=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",l),i.removeEventListener("touchend",c)},i.addEventListener("touchmove",l,{passive:!1}),i.addEventListener("touchend",c,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}const r=this.Wd(t,e);this.$d(r,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=Gi(e))}bf(t){if(t.button!==0)return;const e=this.Gd.ownerDocument.documentElement;g1()&&e.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=Gi(t),this.kd&&(this.kd(),this.kd=null);{const r=this.uf.bind(this),l=this.Od.bind(this);this.kd=()=>{e.removeEventListener("mousemove",r),e.removeEventListener("mouseup",l)},e.addEventListener("mousemove",r),e.addEventListener("mouseup",l)}if(this.Id=!0,this.Fd(t))return;const i=this.Wd(t);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=Gi(t))}Jd(){this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{const t=this.Gd.ownerDocument,e=i=>{this.Yd.xf&&(i.composed&&this.Gd.contains(i.composedPath()[0])||i.target&&this.Gd.contains(i.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",e)},this.xd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}v0()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),MA(this.Gd),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",(()=>{}),{passive:!1})}Pf(){this.Yd.yf===void 0&&this.Yd.kf===void 0&&this.Yd.Tf===void 0||(this.Gd.addEventListener("touchstart",(t=>this.Rf(t.touches)),{passive:!0}),this.Gd.addEventListener("touchmove",(t=>{if(t.touches.length===2&&this.Rd!==null&&this.Yd.kf!==void 0){const e=m1(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,e),Da(t)}}),{passive:!1}),this.Gd.addEventListener("touchend",(t=>{this.Rf(t.touches)})))}Rf(t){t.length===1&&(this.Vd=!1),t.length!==2||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){const e=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Dd=m1(t[0],t[1]),this.Yd.yf!==void 0&&this.Yd.yf(),this.Qd()}Df(){this.Rd!==null&&(this.Rd=null,this.Yd.Tf!==void 0&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;const e=this.Wd(t);this.Kd(e,this.Yd.Bf),this.zd=!v0()}gf(t){const e=w0(t.touches,ft(this.Ad));if(e===null)return;const i=this.Wd(t,e);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:Eu(t)<this.Ed+500}$d(t,e){e&&e.call(this.Yd,t)}Kd(t,e){e&&e.call(this.Yd,t)}Wd(t,e){const i=e||t,r=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-r.left,localY:i.clientY-r.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Af:t.type,zf:i.target,a_:t.view,Lf:()=>{t.type!=="touchstart"&&Da(t)}}}}function m1(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function Da(n){n.cancelable&&n.preventDefault()}function Gi(n){return{_t:n.pageX,ut:n.pageY}}function Eu(n){return n.timeStamp||performance.now()}function w0(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}class CA{constructor(t,e,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[e],this.qf=t.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){this.Nf!==null&&this.Nf.m()}Zf(){return this.Yf}Gf(){return _e({width:this.Uf.Gf().width,height:1})}Jf(){return _e({width:this.Uf.Jf().width,height:1*window.devicePixelRatio})}Qf(t,e,i){const r=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(e,i,r.width,r.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of!==null&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),this.Nf!==null&&(this.Nf.m(),this.Nf=null)))}Xf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.jf.appendChild(t);const i=document.createElement("div"),r=i.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.jf.appendChild(i);const l={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new jh(i,l,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){this.Of!==null&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){this.Of!==null&&this.Wf===null&&(this.Of.ip.style.backgroundColor="")}ep(t){if(this.Of===null)return;const e=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=e/(this.Uf.Gf().height+this.qf.Gf().height),r=30*i;e<=2*r||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:e-r,up:e,cp:i,dp:r},this.Of.tp.style.display="block")}rp(t){const e=this.Wf;if(e===null)return;const i=(t.pageY-e.lp)*e.cp,r=xo(e.op+i,e.dp,e._p);this.Uf.ap().Io(r),this.qf.ap().Io(e.up-r),this.Hf.Qt().Ih()}hp(t){this.Wf!==null&&this.Of!==null&&(this.Wf=null,this.Of.tp.style.display="none")}}function S0(n,t){return n.fp-t.fp}function k0(n,t,e){const i=(n.fp-t.fp)/(n.wt-t.wt);return Math.sign(i)*Math.min(Math.abs(i),e)}class EA{constructor(t,e,i,r){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=e,this.Cp=i,this.Mn=r}Pp(t,e){if(this.pp!==null){if(this.pp.wt===e)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:e,fp:t}}le(t,e){if(this.pp===null||this.vp===null||e-this.pp.wt>50)return;let i=0;const r=k0(this.pp,this.vp,this.xp),l=S0(this.pp,this.vp),c=[r],u=[l];if(i+=l,this.mp!==null){const g=k0(this.vp,this.mp,this.xp);if(Math.sign(g)===Math.sign(r)){const m=S0(this.vp,this.mp);if(c.push(g),u.push(m),i+=m,this.wp!==null){const b=k0(this.mp,this.wp,this.xp);if(Math.sign(b)===Math.sign(r)){const y=S0(this.mp,this.wp);c.push(b),u.push(y),i+=y}}}}let h=0;for(let g=0;g<c.length;++g)h+=u[g]/i*c[g];Math.abs(h)<this.Sp||(this.gp={fp:t,wt:e},this.bp=h,this.Mp=(function(g,m){const b=Math.log(m);return Math.log(1*b/-g)/b})(Math.abs(h),this.Cp))}Du(t){const e=ft(this.gp),i=t-e.wt;return e.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(t){return this.gp===null||this.yp(t)===this.Mp}yp(t){const e=t-ft(this.gp).wt;return Math.min(e,this.Mp)}}class TA{constructor(t,e){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=e,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark",this.Rp==="dark"),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function Gr(n,t){const e=ft(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=mD(e,{options:{allowResizeObserver:!0},transform:(r,l)=>({width:Math.max(r.width,l.width),height:Math.max(r.height,l.height)})});return i.resizeCanvasElement(t),i}function Xr(n){n.width=1,n.height=1,n.getContext("2d")?.clearRect(0,0,1,1)}function J0(n,t,e,i){n.ih&&n.ih(t,e,i)}function Hu(n,t,e,i){n.nt(t,e,i)}function tg(n,t,e,i){const r=n(e,i);for(const l of r){const c=l.Tt(i);c!==null&&t(c)}}function N0(n,t){return e=>(function(i){return i.Ft!==void 0})(e)?(e.Ft()?.ma()??"")!==t?[]:e.ta?.(n)??[]:[]}function p1(n,t,e,i){if(!n.length)return;let r=0;const l=n[0].$t(i,!0);let c=t===1?e/2-(n[0].Fi()-l/2):n[0].Fi()-l/2-e/2;c=Math.max(0,c);for(let u=1;u<n.length;u++){const h=n[u],g=n[u-1],m=g.$t(i,!1),b=h.Fi(),y=g.Fi();if(t===1?b>y-m:b<y+m){const v=y-m*t;h.Wi(v);const k=v-t*m/2;if((t===1?k<0:k>e)&&c>0){const S=t===1?-1-k:k-e,_=Math.min(S,c);for(let M=r;M<n.length;M++)n[M].Wi(n[M].Fi()+t*_);c-=_}}else r=u,c=t===1?y-m-b:b-(y+m)}}class x1{constructor(t,e,i,r){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new ih(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=e,this.Ml=e.layout,this.Ju=i,this.jp=r==="left",this.Kp=N0("normal",r),this.Xp=N0("top",r),this.Zp=N0("bottom",r),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=Gr(this.jf,_e({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const l=this.Gp.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Jp=Gr(this.jf,_e({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const c=this.Jp.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const u={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new jh(this.Jp.canvasElement,u,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xr(this.Gp.canvasElement),this.Gp.dispose(),this.Yi!==null&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){const t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){if(this.Yi===null)return 0;let t=0;const e=this.sv(),i=ft(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));i.save();const r=this.Yi.Da();i.font=this.ev(),r.length>0&&(t=Math.max(this.Fp.Vi(i,r[0].Za),this.Fp.Vi(i,r[r.length-1].Za)));const l=this.rv();for(let g=l.length;g--;){const m=this.Fp.Vi(i,l[g].ri());m>t&&(t=m)}const c=this.Yi.zt();if(c!==null&&this.Op!==null&&(u=this.Ps.crosshair).mode!==2&&u.horzLine.visible&&u.horzLine.labelVisible){const g=this.Yi.Ts(1,c),m=this.Yi.Ts(this.Op.height-2,c);t=Math.max(t,this.Fp.Vi(i,this.Yi.Zi(Math.floor(Math.min(g,m))+.11111111111111,c)),this.Fp.Vi(i,this.Yi.Zi(Math.ceil(Math.max(g,m))-.11111111111111,c)))}var u;i.restore();const h=t||34;return K0(Math.ceil(e.S+e.C+e.B+e.I+5+h))}hv(t){this.Op!==null&&qr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return ft(this.Op).width}_s(t){this.Yi!==t&&(this.Yi!==null&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){const t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,ft(this.Ft()))}lv(t){if(this.Op===null)return;const e={colorSpace:this.Pt.qp().N().layout.colorSpace};if(t!==1){this.ov(),this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l),this.uv(l)})),this.Pt.cv(r,this.Zp),this.dv(r),this.Pt.cv(r,this.Kp),this.fv(r))}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t.drawImage(c,e,i)}}yt(){this.Yi?.Da()}ep(t){if(this.Yi===null||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,e.Uo(i,this.Yi,t.localY)}rp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap(),r=this.Yi;e.$o(i,r,t.localY)}Qp(){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.qp().Qt(),e=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,t.qo(e,i))}hp(t){if(this.Yi===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,e.qo(i,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){this.Yi!==null&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){const t=[],e=this.Yi===null?void 0:this.Yi;return(i=>{for(let r=0;r<i.length;++r){const l=i[r].Ws(this.Pt.ap(),e);for(let c=0;c<l.length;c++)t.push(l[c])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,l=this.Pt.ap().Qt(),c=l.$(),u=l.Wc();c===u?wh(t,0,0,i,r,c):Iw(t,0,0,i,r,c,u)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.Op===null||this.Yi===null||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.sv().S*i));let l;l=this.jp?e.width-r:0,t.fillRect(l,0,r,e.height)}dv(t){if(this.Op===null||this.Yi===null)return;const e=this.Yi.Da(),i=this.Yi.N(),r=this.sv(),l=this.jp?this.Op.width-r.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((({context:c,horizontalPixelRatio:u,verticalPixelRatio:h})=>{c.fillStyle=i.borderColor;const g=Math.max(1,Math.floor(h)),m=Math.floor(.5*h),b=Math.round(r.C*u);c.beginPath();for(const y of e)c.rect(Math.floor(l*u),Math.round(y.Pa*h)-m,b,g);c.fill()})),t.useMediaCoordinateSpace((({context:c})=>{c.font=this.ev(),c.fillStyle=i.textColor??this.Ml.textColor,c.textAlign=this.jp?"right":"left",c.textBaseline="middle";const u=this.jp?Math.round(l-r.B):Math.round(l+r.C+r.B),h=e.map((g=>this.Fp.Di(c,g.Za)));for(let g=e.length;g--;){const m=e[g];c.fillText(m.Za,u,m.Pa+h[g])}}))}ov(){if(this.Op===null||this.Yi===null)return;let t=this.Op.height/2;const e=[],i=this.Yi.Dt().slice(),r=this.Pt.ap(),l=this.sv();this.Yi===r.$n()&&this.Pt.ap().Dt().forEach((h=>{r.Un(h)&&i.push(h)}));const c=this.Yi.Ma()[0],u=this.Yi;i.forEach((h=>{const g=h.Ws(r,u);g.forEach((m=>{m.Wi(null),m.Hi()&&e.push(m)})),c===h&&g.length>0&&(t=g[0].Ii())})),e.forEach((h=>h.Wi(h.Ii()))),this.Yi.N().alignLabels&&this.mv(e,l,t)}mv(t,e,i){if(this.Op===null)return;const r=t.filter((c=>c.Ii()<=i)),l=t.filter((c=>c.Ii()>i));r.sort(((c,u)=>u.Ii()-c.Ii())),r.length&&l.length&&l.push(r[0]),l.sort(((c,u)=>c.Ii()-u.Ii()));for(const c of t){const u=Math.floor(c.$t(e)/2),h=c.Ii();h>-u&&h<u&&c.Wi(u),h>this.Op.height-u&&h<this.Op.height+u&&c.Wi(this.Op.height-u)}p1(r,1,this.Op.height,e),p1(l,-1,this.Op.height,e)}fv(t){if(this.Op===null)return;const e=this.rv(),i=this.sv(),r=this.jp?"right":"left";e.forEach((l=>{l.Ui()&&l.Tt(ft(this.Yi)).nt(t,i,this.Fp,r)}))}pv(t){if(this.Op===null||this.Yi===null)return;const e=this.Pt.qp().Qt(),i=[],r=this.Pt.ap(),l=e.uc().Ws(r,this.Yi);l.length&&i.push(l);const c=this.sv(),u=this.jp?"right":"left";i.forEach((h=>{h.forEach((g=>{g.Tt(ft(this.Yi)).nt(t,c,this.Fp,u)}))}))}vv(t){this.jf.style.cursor=t===1?"ns-resize":"default"}_l(){const t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return nh(this.Ml.fontSize,this.Ml.fontFamily)}}function DA(n,t){return n.Jh?.(t)??[]}function b1(n,t){return n.Fs?.(t)??[]}function y1(n,t){return n.us?.(t)??[]}function AA(n,t){return n.Xh?.(t)??[]}class Yg{constructor(t,e){this.Op=_e({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new $e,this.Cv=new $e,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Yp=()=>{this.Up||this.Vv===null||this.ts().ar()},this.Vp=t,this.Vv=e,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=Gr(i,_e({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=Gr(i,_e({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const l=this.Jp.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new jh(this.Jp.canvasElement,this,{af:()=>this.kv===null&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>this.kv===null&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.wv!==null&&this.wv.m(),this.gv!==null&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xr(this.Gp.canvasElement),this.Gp.dispose(),this.Vv!==null&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return ft(this.Vv)}Lv(t){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=t,this.Vv!==null&&this.Vv.t_().i(Yg.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new TA(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(this.Vv!==null&&(this.Ov(),this.ts().js().length!==0)){if(this.wv!==null){const t=this.Vv.Wo();this.wv._s(ft(t))}if(this.gv!==null){const t=this.Vv.Ho();this.gv._s(ft(t))}}}Nv(){this.wv!==null&&this.wv.yt(),this.gv!==null&&this.gv.yt()}Bo(){return this.Vv!==null?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();const e=t.localX,i=t.localY;this.Wv(e,i,t)}mf(t){this.Vv!==null&&(this.Fv(),this.Uv(t))}Xd(t){this.Vv!==null&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){this.Vv!==null&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){this.Vv!==null&&this.Uv(t)}If(t){if(this.yv=!0,this.kv===null){const e={x:t.localX,y:t.localY};this.jv(e,e,t)}}Bf(t){this.Vv!==null&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,e){if(!this.Vp.N().handleScale.pinch)return;const i=5*(e-this.Pv);this.Pv=e,this.ts().bc(t._t,i)}Mf(t){this.yv=!1,this.Tv=this.kv!==null,this.Hv();const e=this.ts().uc();this.kv!==null&&e.Vt()&&(this.Rv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(this.Vv===null)return;const e=t.localX,i=t.localY;if(this.kv===null)this.qv(t);else{this.Tv=!1;const r=ft(this.Rv),l=r.x+(e-this.kv.x),c=r.y+(i-this.kv.y);this.Wv(l,c,t)}}ff(t){this.qp().N().trackingMode.exitMode===0&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,e){const i=this.Vv;return i===null?null:eS(i,t,e)}Jv(t,e){ft(e==="left"?this.wv:this.gv).hv(_e({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){qr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){const t=ft(this.Vv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.Ma())if(t.Un(e)){const i=e.Ft();i!==null&&t.Fo(i),e.Ns()}for(const e of t.s_())e.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t!==null&&t.drawImage(c,e,i)}}lv(t){if(t===0||this.Vv===null)return;t>1&&this.Qv(),this.wv!==null&&this.wv.lv(t),this.gv!==null&&this.gv.lv(t);const e={colorSpace:this.Vp.N().layout.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l)})),this.Vv&&(this.tm(r,DA),this.im(r),this.tm(r,b1),this.tm(r,y1)))}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.sm(i),this.tm(i,AA),this.tm(i,y1))}nm(){return this.wv}rm(){return this.gv}cv(t,e){this.tm(t,e)}Bv(){this.Vv!==null&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,e){const i=e.localX,r=e.localY;t.v()&&t.p(this.ts().Et().cu(i),{x:i,y:r},e)}_v({context:t,bitmapSize:e}){const{width:i,height:r}=e,l=this.ts(),c=l.$(),u=l.Wc();c===u?wh(t,0,0,i,r,u):Iw(t,0,0,i,r,c,u)}im(t){const e=ft(this.Vv),i=e.i_().lr().Tt(e);i!==null&&i.nt(t,!1)}sm(t){this.hm(t,b1,Hu,this.ts().uc())}tm(t,e){const i=ft(this.Vv),r=i.Dt(),l=i.s_();for(const c of l)this.hm(t,e,J0,c);for(const c of r)this.hm(t,e,J0,c);for(const c of l)this.hm(t,e,Hu,c);for(const c of r)this.hm(t,e,Hu,c)}hm(t,e,i,r){const l=ft(this.Vv),c=l.Qt().ac(),u=c!==null&&c.n_===r,h=c!==null&&u&&c.e_!==void 0?c.e_.Xn:void 0;tg(e,(g=>i(g,t,u,h)),r,l)}Ov(){if(this.Vv===null)return;const t=this.Vp,e=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;e||this.wv===null||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||this.gv===null||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);const r=t.Qt().Bc();e&&this.wv===null&&(this.wv=new x1(this,t.N(),r,"left"),this.Ev.appendChild(this.wv.Zf())),i&&this.gv===null&&(this.gv=new x1(this,t.N(),r,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||this.kv!==null}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,e,i){this.ts().Tc(this.lm(t),this.om(e),i,ft(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,e,i){this.kv=t,this.Tv=!1,this.Wv(e.x,e.y,i);const r=this.ts().uc();this.Rv={x:r.si(),y:r.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;const e=this.ts(),i=this.ap();if(e.Ko(i,i.ks()),this.bv=null,this.Sv=!1,e.Pc(),this.Dv!==null){const r=performance.now(),l=e.Et();this.Dv.le(l.gu(),r),this.Dv.Ru(r)||e._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ft(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Vv.ks().Ki()&&this.ts().Et().Ki()}}qv(t){if(this.Vv===null)return;const e=this.ts(),i=e.Et();if(i.Ki())return;const r=this.Vp.N(),l=r.handleScroll,c=r.kineticScroll;if((!l.pressedMouseMove||t.Ef)&&(!l.horzTouchDrag&&!l.vertTouchDrag||!t.Ef))return;const u=this.Vv.ks(),h=performance.now();if(this.bv!==null||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:h,_m:t.localX,um:t.localY}),this.bv!==null&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&c.touch||!t.Ef&&c.mouse){const g=i.mu();this.Dv=new EA(.2/g,7/g,.997,15/g),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;u.Ki()||e.Yo(this.Vv,u,t.localY),e.xc(t.localX),this.Sv=!0}this.Sv&&(u.Ki()||e.jo(this.Vv,u,t.localY),e.Cc(t.localX),this.Dv!==null&&this.Dv.Pp(i.gu(),h))}}class v1{constructor(t,e,i,r,l){this.xt=!0,this.Op=_e({width:0,height:0}),this.$p=()=>this.lv(3),this.jp=t==="left",this.Ju=i.Bc,this.Ps=e,this.dm=r,this.fm=l,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=Gr(this.jf,_e({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xr(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){qr(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||this.Op.width===0||this.Op.height===0)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();const e=$r(this.Gp,{colorSpace:this.Ps.layout.colorSpace});e!==null&&e.useBitmapCoordinateSpace((i=>{this._v(i),this.uv(i)}))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i){const r=this.Jf();r.width>0&&r.height>0&&t.drawImage(this.Gp.canvasElement,e,i)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:r}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;const l=Math.floor(this.Ju.N().S*i),c=Math.floor(this.Ju.N().S*r),u=this.jp?e.width-l:0;t.fillRect(u,0,l,c)}_v({context:t,bitmapSize:e}){wh(t,0,0,e.width,e.height,this.fm())}}function Ig(n){return t=>t.ia?.(n)??[]}const RA=Ig("normal"),OA=Ig("top"),zA=Ig("bottom");class LA{constructor(t,e){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=_e({width:0,height:0}),this.gm=new $e,this.Fp=new ih(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=Gr(this.Sm,_e({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=Gr(this.Sm,_e({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new jh(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),this.pm!==null&&this.pm.m(),this.vm!==null&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),Xr(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),Xr(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){const t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){const e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;const t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,e,i){qr(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),this.pm!==null&&this.pm.hv(_e({width:e,height:t.height})),this.vm!==null&&this.vm.hv(_e({width:i,height:t.height}))}Tm(){const t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,r){const l=this.Jf();if(l.width>0&&l.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),r)){const c=this.Jp.canvasElement;t.drawImage(c,e,i)}}lv(t){if(t===0)return;const e={colorSpace:this.Ps.colorSpace};if(t!==1){this.Gp.applySuggestedBitmapSize();const r=$r(this.Gp,e);r!==null&&(r.useBitmapCoordinateSpace((l=>{this._v(l),this.uv(l),this.Vm(r,zA)})),this.dv(r),this.Vm(r,RA)),this.pm!==null&&this.pm.lv(t),this.vm!==null&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();const i=$r(this.Jp,e);i!==null&&(i.useBitmapCoordinateSpace((({context:r,bitmapSize:l})=>{r.clearRect(0,0,l.width,l.height)})),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,OA))}Vm(t,e){const i=this.Vp.Qt().js();for(const r of i)tg(e,(l=>J0(l,t,!1,void 0)),r,void 0);for(const r of i)tg(e,(l=>Hu(l,t,!1,void 0)),r,void 0)}_v({context:t,bitmapSize:e}){wh(t,0,0,e.width,e.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();const r=Math.max(1,Math.floor(this.Rm().S*i));t.fillRect(0,0,e.width,r)}}dv(t){const e=this.Vp.Qt().Et(),i=e.Da();if(!i||i.length===0)return;const r=this.o_.maxTickMarkWeight(i),l=this.Rm(),c=e.N();c.borderVisible&&c.ticksVisible&&t.useBitmapCoordinateSpace((({context:u,horizontalPixelRatio:h,verticalPixelRatio:g})=>{u.strokeStyle=this.Im(),u.fillStyle=this.Im();const m=Math.max(1,Math.floor(h)),b=Math.floor(.5*h);u.beginPath();const y=Math.round(l.C*g);for(let v=i.length;v--;){const k=Math.round(i[v].coord*h);u.rect(k-b,0,m,y)}u.fill()})),t.useMediaCoordinateSpace((({context:u})=>{const h=l.S+l.C+l.A+l.P/2;u.textAlign="center",u.textBaseline="middle",u.fillStyle=this.H(),u.font=this.ev();for(const g of i)if(g.weight<r){const m=g.needAlignCoordinate?this.Em(u,g.coord,g.label):g.coord;u.fillText(g.label,m,h)}this.Vp.N().timeScale.allowBoldLabels&&(u.font=this.Am());for(const g of i)if(g.weight>=r){const m=g.needAlignCoordinate?this.Em(u,g.coord,g.label):g.coord;u.fillText(g.label,m,h)}}))}Em(t,e,i){const r=this.Fp.Vi(t,i),l=r/2,c=Math.floor(e-l)+.5;return c<0?e+=Math.abs(0-c):c+r>this.Op.width&&(e-=Math.abs(this.Op.width-(c+r))),e}Bm(t,e){const i=this.Rm();for(const r of t)for(const l of r.cs())l.Tt().nt(e,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return nh(this.F(),this.Ps.fontFamily)}Am(){return nh(this.F(),this.Ps.fontFamily,"bold")}Rm(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new ih,Dm:0});const t=this.M,e=this.ev();if(t.k!==e){const i=this.F();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.Dm=4*i/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=t===1?"ew-resize":"default"}xm(){const t=this.Vp.Qt(),e=t.N();e.leftPriceScale.visible||this.pm===null||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),e.rightPriceScale.visible||this.vm===null||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);const i={Bc:this.Vp.Qt().Bc()},r=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,l=()=>t.Wc();e.leftPriceScale.visible&&this.pm===null&&(this.pm=new v1("left",e,i,r,l),this.Mm.appendChild(this.pm.Zf())),e.rightPriceScale.visible&&this.vm===null&&(this.vm=new v1("right",e,i,r,l),this.bm.appendChild(this.vm.Zf()))}}const PA=!!Ga&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((n=>n.brand.includes("Chromium")))&&!!Ga&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class BA{constructor(t,e,i){var r;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new $e,this.Cv=new $e,this.Xu=new $e,this.Um=null,this.$m=null,this.Dp=t,this.Ps=e,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(r=this.kp).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),_0(this.Ps)&&this.Km(!0),this.ts=new SA(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new LA(this,this.o_),this.qm.appendChild(this.Zm.Zf());const l=e.autoSize&&this.Gm();let c=this.Ps.width,u=this.Ps.height;if(l||c===0||u===0){const h=t.getBoundingClientRect();c=c||h.width,u=u||h.height}this.Jm(c,u),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){this.Km(!1),this.Om!==0&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.zm)this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();this.zm=[];for(const t of this.Lm)this.sw(t);this.Lm=[],ft(this.Zm).m(),this.kp.parentElement!==null&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,e,i=!1){if(this.il===e&&this.Mo===t)return;const r=(function(u){const h=Math.floor(u.width),g=Math.floor(u.height);return _e({width:h-h%2,height:g-g%2})})(_e({width:t,height:e}));this.il=r.height,this.Mo=r.width;const l=this.il+"px",c=this.Mo+"px";ft(this.kp).style.height=l,ft(this.kp).style.width=c,this.qm.style.height=l,this.qm.style.width=c,i?this.ew(vn.gn(),performance.now()):this.ts.Ih()}lv(t){t===void 0&&(t=vn.gn());for(let e=0;e<this.zm.length;e++)this.zm[e].lv(t.en(e).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){const e=_0(this.Ps);this.ts.hr(t);const i=_0(this.Ps);i!==e&&this.Km(i),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){this.Wm!==null&&(this.ew(this.Wm,performance.now()),this.Wm=null);const e=this.lw(null),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const r=ft(i.getContext("2d"));return this.lw(r,t),i}ow(t){return t==="left"&&!this._w()||t==="right"&&!this.uw()||this.zm.length===0?0:ft(t==="left"?this.zm[0].nm():this.zm[0].rm()).av()}cw(){return this.Ps.autoSize&&this.Um!==null}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return Qn(this.zm[t]).Gf()}rw(){this.Lm.forEach((t=>{t.yt()}))}hw(t){(t.autoSize!==void 0||!this.Um||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Um&&this.Gm(),t.autoSize===!1&&this.Um!==null&&this.nw(),t.autoSize||t.width===void 0&&t.height===void 0||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,e){let i=0,r=0;const l=this.zm[0],c=(h,g)=>{let m=0;for(let b=0;b<this.zm.length;b++){const y=this.zm[b],v=ft(h==="left"?y.nm():y.rm()),k=v.Jf();if(t!==null&&v.Qf(t,g,m,e),m+=k.height,b<this.zm.length-1){const S=this.Lm[b],_=S.Jf();t!==null&&S.Qf(t,g,m),m+=_.height}}};this._w()&&(c("left",0),i+=ft(l.nm()).Jf().width);for(let h=0;h<this.zm.length;h++){const g=this.zm[h],m=g.Jf();if(t!==null&&g.Qf(t,i,r,e),r+=m.height,h<this.zm.length-1){const b=this.Lm[h],y=b.Jf();t!==null&&b.Qf(t,i,r),r+=y.height}}i+=l.Jf().width,this.uw()&&(c("right",i),i+=ft(l.rm()).Jf().width);const u=(h,g,m)=>{ft(h==="left"?this.Zm.Cm():this.Zm.Pm()).Qf(ft(t),g,m)};if(this.Ps.timeScale.visible){const h=this.Zm.Jf();if(t!==null){let g=0;this._w()&&(u("left",g,r),g=ft(l.nm()).Jf().width),this.Zm.Qf(t,g,r,e),g+=h.width,this.uw()&&u("right",g,r)}r+=h.height}return _e({width:i,height:r})}mw(){let t=0,e=0,i=0;for(const _ of this.zm)this._w()&&(e=Math.max(e,ft(_.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(i=Math.max(i,ft(_.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),t+=_.Bo();e=K0(e),i=K0(i);const r=this.Mo,l=this.il,c=Math.max(r-e-i,0),u=1*this.Lm.length,h=this.Ps.timeScale.visible;let g=h?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0;var m;g=(m=g)+m%2;const b=u+g,y=l<b?0:l-b,v=y/t;let k=0;const S=window.devicePixelRatio||1;for(let _=0;_<this.zm.length;++_){const M=this.zm[_];M.Lv(this.ts.$s()[_]);let E=0,A=0;A=_===this.zm.length-1?Math.ceil((y-k)*S)/S:Math.round(M.Bo()*v*S)/S,E=Math.max(A,2),k+=E,M.hv(_e({width:c,height:E})),this._w()&&M.Jv(e,"left"),this.uw()&&M.Jv(i,"right"),M.ap()&&this.ts.dc(M.ap(),E)}this.Zm.km(_e({width:h?c:0,height:g}),h?e:0,h?i:0),this.ts.Eo(c),this.Nm!==e&&(this.Nm=e),this.Fm!==i&&(this.Fm=i)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return PA?1/window.devicePixelRatio:1}jm(t){if(!(t.deltaX!==0&&this.Ps.handleScroll.mouseWheel||t.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const e=this.ww(t),i=e*t.deltaX/100,r=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const l=Math.sign(r)*Math.min(1,Math.abs(r)),c=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(c,l)}i!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(t,e){const i=t.nn();i===3&&this.gw(),i!==3&&i!==2||(this.Mw(t),this.bw(t,e),this.Zm.yt(),this.zm.forEach((r=>{r.Nv()})),this.Wm?.nn()===3&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,e),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,e){for(const i of t.pn())this.mn(i,e)}Mw(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Go()}mn(t,e){const i=this.ts.Et();switch(t.an){case 0:i.Au();break;case 1:i.zu(t.Wt);break;case 2:i.dn(t.Wt);break;case 3:i.fn(t.Wt);break;case 4:i.Su();break;case 5:t.Wt.Ru(e)||i.fn(t.Wt.Du(e))}}Gu(t){this.Wm!==null?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame((e=>{if(this.Hm=!1,this.Om=0,this.Wm!==null){const i=this.Wm;this.Wm=null,this.ew(i,e);for(const r of i.pn())if(r.an===5&&!r.Wt.Ru(e)){this.Qt()._n(r.Wt);break}}})))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){const t=this.ts.$s(),e=t.length,i=this.zm.length;for(let r=e;r<i;r++){const l=Qn(this.zm.pop());this.qm.removeChild(l.Zf()),l.Xv().u(this),l.Zv().u(this),l.m();const c=this.Lm.pop();c!==void 0&&this.sw(c)}for(let r=i;r<e;r++){const l=new Yg(this,t[r]);if(l.Xv().i(this.Sw.bind(this,l),this),l.Zv().i(this.xw.bind(this,l),this),this.zm.push(l),r>0){const c=new CA(this,r-1,r);this.Lm.push(c),this.qm.insertBefore(c.Zf(),this.Zm.Zf())}this.qm.insertBefore(l.Zf(),this.Zm.Zf())}for(let r=0;r<e;r++){const l=t[r],c=this.zm[r];c.ap()!==l?c.Lv(l):c.zv()}this.tw(),this.mw()}Cw(t,e,i,r){const l=new Map;t!==null&&this.ts.js().forEach((b=>{const y=b.Xs().Fr(t);y!==null&&l.set(b,y)}));let c;if(t!==null){const b=this.ts.Et().ss(t)?.originalTime;b!==void 0&&(c=b)}const u=this.Qt().ac(),h=u!==null&&u.n_ instanceof _h?u.n_:void 0,g=u!==null&&u.e_!==void 0?u.e_.Kn:void 0,m=this.Pw(r);return{yw:c,Re:t??void 0,kw:e??void 0,Tw:m!==-1?m:void 0,Rw:h,Dw:l,Vw:g,Bw:i??void 0}}Pw(t){let e=-1;if(t)e=this.zm.indexOf(t);else{const i=this.Qt().uc().Us();i!==null&&(e=this.Qt().$s().indexOf(i))}return e}Sw(t,e,i,r){this.xv.p((()=>this.Cw(e,i,r,t)))}xw(t,e,i,r){this.Cv.p((()=>this.Cw(e,i,r,t)))}Xm(t,e,i){this.dw(this.Qt().ac()?.h_??null),this.Xu.p((()=>this.Cw(t,e,i)))}tw(){const t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Jm(e.contentRect.width,e.contentRect.height)})),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){this.Um!==null&&this.Um.disconnect(),this.Um=null}}function _0(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function HA(n){return n.open===void 0&&n.value===void 0}function VA(n){return(function(t){return t.open!==void 0})(n)||(function(t){return t.value!==void 0})(n)}function w1(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.color!==void 0&&(l.R=e.color),l}function UA(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.lineColor!==void 0&&(l.vt=e.lineColor),e.topColor!==void 0&&(l.mr=e.topColor),e.bottomColor!==void 0&&(l.wr=e.bottomColor),l}function FA(n,t,e,i){const r=e.value,l={Re:t,wt:n,Wt:[r,r,r,r],yw:i};return e.topLineColor!==void 0&&(l.gr=e.topLineColor),e.bottomLineColor!==void 0&&(l.Mr=e.bottomLineColor),e.topFillColor1!==void 0&&(l.br=e.topFillColor1),e.topFillColor2!==void 0&&(l.Sr=e.topFillColor2),e.bottomFillColor1!==void 0&&(l.Cr=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(l.Pr=e.bottomFillColor2),l}function YA(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),r}function IA(n,t,e,i){const r={Re:t,wt:n,Wt:[e.open,e.high,e.low,e.close],yw:i};return e.color!==void 0&&(r.R=e.color),e.borderColor!==void 0&&(r.Ht=e.borderColor),e.wickColor!==void 0&&(r.vr=e.wickColor),r}function qA(n,t,e,i,r){const l=Qn(r)(e),c=Math.max(...l),u=Math.min(...l),h=l[l.length-1],g=[h,c,u,h],{time:m,color:b,...y}=e;return{Re:t,wt:n,Wt:g,yw:i,se:y,R:b}}function no(n){return n.Wt!==void 0}function S1(n,t){return t.customValues!==void 0&&(n.Iw=t.customValues),n}function Br(n){return(t,e,i,r,l,c)=>(function(u,h){return h?h(u):HA(u)})(i,c)?S1({wt:t,Re:e,yw:r},i):S1(n(t,e,i,r,l),i)}function k1(n){return{Candlestick:Br(IA),Bar:Br(YA),Area:Br(UA),Baseline:Br(FA),Histogram:Br(w1),Line:Br(w1),Custom:Br(qA)}[n]}function N1(n){return{Re:0,Ew:new Map,Hh:n}}function _1(n,t){if(n!==void 0&&n.length!==0)return{Aw:t.key(n[0].wt),zw:t.key(n[n.length-1].wt)}}function j1(n){let t;return n.forEach((e=>{t===void 0&&(t=e.yw)})),Qn(t)}class WA{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,e){let i=this.Lw.size!==0,r=!1;const l=this.Ow.get(t);if(l!==void 0)if(this.Ow.size===1)i=!1,r=!0,this.Lw.clear();else for(const h of this.Fw)h.pointData.Ew.delete(t)&&(r=!0);let c=[];if(e.length!==0){const h=e.map((v=>v.time)),g=this.o_.createConverterToInternalObj(e),m=k1(t.Rr()),b=t.ca(),y=t.fa();c=e.map(((v,k)=>{const S=g(v.time),_=this.o_.key(S);let M=this.Lw.get(_);M===void 0&&(M=N1(S),this.Lw.set(_,M),r=!0);const E=m(S,M.Re,v,h[k],b,y);return M.Ew.set(t,E),E}))}i&&this.Hw(),this.Uw(t,c);let u=-1;if(r){const h=[];this.Lw.forEach((g=>{h.push({timeWeight:0,time:g.Hh,pointData:g,originalTime:j1(g.Ew)})})),h.sort(((g,m)=>this.o_.key(g.time)-this.o_.key(m.time))),u=this.$w(h)}return this.qw(t,u,(function(h,g,m){const b=_1(h,m),y=_1(g,m);if(b!==void 0&&y!==void 0)return{Yw:!1,zh:b.zw>=y.zw&&b.Aw>=y.Aw}})(this.Ow.get(t),l,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,e,i){const r=e;(function(_){_.yw===void 0&&(_.yw=_.time)})(r),this.o_.preprocessData(e);const l=this.o_.createConverterToInternalObj([e])(e.time),c=this.Nw.get(t);if(!i&&c!==void 0&&this.o_.key(l)<this.o_.key(c))throw new Error(`Cannot update oldest data, last time=${c}, new time=${l}`);let u=this.Lw.get(this.o_.key(l));if(i&&u===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=u===void 0;u===void 0&&(u=N1(l),this.Lw.set(this.o_.key(l),u));const g=k1(t.Rr()),m=t.ca(),b=t.fa(),y=g(l,u.Re,e,r.yw,m,b);u.Ew.set(t,y),i?this.Kw(t,y,u.Re):this.Xw(t,y);const v={zh:no(y),Yw:i};if(!h)return this.qw(t,-1,v);const k={timeWeight:0,time:u.Hh,pointData:u,originalTime:j1(u.Ew)},S=$a(this.Fw,this.o_.key(k.time),((_,M)=>this.o_.key(_.time)<M));this.Fw.splice(S,0,k);for(let _=S;_<this.Fw.length;++_)Tu(this.Fw[_].pointData,_);return this.o_.fillWeightsForPoints(this.Fw,S),this.qw(t,S,v)}Zw(t,e){const i=this.Ow.get(t);if(i===void 0||e<=0)return[[],this.Gw()];e=Math.min(e,i.length);const r=i.splice(-e).reverse();i.length===0?this.Nw.delete(t):this.Nw.set(t,i[i.length-1].wt);for(const l of r){const c=this.Lw.get(this.o_.key(l.wt));if(c&&(c.Ew.delete(t),c.Ew.size===0)){this.Lw.delete(this.o_.key(c.Hh)),this.Fw.splice(c.Re,1);for(let u=c.Re;u<this.Fw.length;++u)Tu(this.Fw[u].pointData,u)}}return[r,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,e){let i=this.Ow.get(t);i===void 0&&(i=[],this.Ow.set(t,i));const r=i.length!==0?i[i.length-1]:null;r===null||this.o_.key(e.wt)>this.o_.key(r.wt)?no(e)&&i.push(e):no(e)?i[i.length-1]=e:i.splice(-1,1),this.Nw.set(t,e.wt)}Kw(t,e,i){const r=this.Ow.get(t);if(r===void 0)return;const l=$a(r,i,((c,u)=>c.Re<u));no(e)?r[l]=e:r.splice(l,1)}Uw(t,e){e.length!==0?(this.Ow.set(t,e.filter(no)),this.Nw.set(t,e[e.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(const t of this.Fw)t.pointData.Ew.size===0&&this.Lw.delete(this.o_.key(t.time))}$w(t){let e=-1;for(let i=0;i<this.Fw.length&&i<t.length;++i){const r=this.Fw[i],l=t[i];if(this.o_.key(r.time)!==this.o_.key(l.time)){e=i;break}l.timeWeight=r.timeWeight,Tu(l.pointData,i)}if(e===-1&&this.Fw.length!==t.length&&(e=Math.min(this.Fw.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)Tu(t[i].pointData,i);return this.o_.fillWeightsForPoints(t,e),this.Fw=t,e}Jw(){if(this.Ow.size===0)return null;let t=0;return this.Ow.forEach((e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Re))})),t}qw(t,e,i){const r=this.Gw();if(e!==-1)this.Ow.forEach(((l,c)=>{r.Oo.set(c,{se:l,Qw:c===t?i:void 0})})),this.Ow.has(t)||r.Oo.set(t,{se:[],Qw:i}),r.Et.tg=this.Fw,r.Et.ig=e;else{const l=this.Ow.get(t);r.Oo.set(t,{se:l||[],Qw:i})}return r}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function Tu(n,t){n.Re=t,n.Ew.forEach((e=>{e.Re=t}))}function $A(n,t){return n.wt<t}function GA(n,t){return t<n.wt}function XA(n,t,e){const i=t.Uh(),r=t.bi(),l=$a(n,i,$A),c=Zw(n,r,GA);if(!e)return{from:l,to:c};let u=l,h=c;return l>0&&l<n.length&&n[l].wt>=i&&(u=l-1),c>0&&c<n.length&&n[c-1].wt<=r&&(h=c+1),{from:u,to:h}}class QA{constructor(t,e,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=e,this.ag=i}yt(t){this.sg=!0,t==="data"&&(this.ng=!0),t==="options"&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),this.hg===null?null:this.og):null}_g(){this.rg=this.rg.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.ug(),e.Ki()||t.Ki())return;const i=e.Pe();if(i===null||this.Jn.Xs().zr()===0)return;const r=this.Jn.zt();r!==null&&(this.hg=XA(this.rg,i,this.ag),this.fg(t,e,r.Wt),this.pg())}}class ZA{constructor(t,e){this.vg=t,this.Yi=e}nt(t,e,i){this.vg.draw(t,this.Yi,e,i)}}class KA extends QA{constructor(t,e,i){super(t,e,!1),this.sh=i,this.og=new ZA(this.sh.renderer(),(r=>{const l=t.zt();return l===null?null:t.Ft().Nt(r,l.Wt)}))}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){const t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),mg:e.se})))}fg(t,e){e.uu(this.rg,vD(this.hg))}pg(){this.sh.update({bars:this.rg.map(JA),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function JA(n){return{x:n._t,time:n.wt,originalData:n.mg,barColor:n.cr}}const t6={color:"#2196f3"},e6=(n,t,e)=>{const i=lr(e);return new KA(n,t,i)};function qg(n){const t={value:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function M1(n){const t=qg(n);return n.R!==void 0&&(t.color=n.R),t}function n6(n){const t=qg(n);return n.vt!==void 0&&(t.lineColor=n.vt),n.mr!==void 0&&(t.topColor=n.mr),n.wr!==void 0&&(t.bottomColor=n.wr),t}function i6(n){const t=qg(n);return n.gr!==void 0&&(t.topLineColor=n.gr),n.Mr!==void 0&&(t.bottomLineColor=n.Mr),n.br!==void 0&&(t.topFillColor1=n.br),n.Sr!==void 0&&(t.topFillColor2=n.Sr),n.Cr!==void 0&&(t.bottomFillColor1=n.Cr),n.Pr!==void 0&&(t.bottomFillColor2=n.Pr),t}function rS(n){const t={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.yw};return n.Iw!==void 0&&(t.customValues=n.Iw),t}function s6(n){const t=rS(n);return n.R!==void 0&&(t.color=n.R),t}function r6(n){const t=rS(n),{R:e,Ht:i,vr:r}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),r!==void 0&&(t.wickColor=r),t}function Vu(n){return{Area:n6,Line:M1,Baseline:i6,Histogram:M1,Bar:s6,Candlestick:r6,Custom:a6}[n]}function a6(n){const t=n.yw;return{...n.se,time:t}}const l6={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},o6={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},c6={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Yw,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},j0={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},u6={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function C1(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:c6,crosshair:l6,grid:o6,overlayPriceScales:{...j0},leftPriceScale:{...j0,visible:!1},rightPriceScale:{...j0,visible:!0},timeScale:u6,localization:{locale:Ga?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class aS{constructor(t,e,i){this.Hf=t,this.wg=e,this.gg=i??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return kh(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new Bn(t.from,t.to))}getVisibleRange(){let t,e,i=this.Yi().Qe();if(i===null)return null;if(this.Yi().Ja()){const r=this.Yi().fo(),l=nS(r);i=Oa(i,this.Yi().tl()),t=Number((Math.round(i.$e()/r)*r).toFixed(l)),e=Number((Math.round(i.qe()/r)*r).toFixed(l))}else t=i.$e(),e=i.qe();return{from:t,to:e}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return ft(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class h6{constructor(t,e,i,r){this.Hf=t,this.Pt=i,this.Mg=e,this.bg=r}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Hf.Qt(),i=e.Uc(this.Pt);e.vc(i,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(wn(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(e,t))}getSeries(){return this.Pt.Oo().map((t=>this.Mg(t)))??[]}getHTMLElement(){const t=this.Hf.$f();return t&&t.length!==0&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(this.Pt.Do(t)===null)throw new Error(`Cannot find price scale with id: ${t}`);return new aS(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},i=0){return this.bg.addCustomSeries(t,e,i)}addSeries(t,e={}){return this.bg.addSeries(t,e,this.paneIndex())}}const d6={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class E1{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class f6{constructor(t,e,i,r,l,c){this.xg=new $e,this.Jn=t,this.Cg=e,this.Pg=i,this.o_=l,this.bg=r,this.yg=c}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return e===null?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(t===null)return null;const e=new Ha(new vo(t.from,t.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;const r=i.Fr(e.Uh(),1),l=i.Fr(e.bi(),-1),c=ft(i.Lr()),u=ft(i.Ks());if(r!==null&&l!==null&&r.Re>l.Re)return{barsBefore:t.from-c,barsAfter:u-t.to};const h={barsBefore:r===null||r.Re===c?t.from-c:r.Re-c,barsAfter:l===null||l.Re===u?u-t.to:u-l.Re};return r!==null&&l!==null&&(h.from=r.yw,h.to=l.yw),h}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,e=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,e),this.Tg("update")}pop(t=1){const e=this.Cg.Dg(this.Jn,t);e.length!==0&&this.Tg("update");const i=Vu(this.seriesType());return e.map((r=>i(r)))}dataByIndex(t,e){const i=this.Jn.Xs().Fr(t,e);return i===null?null:Vu(this.seriesType())(i)}data(){const t=Vu(this.seriesType());return this.Jn.Xs().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Ss(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){const e=hi(Ss(d6),t),i=this.Jn.Oh(e);return new E1(i)}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map((t=>new E1(t)))}seriesType(){return this.Jn.Rr()}lastValueData(t){const e=this.Jn.ye(t);return e.ke?{noData:!0}:{noData:!1,price:e.gt,color:e.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){const t=this.Jn,e=ft(this.Jn.Qt().Hn(t));return this.yg(e)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return t===null?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);e!==null&&e.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class g6{constructor(t,e,i){this.Vg=new $e,this.z_=new $e,this.gm=new $e,this.ts=t,this.uh=t.Et(),this.Zm=e,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,e){e?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.nu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},i=this.uh.au(e);this.ts.Lc(i)}getVisibleLogicalRange(){const t=this.uh.su();return t===null?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){wn(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,e){const i=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return e===null?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),i=e.cu(t),r=e.ss(i);return r===null?null:r.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Ss(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function T1(n){return(function(t){if(ku(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:r}=t.handleScale;ku(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),ku(r)&&(t.handleScale.axisDoubleClickReset={time:r,price:r})}const e=t.handleScroll;ku(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})})(n),n}class m6{constructor(t,e,i){this.Ag=new Map,this.zg=new Map,this.Lg=new $e,this.Og=new $e,this.Ng=new $e,this.qu=new WeakMap,this.Fg=new WA(e);const r=i===void 0?Ss(C1()):hi(Ss(C1()),T1(i));this.Wg=e,this.Hf=new BA(t,r,e),this.Hf.Xv().i((c=>{this.Lg.v()&&this.Lg.p(this.Hg(c()))}),this),this.Hf.Zv().i((c=>{this.Og.v()&&this.Og.p(this.Hg(c()))}),this),this.Hf.cc().i((c=>{this.Ng.v()&&this.Ng.p(this.Hg(c()))}),this);const l=this.Hf.Qt();this.Ug=new g6(l,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,e,i){this.autoSizeActive()||this.Hf.Jm(t,e,i)}addCustomSeries(t,e={},i=0){const r=(l=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...t6,...l.defaultOptions()},$g:e6,qg:l}))(lr(t));return this.Yg(r,e,i)}addSeries(t,e={},i=0){return this.Yg(t,e,i)}removeSeries(t){const e=Qn(this.Ag.get(t)),i=this.Fg.Ac(e);this.Hf.Qt().Ac(e),this.jg(i),this.Ag.delete(t),this.zg.delete(e)}kg(t,e){this.jg(this.Fg.Ww(t,e))}Rg(t,e,i){this.jg(this.Fg.jw(t,e,i))}Dg(t,e){const[i,r]=this.Fg.Zw(t,e);return i.length!==0&&this.jg(r),i}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,e=0){return new aS(this.Hf,t,e)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(T1(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,e=!1){let i,r;try{e||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),r=this.Hf.aw(t)}finally{e||i===void 0||this.Hf.Qt().hr({crosshair:{mode:i}})}return r}addPane(t=!1){const e=this.Hf.Qt().$c();return e.zo(t),this.Kg(e)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,e){this.Hf.Qt().mc(t,e)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map((t=>this.Kg(t)))}paneSize(t=0){const e=this.Hf.pw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const r=this.Ag.get(i);if(r===void 0)return;const l=this.Hf.Qt().Hn(r);l!==null&&this.Hf.Qt().Rc(t,e,l)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,e={},i=0){wn(t.$g!==void 0),(function(h){if(h===void 0||h.type==="custom")return;const g=h;g.minMove!==void 0&&g.precision===void 0&&(g.precision=nS(g.minMove))})(e.priceFormat),t.type==="Candlestick"&&(function(h){h.borderColor!==void 0&&(h.borderUpColor=h.borderColor,h.borderDownColor=h.borderColor),h.wickColor!==void 0&&(h.wickUpColor=h.wickColor,h.wickDownColor=h.wickColor)})(e);const r=hi(Ss(Uw),Ss(t.defaultOptions),e),l=t.$g,c=new _h(this.Hf.Qt(),t.type,r,l,t.qg);this.Hf.Qt().Ic(c,i);const u=new f6(c,this,this,this,this.Wg,(h=>this.Kg(h)));return this.Ag.set(u,c),this.zg.set(c,u),u}jg(t){const e=this.Hf.Qt();e.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach(((i,r)=>r.ht(i.se,i.Qw))),e.Et().K_(),e.vu()}Xg(t){return Qn(this.zg.get(t))}Hg(t){const e=new Map;t.Dw.forEach(((r,l)=>{const c=l.Rr(),u=Vu(c)(r);if(c!=="Custom")wn(VA(u));else{const h=l.fa();wn(!h||h(u)===!1)}e.set(this.Xg(l),u)}));const i=t.Rw!==void 0&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:i,hoveredObjectId:t.Vw,seriesData:e,sourceEvent:t.Bw}}Kg(t){let e=this.qu.get(t);return e||(e=new h6(this.Hf,(i=>this.Xg(i)),t,this),this.qu.set(t,e)),e}}function p6(n){if($o(n)){const t=document.getElementById(n);return wn(t!==null,`Cannot find element in DOM with id=${n}`),t}return n}function x6(n,t,e){const i=p6(n),r=new m6(i,t,e);return t.setOptions(r.options()),r}function b6(n,t){return x6(n,new f1,f1.ld(t))}({...Uw});const y6=[{ratio:0,label:"0.0"},{ratio:.5,label:"0.5"},{ratio:1,label:"1.0"},{ratio:1.382,label:"1.382"},{ratio:1.618,label:"1.618"},{ratio:2,label:"2.0"},{ratio:2.382,label:"2.382"},{ratio:2.618,label:"2.618"},{ratio:3,label:"3.0"},{ratio:3.382,label:"3.382"},{ratio:3.618,label:"3.618"},{ratio:4.24,label:"4.24"},{ratio:5.08,label:"5.08"},{ratio:6.86,label:"6.86"},{ratio:11.01,label:"11.01"}],v6=[{ratio:-11.01,label:"-11.01"},{ratio:-6.86,label:"-6.86"},{ratio:-5.08,label:"-5.08"},{ratio:-4.24,label:"-4.24"},{ratio:-3.618,label:"-3.618"},{ratio:-3.382,label:"-3.382"},{ratio:-3,label:"-3.0"},{ratio:-2.618,label:"-2.618"},{ratio:-2.382,label:"-2.382"},{ratio:-2,label:"-2.0"},{ratio:-1.618,label:"-1.618"},{ratio:-1.382,label:"-1.382"},{ratio:-1,label:"-1.0"},{ratio:-.5,label:"-0.5"}];function w6(){const[n,t]=N.useState("AAPL"),[e,i]=N.useState(2),[r,l]=N.useState(!1),[c,u]=N.useState(null),[h,g]=N.useState(null),[m,b]=N.useState(!1),[y,v]=N.useState(!1),k=N.useRef(null),S=N.useRef(null),_=N.useRef(null),M=async(P,Y,K)=>{try{const L=await fr(P,"1d",Y==="ytd"?"ytd":"1y");if(L.source!=="yahoo")throw new Error("Yahoo Finance data is required for chart display. Please try again.");const X=L.data;if(!X||!X.chart||!X.chart.result||X.chart.result.length===0)throw new Error("No data available for this symbol");const at=X.chart.result[0],yt=at.meta,bt=at.indicators?.quote?.[0],z=at.timestamp;if(!bt)throw new Error("No quote data available for this symbol");if(!z||z.length===0)throw new Error("No timestamp data available");let B,tt,ct;if(K==="first_day"){const kt=new Date().getFullYear(),vt=[];for(let Lt=0;Lt<z.length;Lt++){const ht=new Date(z[Lt]*1e3);ht.getFullYear()===kt&&vt.push({index:Lt,date:ht,timestamp:z[Lt],high:bt.high[Lt],low:bt.low[Lt],open:bt.open[Lt],close:bt.close[Lt]})}if(vt.length===0)throw new Error("No data available for current year");vt.sort((Lt,ht)=>Lt.timestamp-ht.timestamp);const mt=vt[0];if(mt.high===null||mt.low===null||mt.open===null||mt.close===null)throw new Error("Invalid data for first trading day");const Xt=mt.close>mt.open;Xt?(B=mt.high,tt=mt.low):(B=mt.low,tt=mt.high);const Yt=mt.date,oe=Xt?"BULLISH":"BEARISH";ct=`First Trading Day: ${Yt.toLocaleDateString()} (${oe} - Open: ${mt.open.toFixed(2)}, High: ${mt.high.toFixed(2)}, Low: ${mt.low.toFixed(2)}, Close: ${mt.close.toFixed(2)})`,console.log("First trading day anchor:",{date:Yt.toLocaleDateString(),dateTime:Yt.toLocaleString(),candleType:oe,actualHigh:mt.high,actualLow:mt.low,open:mt.open,close:mt.close,fibonacciHigh:B,fibonacciLow:tt,note:Xt?"0=Low, 1=High":"0=High, 1=Low",totalCandlesInYear:vt.length})}const xt=bt.close.filter(kt=>kt!==null),pt=xt[xt.length-1],gt=[];for(let kt=0;kt<z.length;kt++)if(bt.open[kt]!==null&&bt.high[kt]!==null&&bt.low[kt]!==null&&bt.close[kt]!==null){const vt=Math.floor(Number(z[kt])),mt=Number(bt.open[kt]),Xt=Number(bt.high[kt]),Yt=Number(bt.low[kt]),oe=Number(bt.close[kt]);!isNaN(mt)&&!isNaN(Xt)&&!isNaN(Yt)&&!isNaN(oe)&&mt>0&&Xt>0&&Yt>0&&oe>0&&vt>0&&Xt>=Yt&&Xt>=Math.max(mt,oe)&&Yt<=Math.min(mt,oe)&&gt.push({time:vt,open:mt,high:Xt,low:Yt,close:oe})}if(gt.sort((kt,vt)=>kt.time-vt.time),console.log("Chart data prepared:",{totalCandles:gt.length,firstCandle:gt[0],lastCandle:gt[gt.length-1],sampleData:gt.slice(0,3)}),gt.length===0)throw new Error("No valid chart data points found. Please check the symbol and try again.");return{symbol:yt.symbol,current:pt,high:B,low:tt,currency:yt.currency||"USD",timestamps:z,quotes:bt,anchorInfo:ct,chartData:gt}}catch(ot){throw console.error("Error fetching market data:",ot),console.error("Error stack:",ot.stack),new Error(ot.message||"Unable to fetch market data. Please verify the symbol and try again.")}},E=async()=>{const P=n.trim().toUpperCase();if(!P){u("Please enter a valid symbol");return}l(!0),u(null),b(!1);try{console.log("Fetching data for:",P,"ytd","Anchor: first_day","Precision:",e);const Y=await M(P,"ytd","first_day");console.log("Data received:",Y),g(Y),b(!0)}catch(Y){console.error("Error in fetchDataAndCalculate:",Y),u(Y.message||"Unable to fetch market data. Please verify the symbol and try again.")}finally{l(!1)}},A=()=>{if(!k.current)return console.error("Chart container ref is null"),!1;if(S.current){try{S.current.remove()}catch(ut){console.warn("Error removing existing chart:",ut)}S.current=null,_.current=null}const P=k.current,Y=document.documentElement.classList.contains("dark"),K=P.clientWidth||P.offsetWidth||800,ot=P.clientHeight||P.offsetHeight||600;(K<=0||ot<=0)&&(console.error("Container has invalid dimensions:",{containerWidth:K,containerHeight:ot}),P.style.width="800px",P.style.height="600px"),console.log("Initializing chart with dimensions:",{width:K,height:ot});try{const ut=b6(P,{width:K||800,height:ot||600,layout:{backgroundColor:Y?"#1F2937":"#ffffff",textColor:Y?"#E5E7EB":"#333"},grid:{vertLines:{color:Y?"#374151":"#f0f0f0"},horzLines:{color:Y?"#374151":"#f0f0f0"}},crosshair:{mode:Q0.Normal},timeScale:{borderColor:Y?"#374151":"#cccccc",timeVisible:!0,secondsVisible:!1},rightPriceScale:{visible:!0,borderColor:Y?"#374151":"#cccccc"}}),L=ut.addCandlestickSeries({upColor:"#22C55E",downColor:"#EF4444",borderUpColor:"#22C55E",borderDownColor:"#EF4444",wickUpColor:"#22C55E",wickDownColor:"#EF4444"});return S.current=ut,_.current=L,new ResizeObserver(()=>{if(S.current&&P){const at=P.clientWidth||P.offsetWidth||800,yt=P.clientHeight||P.offsetHeight||600;at>0&&yt>0&&S.current.applyOptions({width:at,height:yt})}}).observe(P),console.log("Chart initialized successfully"),!0}catch(ut){return console.error("Error initializing chart:",ut),!1}},U=P=>{if(!_.current)return console.warn("Candlestick series not available"),!1;if(!Array.isArray(P)||P.length===0)return console.warn("No price data to show"),!1;const Y=P.map(K=>{let ot;if(typeof K.time=="number")ot=Math.floor(K.time);else if(typeof K.time=="string"){const yt=new Date(K.time);if(ot=Math.floor(yt.getTime()/1e3),isNaN(ot))return null}else if(K.timestamp)ot=Math.floor(Number(K.timestamp));else return null;const ut=Number(K.open),L=Number(K.high),X=Number(K.low),at=Number(K.close);return isNaN(ut)||isNaN(L)||isNaN(X)||isNaN(at)||ut<=0||L<=0||X<=0||at<=0||ot<=0||L<X||L<Math.max(ut,at)||X>Math.min(ut,at)?null:{time:ot,open:ut,high:L,low:X,close:at}}).filter(K=>K!==null).sort((K,ot)=>K.time-ot.time);if(Y.length===0)return console.error("No valid price data after formatting. Original data:",P.slice(0,3)),!1;console.log("Setting chart data:",{count:Y.length,first:Y[0],last:Y[Y.length-1],timeRange:`${Y[0].time} to ${Y[Y.length-1].time}`});try{return _.current.setData(Y),S.current&&S.current.timeScale().fitContent(),console.log("Chart data set successfully"),!0}catch(K){return console.error("Error setting chart data:",K),!1}},R=P=>{if(!(!_.current||!P))try{_.current.createPriceLine({price:P,color:"#10B981",lineWidth:3,lineStyle:Aa.Solid,axisLabelVisible:!0,title:`Current: ${P.toFixed(2)}`}),console.log("Current price line added:",P)}catch(Y){console.error("Error adding current price line:",Y)}},q=(P,Y)=>{if(!_.current)return;const K=P-Y;[{ratio:0,label:"0.0"},{ratio:1,label:"1.0"},{ratio:1.618,label:"1.618"},{ratio:2.618,label:"2.618"},{ratio:4.24,label:"4.24"}].forEach(L=>{const X=Y+K*L.ratio;_.current.createPriceLine({price:X,color:"#3B82F6",lineWidth:L.ratio===0||L.ratio===1?2:1,lineStyle:L.ratio===0||L.ratio===1?Aa.Solid:Aa.Dashed,axisLabelVisible:!0,title:L.label})}),[{ratio:-.5,label:"-0.5"},{ratio:-1,label:"-1.0"},{ratio:-1.618,label:"-1.618"},{ratio:-2.618,label:"-2.618"},{ratio:-4.24,label:"-4.24"},{ratio:-5.08,label:"-5.08"},{ratio:-6.86,label:"-6.86"},{ratio:-11.01,label:"-11.01"}].forEach(L=>{const X=Y+K*L.ratio;_.current.createPriceLine({price:X,color:"#EF4444",lineWidth:1,lineStyle:Aa.Dashed,axisLabelVisible:!0,title:L.label})})},F=(P,Y)=>{const K=P-Y,ot=y6.map(L=>({...L,price:Y+K*L.ratio})),ut=v6.map(L=>({...L,price:Y+K*L.ratio}));return{positiveLevels:ot,negativeLevels:ut}},Q=P=>{P.key==="Enter"&&E()};N.useEffect(()=>{if(!m||!h||!h.chartData||!Array.isArray(h.chartData)||h.chartData.length===0){if(S.current){try{S.current.remove()}catch{}S.current=null,_.current=null}v(!1);return}let P=!0,Y=null,K=0;const ot=20,ut=()=>{if(!P)return;if(K++,K>ot){console.error("Max retries reached for chart initialization"),v(!1);return}if(!k.current){console.log("Container not ready, retrying...",K),Y=setTimeout(ut,100);return}const L=k.current,X=L.clientWidth||L.offsetWidth,at=L.clientHeight||L.offsetHeight;if(!X||X===0||!at||at===0){console.log("Container has no dimensions, retrying...",{containerWidth:X,containerHeight:at,retryCount:K}),Y=setTimeout(ut,100);return}if(console.log("Container ready, initializing chart...",{containerWidth:X,containerHeight:at}),(!S.current||!_.current)&&!A()){console.error("Chart initialization failed"),v(!1);return}requestAnimationFrame(()=>{if(!P||!_.current){console.warn("Chart series no longer available");return}h.chartData&&h.chartData.length>0&&(console.log("Updating chart with",h.chartData.length,"data points"),U(h.chartData)?(v(!0),console.log("Chart ready and displayed"),setTimeout(()=>{if(P&&_.current)try{h.current&&R(h.current),h.high&&h.low&&(q(h.high,h.low),console.log("Fibonacci levels added"))}catch(bt){console.error("Error adding price lines:",bt)}},300)):(console.error("Failed to update chart with data"),v(!1)))})};return Y=setTimeout(ut,50),()=>{P=!1,Y&&clearTimeout(Y)}},[m,h?.chartData?.length,h?.high,h?.low]),N.useEffect(()=>{let P=!0;const Y=setTimeout(()=>{P&&n&&E()},500);return()=>{P=!1,clearTimeout(Y)}},[]),N.useEffect(()=>()=>{if(S.current){try{S.current.remove()}catch(P){console.warn("Error removing chart on unmount:",P)}S.current=null,_.current=null}},[]);const{positiveLevels:V=[],negativeLevels:nt=[]}=h?F(h.high,h.low):{};return f.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:" Fibonacci Retracement Calculator"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Calculate Fibonacci levels with real-time market data"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Market Data Input"}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{htmlFor:"symbol",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Symbol (Stock/Crypto)"}),f.jsx("input",{type:"text",id:"symbol",value:n,onChange:P=>t(P.target.value),onKeyPress:Q,placeholder:"e.g., AAPL, TSLA, BTC-USD",className:"w-full px-4 py-2.5 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-colors"})]}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time Period"}),f.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-2 border-blue-500 dark:border-blue-400 rounded-lg text-center text-base font-semibold text-blue-600 dark:text-blue-400",children:"Year to Date (YTD)"})]}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Fibonacci Anchor"}),f.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-2 border-blue-500 dark:border-blue-400 rounded-lg text-center text-base font-semibold text-blue-600 dark:text-blue-400",children:"First Trading Day of Year"})]}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Decimal Precision"}),f.jsx("div",{className:"flex gap-2",children:[2,3].map(P=>f.jsx("button",{className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition-all ${e===P?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-gray-300 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400"}`,onClick:()=>i(P),children:P},P))})]}),f.jsx("button",{className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all disabled:opacity-60 disabled:cursor-not-allowed mt-2",onClick:E,disabled:r,children:r?"Calculating...":"Calculate Fibonacci Levels"}),f.jsx("div",{className:"mt-5 p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400 rounded",children:f.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:[f.jsx("strong",{children:"How to use:"})," Enter a stock symbol (e.g., AAPL, GOOGL) or crypto symbol (e.g., BTC-USD, ETH-USD) and click calculate. Fibonacci levels will be anchored to the first trading day of the current year."]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Current Market Data"}),h&&f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-5 rounded-lg border border-gray-200 dark:border-gray-600 mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[h.symbol," - ",h.anchorInfo?.split("(")[0].trim()||"Period High/Low"]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Current Price:"}),f.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.current.toFixed(e)]})]}),f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Period High:"}),f.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.high.toFixed(e)]})]}),f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Period Low:"}),f.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",h.low.toFixed(e)]})]}),f.jsxs("div",{className:"flex justify-between items-center py-2",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Range:"}),f.jsxs("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[h.currency," ",(h.high-h.low).toFixed(e),"(",((h.high-h.low)/h.low*100).toFixed(2),"%)"]})]})]})]}),c&&f.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 rounded text-sm mb-4",children:c}),r&&f.jsx("div",{className:"text-center py-6 text-blue-600 dark:text-blue-400 font-medium",children:"Fetching market data..."})]})]}),m&&h&&f.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[450px_1fr] gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Fibonacci Extension Levels"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-3 text-sm",children:" Positive Levels"}),f.jsx("div",{className:"space-y-2",children:V.map((P,Y)=>f.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded border border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[f.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:P.label}),f.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:P.price.toFixed(e)})]},Y))})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-3 text-sm",children:" Negative Levels"}),f.jsx("div",{className:"space-y-2",children:nt.map((P,Y)=>f.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 dark:bg-gray-700/50 rounded border border-gray-200 dark:border-gray-600 hover:border-blue-500 dark:hover:border-blue-400 transition-colors",children:[f.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:P.label}),f.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:P.price.toFixed(e)})]},Y))})]})]}),f.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400 rounded",children:f.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:[f.jsx("strong",{children:"Fibonacci Anchoring:"})," BULLISH candle: 0 = Low, 1 = High. BEARISH candle: 0 = High, 1 = Low. Levels extend from these anchor points."]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200 dark:border-gray-700",children:"Price Chart"}),r&&f.jsx("div",{className:"text-center py-6 text-blue-600 dark:text-blue-400 font-medium",children:"Loading chart data..."}),c&&f.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 rounded text-sm mb-4",children:c}),m&&h&&h.chartData&&f.jsx("div",{ref:k,className:"w-full relative bg-white dark:bg-gray-800",style:{height:"600px",width:"100%",minHeight:"600px",position:"relative",display:"block"},children:!y&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500 dark:text-gray-400 z-10 bg-white dark:bg-gray-800 rounded",style:{zIndex:10,pointerEvents:"none"},children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-200 border-t-blue-600 mx-auto mb-2"}),f.jsx("p",{children:"Initializing chart..."})]})})})]})]})]})}function S6(){return f.jsx(B_,{children:f.jsx(m_,{children:f.jsxs(Si,{path:"/",element:f.jsx(Q_,{}),children:[f.jsx(Si,{index:!0,element:f.jsx(Q4,{})}),f.jsx(Si,{path:"news",element:f.jsx(sM,{})}),f.jsx(Si,{path:"trading",element:f.jsx(H5,{})}),f.jsxs(Si,{path:"projection",children:[f.jsx(Si,{index:!0,element:f.jsx(tD,{})}),f.jsx(Si,{path:"fib",element:f.jsx(w6,{})})]}),f.jsx(Si,{path:"data",element:f.jsx(eD,{})}),f.jsx(Si,{path:"api",element:f.jsx(rD,{})}),f.jsx(Si,{path:"settings",element:f.jsx(hD,{})}),f.jsx(Si,{path:"*",element:f.jsx(d_,{to:"/",replace:!0})})]})})})}vN.createRoot(document.getElementById("root")).render(f.jsx(N.StrictMode,{children:f.jsx(S6,{})}));typeof window<"u"&&hN(()=>import("./index-CbgQ1z-m.js"),[],import.meta.url).then(n=>{n.default&&typeof n.default=="function"&&n.default()}).catch(n=>{console.warn("Preline UI could not be loaded:",n)});
